{
  "timestamp": "20250822_090333",
  "level": "integration",
  "environment": "local",
  "services": {
    "backend": {
      "success": false,
      "duration": 41.7131462097168,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function\ncollected 6026 items / 477 errors / 1 skipped\n\n=================================== ERRORS ====================================\n_____ ERROR collecting tests/agents/test_llm_agent_e2e_real_refactored.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_llm_agent_e2e_real_refactored.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_llm_agent_e2e_real_refactored.py:38: in <module>\n    from netra_backend.tests.test_llm_agent_advanced_integration import (\nE   ImportError: cannot import name 'test_tool_execution_with_llm' from 'netra_backend.tests.test_llm_agent_advanced_integration' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_llm_agent_advanced_integration.py)\n____________ ERROR collecting tests/agents/test_production_tool.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_production_tool.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_production_tool.py:13: in <module>\n    from netra_backend.tests.tool_dispatcher_assertions import (\nE   ImportError: cannot import name 'assert_tool_execute_response_error' from 'netra_backend.tests.tool_dispatcher_assertions' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\tool_dispatcher_assertions.py)\n______ ERROR collecting tests/agents/test_production_tool_operations.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_production_tool_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_production_tool_operations.py:13: in <module>\n    from netra_backend.tests.tool_dispatcher_assertions import (\nE   ImportError: cannot import name 'assert_corpus_search_success' from 'netra_backend.tests.tool_dispatcher_assertions' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\tool_dispatcher_assertions.py)\n__________ ERROR collecting tests/agents/test_supervisor_advanced.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_advanced.py:30: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'ExecutionStrategy' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n___________ ERROR collecting tests/agents/test_supervisor_basic.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_basic.py:28: in <module>\n    from netra_backend.tests.supervisor_extensions import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supervisor_extensions'\n________ ERROR collecting tests/agents/test_supervisor_corpus_data.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_corpus_data.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_corpus_data.py:28: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'ExecutionStrategy' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n_______ ERROR collecting tests/agents/test_supervisor_error_handling.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_error_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_error_handling.py:27: in <module>\n    from netra_backend.tests.supervisor_extensions import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supervisor_extensions'\n_______ ERROR collecting tests/agents/test_supervisor_orchestration.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_orchestration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_orchestration.py:14: in <module>\n    from netra_backend.tests.test_supervisor_basic import TestSupervisorOrchestration\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_supervisor_basic'\n__________ ERROR collecting tests/agents/test_supervisor_patterns.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_patterns.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_patterns.py:28: in <module>\n    from netra_backend.tests.supervisor_extensions import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supervisor_extensions'\n_______ ERROR collecting tests/agents/test_supervisor_prompts_utils.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_prompts_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_prompts_utils.py:28: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'ExecutionStrategy' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n_______ ERROR collecting tests/agents/test_supervisor_quality_admin.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_quality_admin.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_quality_admin.py:28: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'ExecutionStrategy' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n__________ ERROR collecting tests/agents/test_supervisor_routing.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supervisor_routing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supervisor_routing.py:28: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'ExecutionStrategy' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n_____ ERROR collecting tests/agents/test_supply_researcher_agent_core.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_agent_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_agent_core.py:17: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import (\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n___ ERROR collecting tests/agents/test_supply_researcher_agent_execution.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_agent_execution.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_agent_execution.py:17: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import (\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n________ ERROR collecting tests/agents/test_supply_researcher_core.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_core.py:19: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import ResearchType\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n___ ERROR collecting tests/agents/test_supply_researcher_error_handling.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_error_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_error_handling.py:16: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n___ ERROR collecting tests/agents/test_supply_researcher_infrastructure.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_infrastructure.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_infrastructure.py:18: in <module>\n    from netra_backend.tests.supply_researcher_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supply_researcher_fixtures'\n_____ ERROR collecting tests/agents/test_supply_researcher_integration.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_integration.py:14: in <module>\n    from background import BackgroundTaskManager\nE   ModuleNotFoundError: No module named 'background'\n_____ ERROR collecting tests/agents/test_supply_researcher_management.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_management.py:16: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import ResearchType\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n_____ ERROR collecting tests/agents/test_supply_researcher_persistence.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_persistence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_persistence.py:19: in <module>\n    from netra_backend.tests.supply_researcher_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supply_researcher_fixtures'\n______ ERROR collecting tests/agents/test_supply_researcher_scheduler.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_scheduler.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_scheduler.py:14: in <module>\n    from background import BackgroundTaskManager\nE   ModuleNotFoundError: No module named 'background'\n______ ERROR collecting tests/agents/test_supply_researcher_security.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_supply_researcher_security.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_supply_researcher_security.py:17: in <module>\n    from netra_backend.tests.supply_researcher_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.supply_researcher_fixtures'\n__ ERROR collecting tests/agents/test_tool_dispatcher_advanced_operations.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_tool_dispatcher_advanced_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_tool_dispatcher_advanced_operations.py:16: in <module>\n    from netra_backend.tests.tool_dispatcher_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_dispatcher_helpers'\n____ ERROR collecting tests/agents/test_tool_dispatcher_core_operations.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_tool_dispatcher_core_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_tool_dispatcher_core_operations.py:12: in <module>\n    from netra_backend.tests.tool_dispatcher_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_dispatcher_helpers'\n______ ERROR collecting tests/agents/test_tool_dispatcher_edge_cases.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_tool_dispatcher_edge_cases.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_tool_dispatcher_edge_cases.py:12: in <module>\n    from netra_backend.tests.tool_dispatcher_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_dispatcher_helpers'\n____ ERROR collecting tests/agents/test_tool_dispatcher_initialization.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_tool_dispatcher_initialization.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_tool_dispatcher_initialization.py:11: in <module>\n    from netra_backend.tests.tool_dispatcher_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_dispatcher_helpers'\n_________ ERROR collecting tests/agents/test_triage_caching_async.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_caching_async.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_caching_async.py:21: in <module>\n    from netra_backend.tests.triage_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.triage_test_helpers'\n________ ERROR collecting tests/agents/test_triage_edge_performance.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_edge_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_edge_performance.py:26: in <module>\n    from netra_backend.tests.triage_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.triage_test_helpers'\n_________ ERROR collecting tests/agents/test_triage_entity_intent.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_entity_intent.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_entity_intent.py:16: in <module>\n    from netra_backend.tests.triage_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.triage_test_helpers'\n________ ERROR collecting tests/agents/test_triage_init_validation.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_init_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_init_validation.py:18: in <module>\n    from netra_backend.tests.triage_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.triage_test_helpers'\n____ ERROR collecting tests/agents/test_triage_sub_agent_comprehensive.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_sub_agent_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_sub_agent_comprehensive.py:19: in <module>\n    from netra_backend.tests.test_triage_caching_async import *\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_triage_caching_async'\n________ ERROR collecting tests/agents/test_triage_sub_agent_index.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_triage_sub_agent_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_triage_sub_agent_index.py:14: in <module>\n    from netra_backend.tests.test_triage_agent_caching import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_triage_agent_caching'\n_ ERROR collecting tests/auth_integration/test_real_user_session_management_helpers.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\auth_integration\\test_real_user_session_management_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\auth_integration\\test_real_user_session_management_helpers.py:36: in <module>\n    from clients.auth_client_core import AuthServiceClient\nE   ModuleNotFoundError: No module named 'clients'\n____ ERROR collecting tests/clickhouse/test_clickhouse_array_operations.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_array_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_array_operations.py:18: in <module>\n    from netra_backend.tests.realistic_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.realistic_test_fixtures'\n_______ ERROR collecting tests/clickhouse/test_clickhouse_connection.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_connection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_connection.py:14: in <module>\n    from clickhouse.test_clickhouse_permissions import (\nE   ModuleNotFoundError: No module named 'clickhouse'\n_________ ERROR collecting tests/clickhouse/test_clickhouse_corpus.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_corpus.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_corpus.py:14: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_________ ERROR collecting tests/clickhouse/test_clickhouse_errors.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_errors.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_errors.py:12: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/clickhouse/test_clickhouse_performance.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_performance.py:18: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n________ ERROR collecting tests/clickhouse/test_clickhouse_workload.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_clickhouse_workload.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_clickhouse_workload.py:18: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/clickhouse/test_corpus_generation_coverage_index.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_corpus_generation_coverage_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_corpus_generation_coverage_index.py:14: in <module>\n    from netra_backend.tests.test_corpus_content_ops import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_corpus_content_ops'\n______ ERROR collecting tests/clickhouse/test_corpus_table_operations.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_corpus_table_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_corpus_table_operations.py:14: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___________ ERROR collecting tests/clickhouse/test_data_manager.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_data_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_data_manager.py:15: in <module>\n    from netra_backend.tests.data_generator import RealisticDataGenerator\nE   ModuleNotFoundError: No module named 'netra_backend.tests.data_generator'\n______ ERROR collecting tests/clickhouse/test_llm_metrics_aggregation.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_llm_metrics_aggregation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_llm_metrics_aggregation.py:14: in <module>\n    from netra_backend.tests.realistic_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.realistic_test_fixtures'\n__ ERROR collecting tests/clickhouse/test_performance_metrics_extraction.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_performance_metrics_extraction.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_performance_metrics_extraction.py:20: in <module>\n    from netra_backend.tests.realistic_test_fixtures import validate_array_query_syntax\nE   ModuleNotFoundError: No module named 'netra_backend.tests.realistic_test_fixtures'\n__ ERROR collecting tests/clickhouse/test_real_clickhouse_error_handling.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_real_clickhouse_error_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_real_clickhouse_error_handling.py:12: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/clickhouse/test_realistic_log_ingestion.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_realistic_log_ingestion.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_realistic_log_ingestion.py:16: in <module>\n    from netra_backend.tests.realistic_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.realistic_test_fixtures'\n____ ERROR collecting tests/clickhouse/test_workload_events_operations.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\clickhouse\\test_workload_events_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\clickhouse\\test_workload_events_operations.py:12: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n__________ ERROR collecting tests/config/test_config_environment.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\config\\test_config_environment.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\config\\test_config_environment.py:31: in <module>\n    from config_environment import ConfigEnvironment\nE   ModuleNotFoundError: No module named 'config_environment'\n_____________ ERROR collecting tests/config/test_config_loader.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\config\\test_config_loader.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\config\\test_config_loader.py:32: in <module>\n    from config_loader import (\nE   ModuleNotFoundError: No module named 'config_loader'\n________ ERROR collecting tests/config/test_config_secrets_manager.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\config\\test_config_secrets_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\config\\test_config_secrets_manager.py:30: in <module>\n    from config_secrets_manager import ConfigSecretsManager\nE   ModuleNotFoundError: No module named 'config_secrets_manager'\n__________ ERROR collecting tests/core/test_async_batch_processor.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_batch_processor.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_batch_processor.py:16: in <module>\n    from helpers.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'helpers'\n__________ ERROR collecting tests/core/test_async_connection_pool.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_connection_pool.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_connection_pool.py:18: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n_______ ERROR collecting tests/core/test_async_integration_scenarios.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_integration_scenarios.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_integration_scenarios.py:25: in <module>\n    from netra_backend.tests.core.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.core.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\helpers\\shared_test_types.py)\n_______ ERROR collecting tests/core/test_async_lock_circuit_breaker.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_lock_circuit_breaker.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_lock_circuit_breaker.py:17: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n___________ ERROR collecting tests/core/test_async_rate_limiter.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_rate_limiter.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_rate_limiter.py:17: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n_________ ERROR collecting tests/core/test_async_resource_manager.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_resource_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_resource_manager.py:16: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n_____________ ERROR collecting tests/core/test_async_task_pool.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_task_pool.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_task_pool.py:19: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n___________ ERROR collecting tests/core/test_async_timeout_retry.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_timeout_retry.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_timeout_retry.py:22: in <module>\n    from netra_backend.tests.async_utils_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.async_utils_helpers'\n_______________ ERROR collecting tests/core/test_async_utils.py _______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_async_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_async_utils.py:14: in <module>\n    from core.test_async_batch_processor import TestAsyncBatchProcessor\nE   ModuleNotFoundError: No module named 'core'\n___________ ERROR collecting tests/core/test_missing_tests_final.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_missing_tests_final.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_missing_tests_final.py:16: in <module>\n    from netra_backend.tests.core_test_helpers import create_mock_config\nE   ModuleNotFoundError: No module named 'netra_backend.tests.core_test_helpers'\n__________ ERROR collecting tests/core/test_system_health_monitor.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\core\\test_system_health_monitor.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\core\\test_system_health_monitor.py:17: in <module>\n    from netra_backend.app.core.system_health_monitor import (\napp\\core\\system_health_monitor.py:32: in <module>\n    from netra_backend.app.services.observability.alert_manager import HealthAlertManager\nE   ImportError: cannot import name 'HealthAlertManager' from 'netra_backend.app.services.observability.alert_manager' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\observability\\alert_manager.py)\n____ ERROR collecting tests/critical/test_config_environment_detection.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\critical\\test_config_environment_detection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\critical\\test_config_environment_detection.py:23: in <module>\n    from netra_backend.app.core.configuration.environment import ConfigEnvironment\nE   ImportError: cannot import name 'ConfigEnvironment' from 'netra_backend.app.core.configuration.environment' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\configuration\\environment.py)\n_________ ERROR collecting tests/critical/test_config_loader_core.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\critical\\test_config_loader_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\critical\\test_config_loader_core.py:23: in <module>\n    from cloud_environment_detector import (\nE   ModuleNotFoundError: No module named 'cloud_environment_detector'\n_______ ERROR collecting tests/critical/test_config_secrets_manager.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\critical\\test_config_secrets_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\critical\\test_config_secrets_manager.py:23: in <module>\n    from config_secrets_manager import ConfigSecretsManager\nE   ModuleNotFoundError: No module named 'config_secrets_manager'\n____ ERROR collecting tests/critical/test_websocket_message_regression.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\critical\\test_websocket_message_regression.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\critical\\test_websocket_message_regression.py:23: in <module>\n    from ws_manager import manager\nE   ModuleNotFoundError: No module named 'ws_manager'\n____ ERROR collecting tests/critical/test_websocket_metrics_regression.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\critical\\test_websocket_metrics_regression.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\critical\\test_websocket_metrics_regression.py:19: in <module>\n    from monitoring import WebSocketMetrics\nE   ModuleNotFoundError: No module named 'monitoring'\n__ ERROR collecting tests/database/test_repositories_comprehensive_index.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\database\\test_repositories_comprehensive_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\database\\test_repositories_comprehensive_index.py:14: in <module>\n    from netra_backend.tests.test_database_connections import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_database_connections'\n____________ ERROR collecting tests/e2e/test_agent_message_flow.py ____________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_agent_message_flow.py\", line 296\nE       async def test_complete_user_message_to_agent_response_flow(:\nE                                                                   ^\nE   SyntaxError: invalid syntax\n_________ ERROR collecting tests/e2e/test_agent_scaling_workflows.py __________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_agent_scaling_workflows.py:14: in <module>\n    from netra_backend.tests.e2e.test_capacity_planning import TestCapacityPlanningWorkflows\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_capacity_planning.py\", line 24\nE       create_gradual_scaling_state,\nE   IndentationError: unexpected indent\n____________ ERROR collecting tests/e2e/test_capacity_planning.py _____________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_capacity_planning.py\", line 24\nE       create_gradual_scaling_state,\nE   IndentationError: unexpected indent\n___________ ERROR collecting tests/e2e/test_example_prompts_real.py ___________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_example_prompts_real.py:14: in <module>\n    from netra_backend.tests.e2e.example_prompts_core import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\example_prompts_core.py\", line 10\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n_____ ERROR collecting tests/e2e/test_latency_optimization_edge_cases.py ______\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_latency_optimization_edge_cases.py\", line 15\nE       create_3x_latency_state,\nE   IndentationError: unexpected indent\n___ ERROR collecting tests/e2e/test_latency_optimization_workflows_core.py ____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_latency_optimization_workflows_core.py\", line 23\nE       create_3x_latency_state,\nE   IndentationError: unexpected indent\n______ ERROR collecting tests/e2e/test_model_effectiveness_workflows.py _______\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_model_effectiveness_workflows.py\", line 53\nE       ActionsToMeetGoalsSubAgent,\nE   IndentationError: unexpected indent\n________ ERROR collecting tests/e2e/test_model_selection_workflows.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_model_selection_workflows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\e2e\\test_model_selection_workflows.py:14: in <module>\n    from netra_backend.tests.chat_optimization_tests import TestRealTimeChatOptimization\nE   ModuleNotFoundError: No module named 'netra_backend.tests.chat_optimization_tests'\n_______ ERROR collecting tests/e2e/test_multi_constraint_edge_cases.py ________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_edge_cases.py:17: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n________ ERROR collecting tests/e2e/test_multi_constraint_integrity.py ________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_integrity.py:16: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n________ ERROR collecting tests/e2e/test_multi_constraint_kv_cache.py _________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_kv_cache.py:18: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n______ ERROR collecting tests/e2e/test_multi_constraint_optimization.py _______\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_optimization.py:16: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n________ ERROR collecting tests/e2e/test_multi_constraint_priority.py _________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_priority.py:16: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n_________ ERROR collecting tests/e2e/test_multi_constraint_system.py __________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_system.py:17: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n________ ERROR collecting tests/e2e/test_multi_constraint_workflows.py ________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\e2e\\test_multi_constraint_workflows.py:17: in <module>\n    from netra_backend.tests.e2e.multi_constraint_test_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\multi_constraint_test_helpers.py\", line 8\nE       from netra_backend.app.websocket.connection_manager import ConnectionManager as WebSocketManager\nE       ^^^^\nE   SyntaxError: invalid syntax\n______________ ERROR collecting tests/e2e/test_multi_service.py _______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_multi_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\e2e\\test_multi_service.py:39: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n___________ ERROR collecting tests/e2e/test_rate_limit_analysis.py ____________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_rate_limit_analysis.py\", line 18\nE       create_multi_provider_state,\nE   IndentationError: unexpected indent\n____________ ERROR collecting tests/e2e/test_thread_management.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_thread_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\e2e\\test_thread_management.py:18: in <module>\n    from ws_manager import manager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_____ ERROR collecting tests/examples/test_database_fixtures_examples.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\examples\\test_database_fixtures_examples.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\examples\\test_database_fixtures_examples.py:19: in <module>\n    from netra_backend.tests.database_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_test_fixtures'\n_____ ERROR collecting tests/examples/test_real_functionality_examples.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\examples\\test_real_functionality_examples.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\examples\\test_real_functionality_examples.py:35: in <module>\n    from database.database_manager import get_database_session\nE   ModuleNotFoundError: No module named 'database'\n_ ERROR collecting tests/helpers/test_agent_orchestration_pytest_fixtures.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\helpers\\test_agent_orchestration_pytest_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\helpers\\test_agent_orchestration_pytest_fixtures.py:19: in <module>\n    from netra_backend.tests.test_agent_orchestration_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_orchestration_fixtures'\n_ ERROR collecting tests/integration/critical_paths/test_auth_brute_force_protection.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_brute_force_protection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_brute_force_protection.py:19: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_ ERROR collecting tests/integration/critical_paths/test_auth_cache_invalidation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_cache_invalidation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_cache_invalidation.py:44: in <module>\n    from ws_manager import get_manager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_auth_config_availability.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\critical_paths\\test_auth_config_availability.py:31: in <module>\n    from netra_backend.tests.integration.helpers.redis_l3_helpers import RedisContainer\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_ ERROR collecting tests/integration/critical_paths/test_auth_config_hot_reload.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\critical_paths\\test_auth_config_hot_reload.py:32: in <module>\n    from netra_backend.tests.integration.helpers.redis_l3_helpers import RedisContainer\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_ ERROR collecting tests/integration/critical_paths/test_auth_middleware_chain_validation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:41: in <module>\n    from netra_backend.app.core.monitoring import metrics_collector\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.monitoring'\n_ ERROR collecting tests/integration/critical_paths/test_auth_role_based_access_flow_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:40: in <module>\n    from netra_backend.app.schemas.auth_types import (\nE   ImportError: cannot import name 'UserProfile' from 'netra_backend.app.schemas.auth_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\schemas\\auth_types.py)\n_ ERROR collecting tests/integration/critical_paths/test_auth_service_circuit_breaker_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_circuit_breaker_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_service_circuit_breaker_cascade.py:28: in <module>\n    from clients.auth_client_cache import AuthCircuitBreakerManager\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_auth_service_failover_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:21: in <module>\n    from netra_backend.app.services.auth_failover_service import AuthFailoverService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_failover_service'\n_ ERROR collecting tests/integration/critical_paths/test_auth_service_health_dependencies.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_health_dependencies.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_service_health_dependencies.py:31: in <module>\n    from testcontainers.generic import GenericContainer\nE   ImportError: cannot import name 'GenericContainer' from 'testcontainers.generic' (C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\testcontainers\\generic\\__init__.py)\n_ ERROR collecting tests/integration/critical_paths/test_auth_service_initialization_health_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_initialization_health_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_service_initialization_health_l4.py:33: in <module>\n    from cache.redis_manager import RedisManager\nE   ModuleNotFoundError: No module named 'cache'\n_ ERROR collecting tests/integration/critical_paths/test_auth_service_recovery_crash.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:39: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_auth_session_lifecycle_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:23: in <module>\n    from netra_backend.app.models.session import Session\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n_ ERROR collecting tests/integration/critical_paths/test_auth_session_persistence.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_persistence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_session_persistence.py:20: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_ ERROR collecting tests/integration/critical_paths/test_auth_token_lifecycle.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_token_lifecycle.py:21: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_ ERROR collecting tests/integration/critical_paths/test_auth_token_refresh_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_token_refresh_flow.py:22: in <module>\n    from netra_backend.app.core.auth import TokenManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.auth'\n_ ERROR collecting tests/integration/critical_paths/test_auth_token_refresh_high_load.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:40: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_auth_token_validation_cross_service.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_validation_cross_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_auth_token_validation_cross_service.py:42: in <module>\n    from netra_backend.app.middleware.auth_middleware import AuthMiddleware\nE   ModuleNotFoundError: No module named 'netra_backend.app.middleware.auth_middleware'\n_ ERROR collecting tests/integration/critical_paths/test_authentication_authorization.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_authentication_authorization.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_authentication_authorization.py:28: in <module>\n    from auth_integration import (\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_basic_system_cold_startup.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_basic_system_cold_startup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_basic_system_cold_startup.py:37: in <module>\n    from netra_backend.app.db.client_clickhouse import clickhouse_client\nE   ImportError: cannot import name 'clickhouse_client' from 'netra_backend.app.db.client_clickhouse' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\db\\client_clickhouse.py)\n_ ERROR collecting tests/integration/critical_paths/test_billing_accuracy_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_billing_accuracy_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_billing_accuracy_l4.py:38: in <module>\n    from netra_backend.tests.config import TEST_CONFIG, TestTier  # Comment out since config structure may vary\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   ImportError: cannot import name 'TEST_CONFIG' from 'netra_backend.tests.config' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\config\\__init__.py)\n_ ERROR collecting tests/integration/critical_paths/test_billing_usage_accuracy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_billing_usage_accuracy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_billing_usage_accuracy.py:29: in <module>\n    from netra_backend.app.schemas.billing import BillingTier, Invoice, UsageEvent\nE   ModuleNotFoundError: No module named 'netra_backend.app.schemas.billing'\n_ ERROR collecting tests/integration/critical_paths/test_business_critical_flows_l2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_business_critical_flows_l2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_business_critical_flows_l2.py:32: in <module>\n    from netra_backend.app.core.exceptions_base import NetraException, PaymentException\nE   ImportError: cannot import name 'PaymentException' from 'netra_backend.app.core.exceptions_base' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\exceptions_base.py)\n_ ERROR collecting tests/integration/critical_paths/test_cache_coherence_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_coherence_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_coherence_l4.py:43: in <module>\n    from netra_backend.tests.config import TEST_CONFIG  # Comment out since config structure may vary\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   ImportError: cannot import name 'TEST_CONFIG' from 'netra_backend.tests.config' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\config\\__init__.py)\n_ ERROR collecting tests/integration/critical_paths/test_cache_consistency_across_regions.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_consistency_across_regions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_consistency_across_regions.py:35: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cache_invalidation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_invalidation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_invalidation.py:28: in <module>\n    from netra_backend.app.services.cache.cache_manager import CacheManager\nE   ImportError: cannot import name 'CacheManager' from 'netra_backend.app.services.cache.cache_manager' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\cache\\cache_manager.py)\n_ ERROR collecting tests/integration/critical_paths/test_cache_key_collision_handling.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_key_collision_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_key_collision_handling.py:37: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cache_serialization_performance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_serialization_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_serialization_performance.py:38: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cache_stampede_prevention.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_stampede_prevention.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_stampede_prevention.py:36: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cache_ttl_expiration_accuracy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_ttl_expiration_accuracy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_ttl_expiration_accuracy.py:35: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cache_warming_strategy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cache_warming_strategy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cache_warming_strategy.py:36: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_circuit_breaker_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_circuit_breaker_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_circuit_breaker_cascade.py:39: in <module>\n    from netra_backend.app.services.websocket.connection_manager import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.websocket.connection_manager'\n_ ERROR collecting tests/integration/critical_paths/test_compliance_audit_trail_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_compliance_audit_trail_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_compliance_audit_trail_l4.py:56: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_concurrent_auth_rate_limiting.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\critical_paths\\test_concurrent_auth_rate_limiting.py:30: in <module>\n    from netra_backend.tests.integration.helpers.redis_l3_helpers import RedisContainer\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_ ERROR collecting tests/integration/critical_paths/test_concurrent_editing_performance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_editing_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_concurrent_editing_performance.py:24: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.test_helpers.team_collaboration_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_concurrent_session_management_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:23: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_ ERROR collecting tests/integration/critical_paths/test_concurrent_user_login_sessions.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:39: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_config_hot_reload_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_config_hot_reload_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_config_hot_reload_l4.py:34: in <module>\n    from netra_backend.app.core.config import Settings\nE   ImportError: cannot import name 'Settings' from 'netra_backend.app.core.config' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\config.py)\n_ ERROR collecting tests/integration/critical_paths/test_configuration_hot_reload.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_configuration_hot_reload.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_configuration_hot_reload.py:31: in <module>\n    from netra_backend.app.core.config import Settings\nE   ImportError: cannot import name 'Settings' from 'netra_backend.app.core.config' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\config.py)\n_ ERROR collecting tests/integration/critical_paths/test_configuration_hot_reload_l3.py _\ntests\\integration\\critical_paths\\test_configuration_hot_reload_l3.py:262: in <module>\n    class ConfigurationHotReloader:\ntests\\integration\\critical_paths\\test_configuration_hot_reload_l3.py:440: in ConfigurationHotReloader\n    async def test_concurrent_reloads(self, config_changes: List[Tuple[ConfigurationType, Dict[str, Any]]]) -> Dict[str, Any]:\n                                                                 ^^^^^\nE   NameError: name 'Tuple' is not defined\n_ ERROR collecting tests/integration/critical_paths/test_core_system_initialization.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_core_system_initialization.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_core_system_initialization.py:29: in <module>\n    from netra_backend.app.core.config import Settings\nE   ImportError: cannot import name 'Settings' from 'netra_backend.app.core.config' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\config.py)\n_ ERROR collecting tests/integration/critical_paths/test_cors_auth_service_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cors_auth_service_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cors_auth_service_l4.py:30: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cost_tracking_billing_pipeline.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cost_tracking_billing_pipeline.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cost_tracking_billing_pipeline.py:36: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_cross_region_consistency_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_region_consistency_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cross_region_consistency_l4.py:45: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_cross_service_auth_propagation_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:23: in <module>\n    from netra_backend.app.services.api_gateway_service import APIGatewayService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.api_gateway_service'\n_ ERROR collecting tests/integration/critical_paths/test_cross_service_config_consistency.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_config_consistency.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_cross_service_config_consistency.py:33: in <module>\n    from netra_backend.app.core.cache.redis_manager import RedisManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.cache'\n_ ERROR collecting tests/integration/critical_paths/test_dashboard_query_performance.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dashboard_query_performance.py\", line 880\nE       \nE       ^\nE   SyntaxError: invalid syntax\n_ ERROR collecting tests/integration/critical_paths/test_data_consistency_cross_db.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_data_consistency_cross_db.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_data_consistency_cross_db.py:20: in <module>\n    from netra_backend.app.services.postgres_service import PostgresService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.postgres_service'\n_ ERROR collecting tests/integration/critical_paths/test_data_consistency_services.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_data_consistency_services.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_data_consistency_services.py:29: in <module>\n    from netra_backend.app.services.data.conflict_resolver import ConflictResolver\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.data'\n_ ERROR collecting tests/integration/critical_paths/test_data_migration_integrity_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_data_migration_integrity_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_data_migration_integrity_l4.py:40: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_data_persistence_postgres.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_data_persistence_postgres.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_data_persistence_postgres.py:20: in <module>\n    from netra_backend.app.services.postgres_service import PostgresService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.postgres_service'\n_ ERROR collecting tests/integration/critical_paths/test_database_migration_core.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_migration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_database_migration_core.py:31: in <module>\n    from netra_backend.app.services.database.backup_service import BackupService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.database.backup_service'\n_ ERROR collecting tests/integration/critical_paths/test_database_migration_rollback.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_migration_rollback.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_database_migration_rollback.py:31: in <module>\n    from netra_backend.app.services.database.backup_service import BackupService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.database.backup_service'\n_ ERROR collecting tests/integration/critical_paths/test_database_sharding_strategy_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_sharding_strategy_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_database_sharding_strategy_l4.py:40: in <module>\n    from netra_backend.app.db.models_content import Message, Thread\nE   ImportError: cannot import name 'Message' from 'netra_backend.app.db.models_content' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\db\\models_content.py)\n_ ERROR collecting tests/integration/critical_paths/test_database_transaction_integrity_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:23: in <module>\n    from netra_backend.app.services.database_service import DatabaseService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.database_service'\n_ ERROR collecting tests/integration/critical_paths/test_dev_login_cold_start.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_login_cold_start.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_dev_login_cold_start.py:35: in <module>\n    from auth_dependencies import get_db_session, get_security_service\nE   ModuleNotFoundError: No module named 'auth_dependencies'\n_ ERROR collecting tests/integration/critical_paths/test_disaster_recovery_failover_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py:59: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_distributed_auth_state_sync_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:39: in <module>\n    from netra_backend.app.schemas.auth_types import (\nE   ImportError: cannot import name 'SessionState' from 'netra_backend.app.schemas.auth_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\schemas\\auth_types.py)\n_ ERROR collecting tests/integration/critical_paths/test_distributed_lock_contention.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_lock_contention.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_distributed_lock_contention.py:36: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_distributed_tracing.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_tracing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_distributed_tracing.py:26: in <module>\n    from opentelemetry.exporter.jaeger.thrift import JaegerExporter\nE   ModuleNotFoundError: No module named 'opentelemetry.exporter.jaeger'\n_ ERROR collecting tests/integration/critical_paths/test_enterprise_resource_isolation_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:41: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_error_circuit_breakers.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_circuit_breakers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_circuit_breakers.py:28: in <module>\n    from netra_backend.app.services.circuit_breaker.circuit_breaker_service import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.circuit_breaker.circuit_breaker_service'\n_ ERROR collecting tests/integration/critical_paths/test_error_database_failures.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_database_failures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_database_failures.py:19: in <module>\n    from netra_backend.app.services.database_service import DatabaseService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.database_service'\n_ ERROR collecting tests/integration/critical_paths/test_error_network_failures.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_network_failures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_network_failures.py:19: in <module>\n    from netra_backend.app.services.api_client import APIClient\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.api_client'\n_ ERROR collecting tests/integration/critical_paths/test_error_recovery_mechanisms.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_recovery_mechanisms.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_recovery_mechanisms.py:18: in <module>\n    from netra_backend.app.services.resilience_service import ResilienceService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.resilience_service'\n_ ERROR collecting tests/integration/critical_paths/test_error_recovery_resilience_l2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_recovery_resilience_l2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_recovery_resilience_l2.py:33: in <module>\n    from netra_backend.app.core.exceptions_base import (\nE   ImportError: cannot import name 'ServiceUnavailableException' from 'netra_backend.app.core.exceptions_base' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\exceptions_base.py)\n_ ERROR collecting tests/integration/critical_paths/test_error_validation_failures.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_error_validation_failures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_error_validation_failures.py:19: in <module>\n    from netra_backend.app.services.validation_service import ValidationService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.validation_service'\n_ ERROR collecting tests/integration/critical_paths/test_existing_user_login_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_existing_user_login_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_existing_user_login_flow.py:39: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_ ERROR collecting tests/integration/critical_paths/test_free_to_paid_conversion_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_free_to_paid_conversion_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_free_to_paid_conversion_flow.py:31: in <module>\n    from ws_manager import get_manager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_frontend_initial_auth_flow_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_frontend_initial_auth_flow_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_frontend_initial_auth_flow_l4.py:38: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_health_check_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_health_check_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_health_check_cascade.py:30: in <module>\n    from netra_backend.app.services.monitoring.alerting_service import AlertingService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.monitoring.alerting_service'\n_ ERROR collecting tests/integration/critical_paths/test_jwt_refresh_websocket.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_jwt_refresh_websocket.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_jwt_refresh_websocket.py:30: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_jwt_token_expiry_handling.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_jwt_token_expiry_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_jwt_token_expiry_handling.py:38: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_jwt_token_propagation_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_jwt_token_propagation_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_jwt_token_propagation_l4.py:44: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_llm_agent_orchestration_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py:36: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_message_pipeline_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_pipeline_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_message_pipeline_l4.py:40: in <module>\n    from netra_backend.app.services.messaging.queue_manager import QueueManager\napp\\services\\messaging\\queue_manager.py:6: in <module>\n    from netra_backend.app.services.message_queue import MessageQueue\nE   ImportError: cannot import name 'MessageQueue' from 'netra_backend.app.services.message_queue' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\message_queue.py)\n_ ERROR collecting tests/integration/critical_paths/test_message_processing_pipeline.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_processing_pipeline.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_message_processing_pipeline.py:30: in <module>\n    from auth_integration import create_access_token, validate_token_jwt\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_metrics_prometheus.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_prometheus.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_metrics_prometheus.py:29: in <module>\n    from netra_backend.app.services.monitoring.metrics_service import MetricsService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.monitoring.metrics_service'\n_ ERROR collecting tests/integration/critical_paths/test_multi_device_session_sync.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_device_session_sync.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_device_session_sync.py:30: in <module>\n    from auth_integration import create_access_token, validate_token_jwt\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_multi_service_auth_token_propagation.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\critical_paths\\test_multi_service_auth_token_propagation.py:32: in <module>\n    from netra_backend.tests.integration.helpers.redis_l3_helpers import RedisContainer\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_ ERROR collecting tests/integration/critical_paths/test_multi_service_startup_sequence.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_service_startup_sequence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_service_startup_sequence.py:36: in <module>\n    from netra_backend.app.services.health_checker import HealthChecker\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.health_checker'\n_ ERROR collecting tests/integration/critical_paths/test_multi_service_token_propagation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_service_token_propagation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_service_token_propagation.py:38: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_config_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_config_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_config_isolation.py:32: in <module>\n    from netra_backend.app.core.cache.cache_manager import CacheManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.cache'\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_isolation.py:30: in <module>\n    from auth_integration import require_permission\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_workspace_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_workspace_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_workspace_isolation.py:36: in <module>\n    from auth_integration import require_permission\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_new_user_registration_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_new_user_registration_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_new_user_registration_flow.py:36: in <module>\n    from netra_backend.app.db.postgres import AsyncSessionLocal\nE   ImportError: cannot import name 'AsyncSessionLocal' from 'netra_backend.app.db.postgres' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\db\\postgres.py)\n_ ERROR collecting tests/integration/critical_paths/test_oauth_jwt_websocket_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_oauth_jwt_websocket_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_oauth_jwt_websocket_flow.py:46: in <module>\n    from ws_manager import get_manager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_oauth_jwt_websocket_flow_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_oauth_jwt_websocket_flow_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_oauth_jwt_websocket_flow_l4.py:40: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_oauth_provider_failover_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_oauth_provider_failover_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_oauth_provider_failover_l4.py:39: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_oauth_staging_url_consistency_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_oauth_staging_url_consistency_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_oauth_staging_url_consistency_l4.py:37: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_payment_processing_e2e_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_payment_processing_e2e_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_payment_processing_e2e_l4.py:42: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.test_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_peak_load_autoscaling_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_peak_load_autoscaling_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_peak_load_autoscaling_l4.py:43: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_prometheus_metrics_accuracy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_prometheus_metrics_accuracy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_prometheus_metrics_accuracy.py:34: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.metrics.shared_fixtures import MetricEvent\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_prometheus_metrics_collection.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_prometheus_metrics_collection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_prometheus_metrics_collection.py:25: in <module>\n    from prometheus_client.parser import text_string_to_metric_families\nE   ModuleNotFoundError: No module named 'prometheus_client'\n_ ERROR collecting tests/integration/critical_paths/test_rate_limiting_l4.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_rate_limiting_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_rate_limiting_l4.py:39: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.staging_config.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_rate_limiting_load_protection.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_rate_limiting_load_protection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_rate_limiting_load_protection.py:32: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_redis_cache_invalidation_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_redis_cache_invalidation_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_redis_cache_invalidation_cascade.py:33: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_redis_cache_warming_startup.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_redis_cache_warming_startup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_redis_cache_warming_startup.py:37: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_redis_cluster_resharding.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_redis_cluster_resharding.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_redis_cluster_resharding.py:35: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_redis_memory_pressure_eviction.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_redis_memory_pressure_eviction.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_redis_memory_pressure_eviction.py:36: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_redis_websocket_state_sync.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_redis_websocket_state_sync.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_redis_websocket_state_sync.py:41: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.helpers.redis_l3_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_security_breach_response_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_security_breach_response_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_security_breach_response_l4.py:42: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_service_mesh_discovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_discovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_service_mesh_discovery.py:26: in <module>\n    from netra_backend.tests.integration.service_mesh_fixtures import service_mesh_l4\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.service_mesh_fixtures'\n_ ERROR collecting tests/integration/critical_paths/test_service_mesh_routing.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_routing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_service_mesh_routing.py:27: in <module>\n    from netra_backend.tests.integration.service_mesh_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.service_mesh_fixtures'\n__ ERROR collecting tests/integration/critical_paths/test_session_cleanup.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_cleanup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_cleanup.py:19: in <module>\n    from netra_backend.app.services.session_service import SessionService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.session_service'\n_ ERROR collecting tests/integration/critical_paths/test_session_creation.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_creation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_creation.py:21: in <module>\n    from netra_backend.app.services.session_service import SessionService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.session_service'\n_ ERROR collecting tests/integration/critical_paths/test_session_invalidation_across_services_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_invalidation_across_services_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_invalidation_across_services_l4.py:30: in <module>\n    from l4_staging_critical_base import L4StagingCriticalPathTestBase\nE   ModuleNotFoundError: No module named 'l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_session_invalidation_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_invalidation_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_invalidation_cascade.py:32: in <module>\n    from auth_integration import create_access_token, validate_token_jwt\nE   ModuleNotFoundError: No module named 'auth_integration'\n_ ERROR collecting tests/integration/critical_paths/test_session_management_basic.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_management_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_management_basic.py:22: in <module>\n    from netra_backend.app.services.session_service import SessionService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.session_service'\n_ ERROR collecting tests/integration/critical_paths/test_session_persistence_restart.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_persistence_restart.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_persistence_restart.py:33: in <module>\n    from auth_integration import create_access_token, validate_token_jwt\nE   ModuleNotFoundError: No module named 'auth_integration'\n__ ERROR collecting tests/integration/critical_paths/test_session_sharing.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_sharing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_sharing.py:19: in <module>\n    from netra_backend.app.services.session_service import SessionService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.session_service'\n_ ERROR collecting tests/integration/critical_paths/test_session_validation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_validation.py:20: in <module>\n    from netra_backend.app.services.session_service import SessionService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.session_service'\n_ ERROR collecting tests/integration/critical_paths/test_subscription_tier_enforcement.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_subscription_tier_enforcement.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_subscription_tier_enforcement.py:30: in <module>\n    from netra_backend.app.core.rate_limiting.tier_enforcer import TierEnforcementService\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.rate_limiting'\n_ ERROR collecting tests/integration/critical_paths/test_team_creation_permissions.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_team_creation_permissions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_team_creation_permissions.py:22: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.test_helpers.team_collaboration_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_team_isolation_security.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_team_isolation_security.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_team_isolation_security.py:22: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.test_helpers.team_collaboration_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_token_validation_chain_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_token_validation_chain_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_token_validation_chain_complete_l4.py:23: in <module>\n    from netra_backend.app.core.exceptions import (\nE   ImportError: cannot import name 'InvalidTokenError' from 'netra_backend.app.core.exceptions' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\exceptions.py)\n_ ERROR collecting tests/integration/critical_paths/test_transaction_atomicity_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_transaction_atomicity_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_transaction_atomicity_l4.py:53: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.critical_paths.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n------------------------------- Captured stderr -------------------------------\n2025-08-22 09:00:33.882 | DEBUG    | netra_backend.app.services.transaction_manager.compensation:register:29 | Registered compensation handler for OperationType.DATABASE_WRITE\n2025-08-22 09:00:33.882 | DEBUG    | netra_backend.app.services.transaction_manager.compensation:register:29 | Registered compensation handler for OperationType.DATABASE_READ\n_ ERROR collecting tests/integration/critical_paths/test_user_invitation_flow.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_user_invitation_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_user_invitation_flow.py:23: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.test_helpers.team_collaboration_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n_ ERROR collecting tests/integration/critical_paths/test_user_state_persistence_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_user_state_persistence_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_user_state_persistence_complete_l4.py:22: in <module>\n    from netra_backend.app.models.user import User, UserPreferences, UserState\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_binary_message_handling.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_binary_message_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_binary_message_handling.py:33: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_broadcast_performance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_broadcast_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_broadcast_performance.py:31: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_connection_draining.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_connection_draining.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_connection_draining.py:29: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_connection_pooling.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_connection_pooling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_connection_pooling.py:28: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_first_load.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_first_load.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_first_load.py:32: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_heartbeat_monitoring.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_heartbeat_monitoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_heartbeat_monitoring.py:29: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_heartbeat_zombie.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_heartbeat_zombie.py\", line 1069\nE       \nE       ^\nE   SyntaxError: invalid syntax\n_ ERROR collecting tests/integration/critical_paths/test_websocket_message_compression.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_message_compression.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_message_compression.py:32: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_message_delivery_guarantee.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_message_delivery_guarantee.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_message_delivery_guarantee.py:29: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_message_delivery_guarantees_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_message_delivery_guarantees_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_message_delivery_guarantees_l4.py:25: in <module>\n    from netra_backend.app.models.websocket_message import WebSocketMessage\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_rate_limiting_per_client.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting_per_client.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_rate_limiting_per_client.py:29: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_reconnection_resilience_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_resilience_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_reconnection_resilience_l4.py:26: in <module>\n    from netra_backend.app.services.message_queue_service import MessageQueueService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.message_queue_service'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_reconnection_state_recovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_reconnection_state_recovery.py:29: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_resilience_recovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_resilience_recovery.py:31: in <module>\n    from netra_backend.app.services.websocket.connection_recovery import ConnectionRecovery\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.websocket.connection_recovery'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_state_recovery_restart.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_state_recovery_restart.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_state_recovery_restart.py:34: in <module>\n    from netra_backend.tests.l4_staging_critical_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.l4_staging_critical_base'\n_ ERROR collecting tests/integration/critical_paths/test_workspace_resource_sharing.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_workspace_resource_sharing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_workspace_resource_sharing.py:22: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.test_helpers.team_collaboration_base import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration'\n___ ERROR collecting tests/integration/operational/test_admin_operations.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\operational\\test_admin_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\operational\\__init__.py:19: in <module>\n    from netra_backend.tests.integration.operational.shared_fixtures import (\ntests\\integration\\operational\\shared_fixtures.py:30: in <module>\n    from netra_backend.app.services.supply_research_scheduler import SupplyResearchScheduler\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n____ ERROR collecting tests/integration/operational/test_error_recovery.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\operational\\test_error_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\operational\\__init__.py:19: in <module>\n    from netra_backend.tests.integration.operational.shared_fixtures import (\ntests\\integration\\operational\\shared_fixtures.py:30: in <module>\n    from netra_backend.app.services.supply_research_scheduler import SupplyResearchScheduler\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n______ ERROR collecting tests/integration/operational/test_mcp_tools.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\operational\\test_mcp_tools.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\operational\\__init__.py:19: in <module>\n    from netra_backend.tests.integration.operational.shared_fixtures import (\ntests\\integration\\operational\\shared_fixtures.py:30: in <module>\n    from netra_backend.app.services.supply_research_scheduler import SupplyResearchScheduler\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n______ ERROR collecting tests/integration/operational/test_monitoring.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\operational\\test_monitoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\operational\\__init__.py:19: in <module>\n    from netra_backend.tests.integration.operational.shared_fixtures import (\ntests\\integration\\operational\\shared_fixtures.py:30: in <module>\n    from netra_backend.app.services.supply_research_scheduler import SupplyResearchScheduler\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n_ ERROR collecting tests/integration/staging/test_staging_auth_service_sync.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging\\test_staging_auth_service_sync.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging\\test_staging_auth_service_sync.py:33: in <module>\n    from netra_backend.app.clients.auth_client import AuthClient\nE   ImportError: cannot import name 'AuthClient' from 'netra_backend.app.clients.auth_client' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\clients\\auth_client.py)\n_ ERROR collecting tests/integration/staging/test_staging_database_connection_resilience.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging\\test_staging_database_connection_resilience.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging\\test_staging_database_connection_resilience.py:28: in <module>\n    from netra_backend.tests.integration.database_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.database_test_fixtures'\n__ ERROR collecting tests/integration/staging_config/test_cloud_sql_proxy.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_cloud_sql_proxy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_cloud_sql_proxy.py:21: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_cors_configuration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_cors_configuration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_cors_configuration.py:18: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_database_migrations.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_database_migrations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_database_migrations.py:22: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_environment_precedence.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_environment_precedence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_environment_precedence.py:21: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n___ ERROR collecting tests/integration/staging_config/test_health_checks.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_health_checks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_health_checks.py:18: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n__ ERROR collecting tests/integration/staging_config/test_llm_integration.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_llm_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_llm_integration.py:19: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_multi_service_secrets.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_multi_service_secrets.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_multi_service_secrets.py:20: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_observability_pipeline.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_observability_pipeline.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_observability_pipeline.py:20: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n__ ERROR collecting tests/integration/staging_config/test_redis_lifecycle.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_redis_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_redis_lifecycle.py:21: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n__ ERROR collecting tests/integration/staging_config/test_resource_limits.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_resource_limits.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_resource_limits.py:21: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_secret_manager_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_secret_manager_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_secret_manager_integration.py:17: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n__ ERROR collecting tests/integration/staging_config/test_staging_startup.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_staging_startup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_staging_startup.py:18: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n_ ERROR collecting tests/integration/staging_config/test_websocket_load_balancer.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_websocket_load_balancer.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_websocket_load_balancer.py:20: in <module>\n    from netra_backend.tests.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.base'\n____ ERROR collecting tests/integration/test_advanced_analytics_export.py _____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_advanced_analytics_export.py:37: in <module>\n    from netra_backend.tests.integration.helpers.analytics_export_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_______ ERROR collecting tests/integration/test_agent_pipeline_core.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_agent_pipeline_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_agent_pipeline_core.py:34: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_agent_pipeline_performance.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_agent_pipeline_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_agent_pipeline_performance.py:34: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_agent_state_persistence_recovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_agent_state_persistence_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_agent_state_persistence_recovery.py:40: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n__ ERROR collecting tests/integration/test_agent_tool_loading_validation.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_agent_tool_loading_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_agent_tool_loading_validation.py:39: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/integration/test_auth_jwt_redis_session.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_auth_jwt_redis_session.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_auth_jwt_redis_session.py:28: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_background_jobs_redis_queue.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_background_jobs_redis_queue.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_background_jobs_redis_queue.py:24: in <module>\n    from background_jobs.job_manager import JobManager\nE   ModuleNotFoundError: No module named 'background_jobs'\n_______ ERROR collecting tests/integration/test_cache_database_sync.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_database_sync.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_cache_database_sync.py:25: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_________ ERROR collecting tests/integration/test_cache_edge_cases.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_edge_cases.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_cache_edge_cases.py:26: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_cache_invalidation_redis.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_invalidation_redis.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_cache_invalidation_redis.py:28: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_cache_redis_invalidation.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_redis_invalidation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_cache_redis_invalidation.py:26: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/integration/test_cache_service_cascade.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_service_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_cache_service_cascade.py:26: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_circuit_breaker_service_failures.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_circuit_breaker_service_failures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_circuit_breaker_service_failures.py:23: in <module>\n    from netra_backend.app.services.external_service_client import ExternalServiceClient\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.external_service_client'\n___ ERROR collecting tests/integration/test_critical_agent_collaboration.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_agent_collaboration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_agent_collaboration.py:20: in <module>\n    from netra_backend.tests.test_fixtures_common import mock_infrastructure, test_database\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n__ ERROR collecting tests/integration/test_critical_analytics_compliance.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_analytics_compliance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_analytics_compliance.py:18: in <module>\n    from netra_backend.tests.test_fixtures_common import mock_infrastructure, test_database\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n____ ERROR collecting tests/integration/test_critical_auth_integration.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_auth_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_auth_integration.py:27: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import MockAuthService\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n______ ERROR collecting tests/integration/test_critical_auth_session.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_auth_session.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_auth_session.py:18: in <module>\n    from netra_backend.tests.test_fixtures_common import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n_ ERROR collecting tests/integration/test_critical_circuit_breaker_compensation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_circuit_breaker_compensation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_circuit_breaker_compensation.py:17: in <module>\n    from netra_backend.tests.test_fixtures_common import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n__ ERROR collecting tests/integration/test_critical_database_transactions.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_database_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_database_transactions.py:17: in <module>\n    from netra_backend.tests.test_fixtures_common import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n____ ERROR collecting tests/integration/test_critical_integration_main.py _____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_critical_integration_main.py:34: in <module>\n    from netra_backend.tests.integration.helpers.user_flow_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n_____ ERROR collecting tests/integration/test_critical_message_health.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_message_health.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_message_health.py:18: in <module>\n    from netra_backend.tests.test_fixtures_common import mock_infrastructure, test_database\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n_____ ERROR collecting tests/integration/test_critical_search_quality.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_search_quality.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_search_quality.py:17: in <module>\n    from netra_backend.tests.test_fixtures_common import mock_infrastructure, test_database\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_fixtures_common'\n__ ERROR collecting tests/integration/test_database_migration_performance.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_database_migration_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_database_migration_performance.py:26: in <module>\n    from netra_backend.tests.database_migration_validators import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_migration_validators'\n___ ERROR collecting tests/integration/test_database_migration_rollback.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_database_migration_rollback.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_database_migration_rollback.py:22: in <module>\n    from netra_backend.app.database.migration_manager import MigrationManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.database.migration_manager'\n_ ERROR collecting tests/integration/test_database_transaction_coordination.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_database_transaction_coordination.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_database_transaction_coordination.py:38: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_distributed_tracing_otel.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_distributed_tracing_otel.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_distributed_tracing_otel.py:24: in <module>\n    from opentelemetry.exporter.jaeger.thrift import JaegerExporter\nE   ModuleNotFoundError: No module named 'opentelemetry.exporter.jaeger'\n____ ERROR collecting tests/integration/test_enterprise_domain_network.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_domain_network.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_domain_network.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n__ ERROR collecting tests/integration/test_enterprise_environment_config.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_environment_config.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_environment_config.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n____ ERROR collecting tests/integration/test_enterprise_resource_health.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_resource_health.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_resource_health.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n____ ERROR collecting tests/integration/test_error_handling_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_error_handling_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_error_handling_integration.py:22: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_first_message_auth_flow.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_message_auth_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_message_auth_flow.py:28: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n_____ ERROR collecting tests/integration/test_first_time_user_advanced.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_advanced.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n_______ ERROR collecting tests/integration/test_first_time_user_core.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_core.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n____ ERROR collecting tests/integration/test_first_time_user_experience.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_experience.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_experience.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n___ ERROR collecting tests/integration/test_first_time_user_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_integration.py:22: in <module>\n    from test_unified_first_time_user import FirstTimeUserTester\nE   ModuleNotFoundError: No module named 'test_unified_first_time_user'\n____ ERROR collecting tests/integration/test_first_time_user_onboarding.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_onboarding.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_onboarding.py:27: in <module>\n    from netra_backend.app.models.message import Message\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n______ ERROR collecting tests/integration/test_first_time_user_signup.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_signup.py:22: in <module>\n    from netra_backend.app.models.user import User\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n____ ERROR collecting tests/integration/test_llm_response_caching_redis.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_llm_response_caching_redis.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_llm_response_caching_redis.py:25: in <module>\n    from caching.cache_strategies import CacheStrategy\nE   ModuleNotFoundError: No module named 'caching'\n__ ERROR collecting tests/integration/test_logging_audit_integration_core.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_logging_audit_integration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_logging_audit_integration_core.py:17: in <module>\n    from logging_config import central_logger, get_central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_logging_audit_integration_helpers.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_logging_audit_integration_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_logging_audit_integration_helpers.py:17: in <module>\n    from logging_config import central_logger, get_central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/integration/test_message_flow_auth_core.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_auth_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_auth_core.py:17: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_message_flow_auth_helpers.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_auth_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_auth_helpers.py:17: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_message_flow_errors_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_errors_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_errors_core.py:15: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_message_flow_errors_helpers.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_errors_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_errors_helpers.py:15: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n__ ERROR collecting tests/integration/test_message_flow_performance_core.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_performance_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_performance_core.py:17: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_message_flow_performance_helpers.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_performance_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_performance_helpers.py:17: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_message_flow_routing_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_routing_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_routing_core.py:16: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_message_flow_routing_helpers.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_routing_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_routing_helpers.py:16: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_message_queue_redis_streams.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_queue_redis_streams.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_queue_redis_streams.py:29: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_metrics_pipeline_prometheus.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_metrics_pipeline_prometheus.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_metrics_pipeline_prometheus.py:24: in <module>\n    from netra_backend.app.monitoring.prometheus_exporter import PrometheusExporter\nE   ModuleNotFoundError: No module named 'netra_backend.app.monitoring.prometheus_exporter'\n___ ERROR collecting tests/integration/test_migration_rollback_recovery.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_migration_rollback_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_migration_rollback_recovery.py:28: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_multi_service_startup_orchestration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_multi_service_startup_orchestration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_multi_service_startup_orchestration.py:31: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n______ ERROR collecting tests/integration/test_multi_tenant_isolation.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_multi_tenant_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_multi_tenant_isolation.py:26: in <module>\n    from netra_backend.app.services.tenant_service import TenantService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.tenant_service'\n_____ ERROR collecting tests/integration/test_payment_gateway_sandbox.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_payment_gateway_sandbox.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_payment_gateway_sandbox.py:25: in <module>\n    from payments.gateway_manager import PaymentGatewayManager\nE   ModuleNotFoundError: No module named 'payments'\n_______ ERROR collecting tests/integration/test_rate_limiting_redis.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_rate_limiting_redis.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_rate_limiting_redis.py:29: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n________ ERROR collecting tests/integration/test_redis_session_core.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_redis_session_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_redis_session_core.py:34: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_redis_session_performance.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_redis_session_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_redis_session_performance.py:34: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_ ERROR collecting tests/integration/test_service_discovery_health_checks.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_service_discovery_health_checks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_service_discovery_health_checks.py:23: in <module>\n    from discovery.consul_client import ConsulClient\nE   ModuleNotFoundError: No module named 'discovery'\n____ ERROR collecting tests/integration/test_service_health_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_service_health_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_service_health_integration.py:24: in <module>\n    from startup_checks import StartupChecker\nE   ModuleNotFoundError: No module named 'startup_checks'\n____ ERROR collecting tests/integration/test_sla_compliance_monitoring.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sla_compliance_monitoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sla_compliance_monitoring.py:29: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_sso_saml_error_scenarios.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sso_saml_error_scenarios.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sso_saml_error_scenarios.py:27: in <module>\n    from netra_backend.tests.sso_saml_components import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.sso_saml_components'\n_______ ERROR collecting tests/integration/test_sso_saml_integration.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sso_saml_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sso_saml_integration.py:41: in <module>\n    from clients.auth_client_core import AuthServiceClient\nE   ModuleNotFoundError: No module named 'clients'\n___ ERROR collecting tests/integration/test_sub_agent_registry_discovery.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sub_agent_registry_discovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sub_agent_registry_discovery.py:39: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____ ERROR collecting tests/integration/test_supervisor_observability.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_supervisor_observability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_supervisor_observability.py:20: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'PipelineStep' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n____ ERROR collecting tests/integration/test_system_startup_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_system_startup_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_system_startup_integration.py:25: in <module>\n    from startup_checks import StartupChecker, StartupCheckResult\nE   ModuleNotFoundError: No module named 'startup_checks'\n__ ERROR collecting tests/integration/test_team_collaboration_permissions.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_team_collaboration_permissions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_team_collaboration_permissions.py:37: in <module>\n    from netra_backend.tests.integration.integration.critical_paths.test_concurrent_editing_performance import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_ ERROR collecting tests/integration/test_transaction_coordination_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_transaction_coordination_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_transaction_coordination_integration.py:35: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_unified_message_flow_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_core.py:18: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n__ ERROR collecting tests/integration/test_unified_message_flow_fixtures.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_fixtures.py:18: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n___ ERROR collecting tests/integration/test_unified_message_flow_helpers.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_helpers.py:18: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_________ ERROR collecting tests/integration/test_user_flows_main.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_flows_main.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_flows_main.py:35: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_________ ERROR collecting tests/integration/test_user_login_flows.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_login_flows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_login_flows.py:49: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_______ ERROR collecting tests/integration/test_user_onboarding_flow.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_onboarding_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_onboarding_flow.py:28: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n______ ERROR collecting tests/integration/test_user_registration_flow.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_registration_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_registration_flow.py:32: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_______ ERROR collecting tests/integration/test_user_tier_management.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_tier_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_tier_management.py:26: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_____ ERROR collecting tests/integration/test_user_websocket_lifecycle.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_websocket_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_websocket_lifecycle.py:27: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n___ ERROR collecting tests/integration/test_websocket_agent_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_websocket_agent_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_websocket_agent_integration.py:20: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n____ ERROR collecting tests/integration/test_websocket_auth_cold_start.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_websocket_auth_cold_start.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_websocket_auth_cold_start.py:42: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n_ ERROR collecting tests/integration/test_websocket_auth_cold_start_extended.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_websocket_auth_cold_start_extended.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_websocket_auth_cold_start_extended.py:51: in <module>\n    from clients.auth_client import auth_client\nE   ModuleNotFoundError: No module named 'clients'\n___ ERROR collecting tests/integration/test_websocket_auth_token_refresh.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_websocket_auth_token_refresh.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_websocket_auth_token_refresh.py:21: in <module>\n    from netra_backend.app.services.auth_service import AuthService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.auth_service'\n__ ERROR collecting tests/integration/test_websocket_connection_recovery.py ___\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_connection_recovery.py:30: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n_____ ERROR collecting tests/integration/test_websocket_error_recovery.py _____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_error_recovery.py:29: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n______ ERROR collecting tests/integration/test_websocket_redis_pubsub.py ______\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_redis_pubsub.py:33: in <module>\n    from netra_backend.tests.integration.helpers.redis_l3_helpers import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\__init__.py\", line 8\nE       from netra_backend.tests.integration.helpers.critical_integration_helpers import (\nE       ^^^^\nE   IndentationError: expected an indented block after 'try' statement on line 7\n___ ERROR collecting tests/integration/test_websocket_state_persistence.py ____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_state_persistence.py:31: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n___ ERROR collecting tests/integration/user_flows/test_conversion_paths.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\user_flows\\test_conversion_paths.py:30: in <module>\n    from netra_backend.app.models.user import User\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n___ ERROR collecting tests/integration/user_flows/test_early_tier_flows.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\user_flows\\test_early_tier_flows.py:30: in <module>\n    from netra_backend.app.services.user_service import UserService as UsageService\nE   ImportError: cannot import name 'UserService' from 'netra_backend.app.services.user_service' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\user_service.py)\n___ ERROR collecting tests/integration/user_flows/test_enterprise_flows.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\user_flows\\test_enterprise_flows.py:29: in <module>\n    from netra_backend.tests.user_flow_base import UserFlowTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.user_flow_base'\n_ ERROR collecting tests/integration/user_flows/test_free_tier_onboarding.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:37: in <module>\n    from netra_backend.app.models.user import User, UserPlan\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n____ ERROR collecting tests/integration/user_flows/test_mid_tier_flows.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\user_flows\\test_mid_tier_flows.py:29: in <module>\n    from netra_backend.app.models.team import Team\nE   ModuleNotFoundError: No module named 'netra_backend.app.models'\n__________ ERROR collecting tests/llm/test_structured_generation.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\llm\\test_structured_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\llm\\test_structured_generation.py:20: in <module>\n    from netra_backend.tests.llm_mocks import MockLLM, MockStructuredLLM\nE   ModuleNotFoundError: No module named 'netra_backend.tests.llm_mocks'\n________ ERROR collecting tests/performance/test_agent_load_stress.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_agent_load_stress.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_agent_load_stress.py:24: in <module>\n    from ws_manager import WebSocketManager\nE   ModuleNotFoundError: No module named 'ws_manager'\n_ ERROR collecting tests/performance/test_comprehensive_backend_performance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_comprehensive_backend_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_comprehensive_backend_performance.py:33: in <module>\n    from netra_backend.app.websocket.performance_monitor import PerformanceMonitor\napp\\websocket\\performance_monitor.py:7: in <module>\n    from netra_backend.app.performance_monitor_collector import MetricCollector\nE   ModuleNotFoundError: No module named 'netra_backend.app.performance_monitor_collector'\n_______ ERROR collecting tests/performance/test_performance_batching.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_performance_batching.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_performance_batching.py:20: in <module>\n    from netra_backend.app.websocket.batch_message_handler import (\napp\\websocket\\batch_message_handler.py:7: in <module>\n    from netra_backend.app.websocket.batch_broadcast_manager import BatchedBroadcastManager\napp\\websocket\\batch_broadcast_manager.py:8: in <module>\n    from netra_backend.app.batch_message_core import MessageBatcher\nE   ModuleNotFoundError: No module named 'netra_backend.app.batch_message_core'\n____ ERROR collecting tests/performance/test_performance_optimizations.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_performance_optimizations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_performance_optimizations.py:14: in <module>\n    from netra_backend.tests.test_performance_batching import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_performance_batching'\n_____________ ERROR collecting tests/routes/test_admin_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_admin_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_admin_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_agent_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_agent_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_agent_routes.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_cache_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_cache_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_cache_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_config_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_config_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_config_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_corpus_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_corpus_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_corpus_routes.py:26: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_llm_cache_routes.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_llm_cache_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_llm_cache_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n______________ ERROR collecting tests/routes/test_mcp_routes.py _______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_mcp_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_mcp_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_quality_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_quality_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_quality_routes.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_supply_management.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_management.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_supply_research.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_research.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_research.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_supply_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n_______ ERROR collecting tests/routes/test_synthetic_data_generation.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_generation.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_______ ERROR collecting tests/routes/test_synthetic_data_management.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_management.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_________ ERROR collecting tests/routes/test_synthetic_data_routes.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n___________ ERROR collecting tests/routes/test_thread_analytics.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_analytics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_analytics.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n______________ ERROR collecting tests/routes/test_thread_crud.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_crud.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_crud.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_thread_messaging.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_messaging.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_messaging.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_threads_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_threads_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_threads_routes.py:16: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n____ ERROR collecting tests/services/test_agent_service_error_recovery.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_error_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_error_recovery.py:33: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import resilient_orchestrator\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_service_fixtures'\n_______ ERROR collecting tests/services/test_agent_service_lifecycle.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_lifecycle.py:33: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_service_fixtures'\n_ ERROR collecting tests/services/test_agent_service_orchestration_agents.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_agents.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_agents.py:35: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_service_fixtures'\n__ ERROR collecting tests/services/test_agent_service_orchestration_core.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_core.py:36: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_service_fixtures'\n_ ERROR collecting tests/services/test_agent_service_orchestration_workflows.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_workflows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_workflows.py:32: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_agent_service_fixtures'\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part2.py:34: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part3.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part3.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part3.py:34: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part4.py:36: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n___________ ERROR collecting tests/services/test_base_repository.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_base_repository.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_base_repository.py:18: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n____ ERROR collecting tests/services/test_clickhouse_array_syntax_fixer.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_clickhouse_array_syntax_fixer.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_clickhouse_array_syntax_fixer.py:14: in <module>\n    from netra_backend.tests.clickhouse_query_fixtures import get_all_test_queries\nE   ModuleNotFoundError: No module named 'netra_backend.tests.clickhouse_query_fixtures'\n_________ ERROR collecting tests/services/test_clickhouse_service.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_clickhouse_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_clickhouse_service.py:18: in <module>\n    from logging_config import central_logger as logger\nE   ModuleNotFoundError: No module named 'logging_config'\n__ ERROR collecting tests/services/test_database_repository_transactions.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_repository_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_repository_transactions.py:21: in <module>\n    from netra_backend.tests.database_transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_helpers'\n__ ERROR collecting tests/services/test_database_transaction_performance.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_transaction_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_transaction_performance.py:19: in <module>\n    from netra_backend.tests.database_transaction_test_mocks import MockRepository\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_mocks'\n_ ERROR collecting tests/services/test_database_unit_of_work_transactions.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_unit_of_work_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_unit_of_work_transactions.py:17: in <module>\n    from netra_backend.tests.database_transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_helpers'\n_________ ERROR collecting tests/services/test_external_api_client.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_external_api_client.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_external_api_client.py:16: in <module>\n    from netra_backend.tests.test_api_convenience_functions import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_api_convenience_functions'\n______ ERROR collecting tests/services/test_external_api_integration.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_external_api_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_external_api_integration.py:16: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n_________ ERROR collecting tests/services/test_llm_load_balancing.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_load_balancing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_load_balancing.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n_______ ERROR collecting tests/services/test_llm_provider_switching.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_provider_switching.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_provider_switching.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n________ ERROR collecting tests/services/test_llm_structured_output.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_structured_output.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_structured_output.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n_________ ERROR collecting tests/services/test_message_repository.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_message_repository.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_message_repository.py:17: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n___ ERROR collecting tests/services/test_permission_service_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_permission_service_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_permission_service_integration.py:26: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n________ ERROR collecting tests/services/test_quality_gate_advanced.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_advanced.py:17: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n_________ ERROR collecting tests/services/test_quality_gate_basic.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_basic.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n___ ERROR collecting tests/services/test_quality_gate_clarity_redundancy.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_clarity_redundancy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_clarity_redundancy.py:11: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n__ ERROR collecting tests/services/test_quality_gate_completeness_novelty.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_completeness_novelty.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_completeness_novelty.py:20: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n________ ERROR collecting tests/services/test_quality_gate_content.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_content.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_content.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n______ ERROR collecting tests/services/test_quality_gate_dataclasses.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_dataclasses.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_dataclasses.py:17: in <module>\n    from netra_backend.tests.quality_gate_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_fixtures'\n_ ERROR collecting tests/services/test_quality_gate_hallucination_scoring.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_hallucination_scoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_hallucination_scoring.py:14: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n___ ERROR collecting tests/services/test_quality_gate_integration_core_1.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_core_1.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_core_1.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n___ ERROR collecting tests/services/test_quality_gate_integration_core_2.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_core_2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_core_2.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n__ ERROR collecting tests/services/test_quality_gate_integration_fixtures.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_fixtures.py:16: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_quality_gate_integration_utilities_1.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_utilities_1.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_utilities_1.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_quality_gate_integration_utilities_2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_utilities_2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_utilities_2.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n________ ERROR collecting tests/services/test_quality_gate_metrics.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_metrics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_metrics.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n_ ERROR collecting tests/services/test_quality_gate_quantification_relevance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_quantification_relevance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_quantification_relevance.py:11: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n_ ERROR collecting tests/services/test_quality_gate_specificity_actionability.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_specificity_actionability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_specificity_actionability.py:14: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n______ ERROR collecting tests/services/test_quality_monitoring_alerts.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_alerts.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_alerts.py:21: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n______ ERROR collecting tests/services/test_quality_monitoring_basic.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_basic.py:20: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n___ ERROR collecting tests/services/test_quality_monitoring_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_integration.py:25: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n_____ ERROR collecting tests/services/test_quality_monitoring_metrics.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_metrics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_metrics.py:22: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n_____ ERROR collecting tests/services/test_quality_monitoring_service.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_service.py:14: in <module>\n    from netra_backend.tests.test_quality_monitoring_alerts import *\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_quality_monitoring_alerts'\n___ ERROR collecting tests/services/test_redis_manager_basic_operations.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_basic_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_basic_operations.py:17: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n______ ERROR collecting tests/services/test_redis_manager_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_performance.py:17: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n________ ERROR collecting tests/services/test_redis_manager_pooling.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_pooling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_pooling.py:15: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n_________ ERROR collecting tests/services/test_redis_manager_retry.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_retry.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_retry.py:16: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n________ ERROR collecting tests/services/test_reference_repository.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_reference_repository.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_reference_repository.py:15: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n____ ERROR collecting tests/services/test_repository_basic_transactions.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_repository_basic_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_repository_basic_transactions.py:20: in <module>\n    from netra_backend.tests.services.services.shared.transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.services.services'\n______ ERROR collecting tests/services/test_resilient_client_circuit.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_circuit.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_circuit.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n_______ ERROR collecting tests/services/test_resilient_client_health.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_health.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_health.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n______ ERROR collecting tests/services/test_resilient_client_response.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_response.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_response.py:14: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n______ ERROR collecting tests/services/test_resilient_client_session.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_session.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_session.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n___________ ERROR collecting tests/services/test_run_repository.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_run_repository.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_run_repository.py:15: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n________ ERROR collecting tests/services/test_scheduler_concurrency.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_scheduler_concurrency.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_scheduler_concurrency.py:20: in <module>\n    from netra_backend.app.services.supply_research_scheduler import (\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n_________ ERROR collecting tests/services/test_scheduler_jobs_core.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_scheduler_jobs_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_scheduler_jobs_core.py:17: in <module>\n    from background import BackgroundTaskManager\nE   ModuleNotFoundError: No module named 'background'\n________ ERROR collecting tests/services/test_scheduler_performance.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_scheduler_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_scheduler_performance.py:21: in <module>\n    from netra_backend.app.services.supply_research_scheduler import (\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n________ ERROR collecting tests/services/test_scheduler_retry_logic.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_scheduler_retry_logic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_scheduler_retry_logic.py:17: in <module>\n    from background import BackgroundTaskManager\nE   ModuleNotFoundError: No module named 'background'\n___ ERROR collecting tests/services/test_security_service_authentication.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_authentication.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_authentication.py:19: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n_______ ERROR collecting tests/services/test_security_service_oauth.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_oauth.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_oauth.py:17: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n____ ERROR collecting tests/services/test_security_service_permissions.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_permissions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_permissions.py:16: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n_______ ERROR collecting tests/services/test_supply_catalog_service.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_supply_catalog_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_supply_catalog_service.py:13: in <module>\n    from netra_backend.app.schemas.unified_tools import (\nE   ImportError: cannot import name 'SupplyOptionCreate' from 'netra_backend.app.schemas.unified_tools' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\schemas\\unified_tools.py)\n___ ERROR collecting tests/services/test_supply_research_scheduler_jobs.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_supply_research_scheduler_jobs.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_supply_research_scheduler_jobs.py:25: in <module>\n    from netra_backend.app.services.supply_research_scheduler import (\napp\\services\\supply_research_scheduler.py:13: in <module>\n    from netra_backend.app.services.supply_research.research_executor import (\napp\\services\\supply_research\\research_executor.py:10: in <module>\n    from netra_backend.app.agents.supply_researcher_sub_agent import SupplyResearcherAgent\napp\\agents\\supply_researcher_sub_agent.py:10: in <module>\n    from netra_backend.app.supply_researcher import ResearchType, SupplyResearcherAgent\nE   ModuleNotFoundError: No module named 'netra_backend.app.supply_researcher'\n_ ERROR collecting tests/services/test_supply_research_scheduler_jobs_index.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_supply_research_scheduler_jobs_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_supply_research_scheduler_jobs_index.py:14: in <module>\n    from netra_backend.tests.test_scheduler_concurrency import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_scheduler_concurrency'\n____ ERROR collecting tests/services/test_synthetic_data_service_admin.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_admin.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_admin.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n___ ERROR collecting tests/services/test_synthetic_data_service_advanced.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_advanced.py:27: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n____ ERROR collecting tests/services/test_synthetic_data_service_basic.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_basic.py:21: in <module>\n    from netra_backend.tests.test_synthetic_data_service_fixtures import *\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_fixtures'\n__ ERROR collecting tests/services/test_synthetic_data_service_generation.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_generation.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_fixtures import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_fixtures'\n__ ERROR collecting tests/services/test_synthetic_data_service_ingestion.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_ingestion.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_ingestion.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import IngestionMetrics\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n_ ERROR collecting tests/services/test_synthetic_data_service_integration.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_integration.py:23: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegration' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_synthetic_data_service_performance.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_performance.py:18: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n___ ERROR collecting tests/services/test_synthetic_data_service_recovery.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_recovery.py:18: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n__ ERROR collecting tests/services/test_synthetic_data_service_validation.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_validation.py:27: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n__________ ERROR collecting tests/services/test_thread_repository.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_thread_repository.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_thread_repository.py:17: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n____ ERROR collecting tests/services/test_tool_permission_availability.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_availability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_availability.py:18: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_ ERROR collecting tests/services/test_tool_permission_business_requirements.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_business_requirements.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_business_requirements.py:21: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n______ ERROR collecting tests/services/test_tool_permission_checking.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_checking.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_checking.py:20: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_____ ERROR collecting tests/services/test_tool_permission_integration.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_integration.py:23: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n____ ERROR collecting tests/services/test_tool_permission_rate_limiting.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_rate_limiting.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_rate_limiting.py:17: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_ ERROR collecting tests/services/test_tool_permission_service_initialization.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_service_initialization.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_service_initialization.py:17: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_____ ERROR collecting tests/services/test_tool_permission_user_plans.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_user_plans.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_user_plans.py:21: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_______ ERROR collecting tests/services/test_tool_registry_discovery.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_discovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_discovery.py:18: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n______ ERROR collecting tests/services/test_tool_registry_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_performance.py:19: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n______ ERROR collecting tests/services/test_tool_registry_validation.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_validation.py:22: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n__ ERROR collecting tests/services/test_unified_tool_registry_management.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_unified_tool_registry_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_unified_tool_registry_management.py:16: in <module>\n    from netra_backend.tests.tool_registry_management_core import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_registry_management_core'\n_ ERROR collecting tests/services/test_unified_tool_registry_orchestration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_unified_tool_registry_orchestration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_unified_tool_registry_orchestration.py:14: in <module>\n    from netra_backend.tests.tool_registry_management_core import ToolOrchestrator\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_registry_management_core'\n____________ ERROR collecting tests/services/test_unit_of_work.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_unit_of_work.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_unit_of_work.py:18: in <module>\n    from netra_backend.tests.database_repository_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_repository_helpers'\n____________ ERROR collecting tests/services/test_user_service.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_user_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_user_service.py:19: in <module>\n    from netra_backend.app.schemas.User import UserUpdate\nE   ModuleNotFoundError: No module named 'netra_backend.app.schemas.User'\n______ ERROR collecting tests/services/test_websocket_handler_routing.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_websocket_handler_routing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_websocket_handler_routing.py:20: in <module>\n    from netra_backend.tests.websocket_test_utilities import MockMessageHandler\nE   ModuleNotFoundError: No module named 'netra_backend.tests.websocket_test_utilities'\n_________ ERROR collecting tests/services/test_ws_connection_basic.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_basic.py:23: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_________ ERROR collecting tests/services/test_ws_connection_mocks.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_mocks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_mocks.py:22: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n______ ERROR collecting tests/services/test_ws_connection_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_performance.py:24: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_____ ERROR collecting tests/services/test_ws_manager_connection_pool.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_manager_connection_pool.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_manager_connection_pool.py:13: in <module>\n    from netra_backend.tests.test_ws_connection_basic import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_ws_connection_basic'\n___________ ERROR collecting tests/startup/test_config_validator.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_config_validator.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_config_validator.py:14: in <module>\n    from netra_backend.tests.test_config_core import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_config_core'\n___________ ERROR collecting tests/startup/test_error_aggregator.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_error_aggregator.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_error_aggregator.py:30: in <module>\n    from netra_backend.app.startup.error_aggregator import ErrorAggregator\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n_______ ERROR collecting tests/startup/test_health_monitor_adaptive.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_adaptive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_health_monitor_adaptive.py:17: in <module>\n    from dev_launcher.staged_health_monitor import (\nE   ModuleNotFoundError: No module named 'dev_launcher.staged_health_monitor'\n________ ERROR collecting tests/startup/test_health_monitor_checks.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_checks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_health_monitor_checks.py:17: in <module>\n    from dev_launcher.staged_health_monitor import (\nE   ModuleNotFoundError: No module named 'dev_launcher.staged_health_monitor'\n_________ ERROR collecting tests/startup/test_health_monitor_core.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_health_monitor_core.py:17: in <module>\n    from dev_launcher.staged_health_monitor import (\nE   ModuleNotFoundError: No module named 'dev_launcher.staged_health_monitor'\n_______ ERROR collecting tests/startup/test_health_monitor_lifecycle.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_health_monitor_lifecycle.py:16: in <module>\n    from dev_launcher.staged_health_monitor import ServiceConfig, StagedHealthMonitor\nE   ModuleNotFoundError: No module named 'dev_launcher.staged_health_monitor'\n__________ ERROR collecting tests/startup/test_migration_tracker.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_migration_tracker.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_migration_tracker.py:23: in <module>\n    from netra_backend.app.startup.migration_tracker import (\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n________ ERROR collecting tests/startup/test_staged_health_monitor.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_staged_health_monitor.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_staged_health_monitor.py:20: in <module>\n    from dev_launcher.staged_health_monitor import (\nE   ModuleNotFoundError: No module named 'dev_launcher.staged_health_monitor'\n_____ ERROR collecting tests/startup/test_staged_health_monitor_index.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_staged_health_monitor_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_staged_health_monitor_index.py:14: in <module>\n    from netra_backend.tests.test_health_monitor_adaptive import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_health_monitor_adaptive'\n________ ERROR collecting tests/startup/test_startup_status_manager.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_startup_status_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_startup_status_manager.py:37: in <module>\n    from netra_backend.app.startup.status_manager import StartupStatusManager\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n___________ ERROR collecting tests/test_database_manager_helpers.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_database_manager_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_database_manager_helpers.py:38: in <module>\n    from logging_config import central_logger\nE   ModuleNotFoundError: No module named 'logging_config'\n_____________ ERROR collecting tests/test_mcp_integration_core.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_core.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n___________ ERROR collecting tests/test_mcp_integration_fixtures.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_fixtures.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n___________ ERROR collecting tests/test_mcp_integration_services.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_services.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_services.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n________ ERROR collecting tests/test_websocket_production_realistic.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_websocket_production_realistic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_websocket_production_realistic.py:24: in <module>\n    from netra_backend.tests.test_compression_auth import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_compression_auth'\n____________ ERROR collecting tests/test_websocket_type_safety.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_websocket_type_safety.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_websocket_type_safety.py:14: in <module>\n    from netra_backend.tests.test_websocket_bidirectional_types import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_websocket_bidirectional_types'\n______ ERROR collecting tests/unified_system/test_health_coordination.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\test_health_coordination.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\unified_system\\test_health_coordination.py:41: in <module>\n    from netra_backend.tests.mock_services import (\nE   ImportError: cannot import name 'MockHTTPService' from 'netra_backend.tests.mock_services' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\mock_services.py)\n_______ ERROR collecting tests/utils/test_datetime_string_json_utils.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_datetime_string_json_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_datetime_string_json_utils.py:20: in <module>\n    from netra_backend.tests.datetime_string_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.datetime_string_test_helpers'\n______ ERROR collecting tests/utils/test_file_crypto_validation_utils.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_file_crypto_validation_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_file_crypto_validation_utils.py:18: in <module>\n    from netra_backend.tests.json_file_crypto_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.json_file_crypto_test_helpers'\n_____ ERROR collecting tests/utils/test_formatting_math_network_utils.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_formatting_math_network_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_formatting_math_network_utils.py:19: in <module>\n    from netra_backend.tests.network_pagination_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.network_pagination_test_helpers'\n____ ERROR collecting tests/utils/test_monitoring_debug_migration_utils.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_monitoring_debug_migration_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_monitoring_debug_migration_utils.py:18: in <module>\n    from netra_backend.tests.debug_migration_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.debug_migration_test_helpers'\n______ ERROR collecting tests/utils/test_pagination_rate_retry_utils.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_pagination_rate_retry_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_pagination_rate_retry_utils.py:17: in <module>\n    from netra_backend.tests.network_pagination_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.network_pagination_test_helpers'\n____ ERROR collecting tests/websocket/test_performance_monitor_coverage.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_performance_monitor_coverage.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_performance_monitor_coverage.py:18: in <module>\n    from netra_backend.app.websocket.performance_monitor_core import PerformanceMonitor\napp\\websocket\\performance_monitor_core.py:12: in <module>\n    from netra_backend.app.performance_monitor_alerts import PerformanceAlertManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.performance_monitor_alerts'\n___ ERROR collecting tests/websocket/test_state_synchronizer_exceptions.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_state_synchronizer_exceptions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_state_synchronizer_exceptions.py:18: in <module>\n    from netra_backend.app.websocket.state_synchronizer import ConnectionStateSynchronizer\napp\\websocket\\state_synchronizer.py:12: in <module>\n    from netra_backend.app.callback_handler import CallbackHandler\nE   ModuleNotFoundError: No module named 'netra_backend.app.callback_handler'\n______ ERROR collecting tests/websocket/test_websocket_comprehensive.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_comprehensive.py:45: in <module>\n    from netra_backend.app.routes.websocket_enhanced import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket_enhanced'\n_______ ERROR collecting tests/websocket/test_websocket_e2e_complete.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_e2e_complete.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_e2e_complete.py:36: in <module>\n    from netra_backend.app.routes.websocket_enhanced import connection_manager\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket_enhanced'\n_ ERROR collecting tests/websocket/test_websocket_integration_performance.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_integration_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_integration_performance.py:18: in <module>\n    from netra_backend.app.websocket.compression import WebSocketCompressor\napp\\websocket\\compression.py:11: in <module>\n    from netra_backend.app.compression_algorithms import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.compression_algorithms'\n____ ERROR collecting tests/websocket/test_websocket_reliability_fixes.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_reliability_fixes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_reliability_fixes.py:32: in <module>\n    from netra_backend.app.routes.websocket_enhanced import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket_enhanced'\n________ ERROR collecting tests/websocket/test_websocket_resilience.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_resilience.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_resilience.py:20: in <module>\n    from netra_backend.app.routes.websocket_secure import (\nE   ImportError: cannot import name 'handle_websocket_message_enhanced' from 'netra_backend.app.routes.websocket_secure' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\routes\\websocket_secure.py)\n__ ERROR collecting tests/websocket/test_websocket_serialization_critical.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_serialization_critical.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_serialization_critical.py:40: in <module>\n    from netra_backend.app.websocket.broadcast import BroadcastManager\napp\\websocket\\broadcast.py:8: in <module>\n    from netra_backend.app.broadcast_core import BroadcastManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.broadcast_core'\n_______________ ERROR collecting tests/ws_manager/test_base.py ________________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_base.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_base.py:17: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_____________ ERROR collecting tests/ws_manager/test_messaging.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_messaging.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_messaging.py:19: in <module>\n    from netra_backend.tests.test_base import MockWebSocket, WebSocketTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_base'\n_____ ERROR collecting tests/ws_manager/test_singleton_and_connection.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_singleton_and_connection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_singleton_and_connection.py:18: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n============================== warnings summary ===============================\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\monitoring.py:68: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"system_start_time\": datetime.utcnow(),\n\ntests\\agents\\test_error_handler_enums.py:48\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_error_handler_enums.py:48: PytestCollectionWarning: cannot collect test class 'TestErrorContext' because it has a __init__ constructor (from: tests/agents/test_error_handler_enums.py)\n    class TestErrorContext(SharedTestErrorContext):\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(\n\ntests\\e2e\\test_websocket_integration_helpers.py:36\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_websocket_integration_helpers.py:36: PytestCollectionWarning: cannot collect test class 'TestSyntaxFix' because it has a __init__ constructor (from: tests/e2e/test_websocket_integration_helpers.py)\n    class TestSyntaxFix:\n\ntests\\unified_system\\fixtures.py:111\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\fixtures.py:111: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    connection: websockets.WebSocketServerProtocol\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\legacy\\__init__.py:6\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\legacy\\__init__.py:6: DeprecationWarning: websockets.legacy is deprecated; see https://websockets.readthedocs.io/en/stable/howto/upgrade.html for upgrade instructions\n    warnings.warn(  # deprecated in 14.0 - 2024-11-09\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_context_isolation_boundaries.py)\n    class TestcontainerHelper:\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_failure_recovery_cascade.py)\n    class TestcontainerHelper:\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_resource_pool_management.py)\n    class TestcontainerHelper:\n\ntests\\integration\\critical_paths\\test_alert_routing_escalation.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_alert_routing_escalation.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_alert_routing_escalation.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_alert_routing_escalation.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.alerting - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.alerting\n\ntests\\integration\\config.py:5\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\config.py:5: PytestCollectionWarning: cannot collect test class 'TestTier' because it has a __init__ constructor (from: tests/integration/critical_paths/test_api_rate_limiting_first_requests.py)\n    class TestTier(str, Enum):\n\ntests\\integration\\critical_paths\\test_custom_metrics_registration.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_custom_metrics_registration.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_custom_metrics_registration.py:42\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_custom_metrics_registration.py:42: PytestUnknownMarkWarning: Unknown pytest.mark.custom_metrics - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.custom_metrics\n\ntests\\integration\\critical_paths\\test_dev_environment_agent_response_flow_l4.py:894\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_agent_response_flow_l4.py:894: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_auth_login_complete_l4.py:607\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_auth_login_complete_l4.py:607: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_chat_initialization_l4.py:756\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_chat_initialization_l4.py:756: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_concurrent_users_l4.py:829\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_concurrent_users_l4.py:829: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_websocket_connection_l4.py:440\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_websocket_connection_l4.py:440: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.tracing - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.tracing\n\ntests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:49\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:49: PytestUnknownMarkWarning: Unknown pytest.mark.health_monitoring - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.health_monitoring,\n\ntests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:50\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.initialization - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.initialization\n\ntests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.logging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.logging\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:631\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:631: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:678\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:678: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:723\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:723: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:788\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:788: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:831\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:831: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:868\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:868: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:917\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:917: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:953\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:953: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:987\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:987: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:1023\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:1023: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:44\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:44: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:45\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.cardinality - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.cardinality\n\ntests\\integration\\critical_paths\\test_metrics_pipeline_l4.py:46\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_pipeline_l4.py:46: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_retention_policy.py:37\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_retention_policy.py:37: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_retention_policy.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_retention_policy.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.retention - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.retention\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:933\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:933: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:975\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:975: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1021\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1021: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1073\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1073: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1119\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1119: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1165\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1165: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1223\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1223: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1267\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1267: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1339\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1339: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1391\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1391: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:281\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:281: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:296\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:296: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:318\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:318: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:337\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:337: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:360\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:360: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:384\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:384: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:395\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:395: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:414\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:414: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:432\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:432: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_service_mesh_l4.py:50\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_l4.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.service_mesh - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.service_mesh,\n\ntests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.slo - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.slo\n\ntests\\integration\\critical_paths\\test_supervisor_subagent_communication.py:988\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_supervisor_subagent_communication.py:988: PytestUnknownMarkWarning: Unknown pytest.mark.l2 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_supervisor_to_subagent_delegation.py)\n    class TestcontainerHelper:\n\ntests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.tracing - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.tracing\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:604\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:604: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:633\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:633: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:665\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:665: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:738\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:738: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:780\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:780: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:798\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:798: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:815\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:815: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:875\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:875: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:915\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:915: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_load_balancing_l4.py:237\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_load_balancing_l4.py:237: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    async def _identify_assigned_server(self, websocket: websockets.WebSocketServerProtocol) -> str:\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:975\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:975: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1011\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1011: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1059\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1059: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1113\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1113: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1159\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1159: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1203\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1203: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1245\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1245: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1307\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1307: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1342\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1342: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1383\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1383: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1429\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1429: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:766\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:766: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:812\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:812: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:858\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:858: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:908\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:908: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:958\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:958: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:994\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:994: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1046\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1046: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1084\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1084: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1144\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1144: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1189\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1189: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_resilience_l4.py:348\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_l4.py:348: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    async def _send_and_verify_message(self, websocket: websockets.WebSocketServerProtocol,\n\ntests\\integration\\critical_paths\\test_websocket_resilience_l4.py:405\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_l4.py:405: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    websocket: websockets.WebSocketServerProtocol) -> Dict[str, Any]:\n\ntests\\integration\\test_auth_edge_cases.py:164\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_auth_edge_cases.py:164: PytestUnknownMarkWarning: Unknown pytest.mark.security - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.security\n\ntests\\test_config_helpers.py:202\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_config_helpers.py:202: PytestCollectionWarning: cannot collect test class 'TestConfigValidator' because it has a __init__ constructor (from: tests/test_config_helpers.py)\n    class TestConfigValidator:\n\ntests\\test_imports.py:194\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_imports.py:194: PytestUnknownMarkWarning: Unknown pytest.mark.fast - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.fast\n\ntests\\unified_system\\fixtures.py:99\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\fixtures.py:99: PytestCollectionWarning: cannot collect test class 'TestUser' because it has a __init__ constructor (from: tests/unified_system/test_error_propagation.py)\n    @dataclass\n\ntests\\unit\\test_agent_lifecycle.py:28\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unit\\test_agent_lifecycle.py:28: PytestCollectionWarning: cannot collect test class 'TestAgent' because it has a __init__ constructor (from: tests/unit/test_agent_lifecycle.py)\n    class TestAgent(AgentLifecycleMixin):\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/agents/test_llm_agent_e2e_real_refactored.py\nERROR tests/agents/test_production_tool.py\nERROR tests/agents/test_production_tool_operations.py\nERROR tests/agents/test_supervisor_advanced.py\nERROR tests/agents/test_supervisor_basic.py\nERROR tests/agents/test_supervisor_corpus_data.py\nERROR tests/agents/test_supervisor_error_handling.py\nERROR tests/agents/test_supervisor_orchestration.py\nERROR tests/agents/test_supervisor_patterns.py\nERROR tests/agents/test_supervisor_prompts_utils.py\nERROR tests/agents/test_supervisor_quality_admin.py\nERROR tests/agents/test_supervisor_routing.py\nERROR tests/agents/test_supply_researcher_agent_core.py\nERROR tests/agents/test_supply_researcher_agent_execution.py\nERROR tests/agents/test_supply_researcher_core.py\nERROR tests/agents/test_supply_researcher_error_handling.py\nERROR tests/agents/test_supply_researcher_infrastructure.py\nERROR tests/agents/test_supply_researcher_integration.py\nERROR tests/agents/test_supply_researcher_management.py\nERROR tests/agents/test_supply_researcher_persistence.py\nERROR tests/agents/test_supply_researcher_scheduler.py\nERROR tests/agents/test_supply_researcher_security.py\nERROR tests/agents/test_tool_dispatcher_advanced_operations.py\nERROR tests/agents/test_tool_dispatcher_core_operations.py\nERROR tests/agents/test_tool_dispatcher_edge_cases.py\nERROR tests/agents/test_tool_dispatcher_initialization.py\nERROR tests/agents/test_triage_caching_async.py\nERROR tests/agents/test_triage_edge_performance.py\nERROR tests/agents/test_triage_entity_intent.py\nERROR tests/agents/test_triage_init_validation.py\nERROR tests/agents/test_triage_sub_agent_comprehensive.py\nERROR tests/agents/test_triage_sub_agent_index.py\nERROR tests/auth_integration/test_real_user_session_management_helpers.py\nERROR tests/clickhouse/test_clickhouse_array_operations.py\nERROR tests/clickhouse/test_clickhouse_connection.py\nERROR tests/clickhouse/test_clickhouse_corpus.py\nERROR tests/clickhouse/test_clickhouse_errors.py\nERROR tests/clickhouse/test_clickhouse_performance.py\nERROR tests/clickhouse/test_clickhouse_workload.py\nERROR tests/clickhouse/test_corpus_generation_coverage_index.py\nERROR tests/clickhouse/test_corpus_table_operations.py\nERROR tests/clickhouse/test_data_manager.py\nERROR tests/clickhouse/test_llm_metrics_aggregation.py\nERROR tests/clickhouse/test_performance_metrics_extraction.py\nERROR tests/clickhouse/test_real_clickhouse_error_handling.py\nERROR tests/clickhouse/test_realistic_log_ingestion.py\nERROR tests/clickhouse/test_workload_events_operations.py\nERROR tests/config/test_config_environment.py\nERROR tests/config/test_config_loader.py\nERROR tests/config/test_config_secrets_manager.py\nERROR tests/core/test_async_batch_processor.py\nERROR tests/core/test_async_connection_pool.py\nERROR tests/core/test_async_integration_scenarios.py\nERROR tests/core/test_async_lock_circuit_breaker.py\nERROR tests/core/test_async_rate_limiter.py\nERROR tests/core/test_async_resource_manager.py\nERROR tests/core/test_async_task_pool.py\nERROR tests/core/test_async_timeout_retry.py\nERROR tests/core/test_async_utils.py\nERROR tests/core/test_missing_tests_final.py\nERROR tests/core/test_system_health_monitor.py\nERROR tests/critical/test_config_environment_detection.py\nERROR tests/critical/test_config_loader_core.py\nERROR tests/critical/test_config_secrets_manager.py\nERROR tests/critical/test_websocket_message_regression.py\nERROR tests/critical/test_websocket_metrics_regression.py\nERROR tests/database/test_repositories_comprehensive_index.py\nERROR tests/e2e/test_agent_message_flow.py\nERROR tests/e2e/test_agent_scaling_workflows.py\nERROR tests/e2e/test_capacity_planning.py\nERROR tests/e2e/test_example_prompts_real.py\nERROR tests/e2e/test_latency_optimization_edge_cases.py\nERROR tests/e2e/test_latency_optimization_workflows_core.py\nERROR tests/e2e/test_model_effectiveness_workflows.py\nERROR tests/e2e/test_model_selection_workflows.py\nERROR tests/e2e/test_multi_constraint_edge_cases.py\nERROR tests/e2e/test_multi_constraint_integrity.py\nERROR tests/e2e/test_multi_constraint_kv_cache.py\nERROR tests/e2e/test_multi_constraint_optimization.py\nERROR tests/e2e/test_multi_constraint_priority.py\nERROR tests/e2e/test_multi_constraint_system.py\nERROR tests/e2e/test_multi_constraint_workflows.py\nERROR tests/e2e/test_multi_service.py\nERROR tests/e2e/test_rate_limit_analysis.py\nERROR tests/e2e/test_thread_management.py\nERROR tests/examples/test_database_fixtures_examples.py\nERROR tests/examples/test_real_functionality_examples.py\nERROR tests/helpers/test_agent_orchestration_pytest_fixtures.py\nERROR tests/integration/critical_paths/test_auth_brute_force_protection.py\nERROR tests/integration/critical_paths/test_auth_cache_invalidation.py\nERROR tests/integration/critical_paths/test_auth_config_availability.py\nERROR tests/integration/critical_paths/test_auth_config_hot_reload.py\nERROR tests/integration/critical_paths/test_auth_middleware_chain_validation.py\nERROR tests/integration/critical_paths/test_auth_role_based_access_flow_l4.py\nERROR tests/integration/critical_paths/test_auth_service_circuit_breaker_cascade.py\nERROR tests/integration/critical_paths/test_auth_service_failover_complete_l4.py\nERROR tests/integration/critical_paths/test_auth_service_health_dependencies.py\nERROR tests/integration/critical_paths/test_auth_service_initialization_health_l4.py\nERROR tests/integration/critical_paths/test_auth_service_recovery_crash.py\nERROR tests/integration/critical_paths/test_auth_session_lifecycle_complete_l4.py\nERROR tests/integration/critical_paths/test_auth_session_persistence.py\nERROR tests/integration/critical_paths/test_auth_token_lifecycle.py\nERROR tests/integration/critical_paths/test_auth_token_refresh_flow.py\nERROR tests/integration/critical_paths/test_auth_token_refresh_high_load.py\nERROR tests/integration/critical_paths/test_auth_token_validation_cross_service.py\nERROR tests/integration/critical_paths/test_authentication_authorization.py\nERROR tests/integration/critical_paths/test_basic_system_cold_startup.py\nERROR tests/integration/critical_paths/test_billing_accuracy_l4.py\nERROR tests/integration/critical_paths/test_billing_usage_accuracy.py\nERROR tests/integration/critical_paths/test_business_critical_flows_l2.py\nERROR tests/integration/critical_paths/test_cache_coherence_l4.py\nERROR tests/integration/critical_paths/test_cache_consistency_across_regions.py\nERROR tests/integration/critical_paths/test_cache_invalidation.py\nERROR tests/integration/critical_paths/test_cache_key_collision_handling.py\nERROR tests/integration/critical_paths/test_cache_serialization_performance.py\nERROR tests/integration/critical_paths/test_cache_stampede_prevention.py\nERROR tests/integration/critical_paths/test_cache_ttl_expiration_accuracy.py\nERROR tests/integration/critical_paths/test_cache_warming_strategy.py\nERROR tests/integration/critical_paths/test_circuit_breaker_cascade.py\nERROR tests/integration/critical_paths/test_compliance_audit_trail_l4.py\nERROR tests/integration/critical_paths/test_concurrent_auth_rate_limiting.py\nERROR tests/integration/critical_paths/test_concurrent_editing_performance.py\nERROR tests/integration/critical_paths/test_concurrent_session_management_l4.py\nERROR tests/integration/critical_paths/test_concurrent_user_login_sessions.py\nERROR tests/integration/critical_paths/test_config_hot_reload_l4.py\nERROR tests/integration/critical_paths/test_configuration_hot_reload.py\nERROR tests/integration/critical_paths/test_configuration_hot_reload_l3.py - ...\nERROR tests/integration/critical_paths/test_core_system_initialization.py\nERROR tests/integration/critical_paths/test_cors_auth_service_l4.py\nERROR tests/integration/critical_paths/test_cost_tracking_billing_pipeline.py\nERROR tests/integration/critical_paths/test_cross_region_consistency_l4.py\nERROR tests/integration/critical_paths/test_cross_service_auth_propagation_complete_l4.py\nERROR tests/integration/critical_paths/test_cross_service_config_consistency.py\nERROR tests/integration/critical_paths/test_dashboard_query_performance.py\nERROR tests/integration/critical_paths/test_data_consistency_cross_db.py\nERROR tests/integration/critical_paths/test_data_consistency_services.py\nERROR tests/integration/critical_paths/test_data_migration_integrity_l4.py\nERROR tests/integration/critical_paths/test_data_persistence_postgres.py\nERROR tests/integration/critical_paths/test_database_migration_core.py\nERROR tests/integration/critical_paths/test_database_migration_rollback.py\nERROR tests/integration/critical_paths/test_database_sharding_strategy_l4.py\nERROR tests/integration/critical_paths/test_database_transaction_integrity_l4.py\nERROR tests/integration/critical_paths/test_dev_login_cold_start.py\nERROR tests/integration/critical_paths/test_disaster_recovery_failover_l4.py\nERROR tests/integration/critical_paths/test_distributed_auth_state_sync_l4.py\nERROR tests/integration/critical_paths/test_distributed_lock_contention.py\nERROR tests/integration/critical_paths/test_distributed_tracing.py\nERROR tests/integration/critical_paths/test_enterprise_resource_isolation_l4.py\nERROR tests/integration/critical_paths/test_error_circuit_breakers.py\nERROR tests/integration/critical_paths/test_error_database_failures.py\nERROR tests/integration/critical_paths/test_error_network_failures.py\nERROR tests/integration/critical_paths/test_error_recovery_mechanisms.py\nERROR tests/integration/critical_paths/test_error_recovery_resilience_l2.py\nERROR tests/integration/critical_paths/test_error_validation_failures.py\nERROR tests/integration/critical_paths/test_existing_user_login_flow.py\nERROR tests/integration/critical_paths/test_free_to_paid_conversion_flow.py\nERROR tests/integration/critical_paths/test_frontend_initial_auth_flow_l4.py\nERROR tests/integration/critical_paths/test_health_check_cascade.py\nERROR tests/integration/critical_paths/test_jwt_refresh_websocket.py\nERROR tests/integration/critical_paths/test_jwt_token_expiry_handling.py\nERROR tests/integration/critical_paths/test_jwt_token_propagation_l4.py\nERROR tests/integration/critical_paths/test_llm_agent_orchestration_l4.py\nERROR tests/integration/critical_paths/test_message_pipeline_l4.py\nERROR tests/integration/critical_paths/test_message_processing_pipeline.py\nERROR tests/integration/critical_paths/test_metrics_prometheus.py\nERROR tests/integration/critical_paths/test_multi_device_session_sync.py\nERROR tests/integration/critical_paths/test_multi_service_auth_token_propagation.py\nERROR tests/integration/critical_paths/test_multi_service_startup_sequence.py\nERROR tests/integration/critical_paths/test_multi_service_token_propagation.py\nERROR tests/integration/critical_paths/test_multi_tenant_config_isolation.py\nERROR tests/integration/critical_paths/test_multi_tenant_isolation.py\nERROR tests/integration/critical_paths/test_multi_tenant_workspace_isolation.py\nERROR tests/integration/critical_paths/test_new_user_registration_flow.py\nERROR tests/integration/critical_paths/test_oauth_jwt_websocket_flow.py\nERROR tests/integration/critical_paths/test_oauth_jwt_websocket_flow_l4.py\nERROR tests/integration/critical_paths/test_oauth_provider_failover_l4.py\nERROR tests/integration/critical_paths/test_oauth_staging_url_consistency_l4.py\nERROR tests/integration/critical_paths/test_payment_processing_e2e_l4.py\nERROR tests/integration/critical_paths/test_peak_load_autoscaling_l4.py\nERROR tests/integration/critical_paths/test_prometheus_metrics_accuracy.py\nERROR tests/integration/critical_paths/test_prometheus_metrics_collection.py\nERROR tests/integration/critical_paths/test_rate_limiting_l4.py\nERROR tests/integration/critical_paths/test_rate_limiting_load_protection.py\nERROR tests/integration/critical_paths/test_redis_cache_invalidation_cascade.py\nERROR tests/integration/critical_paths/test_redis_cache_warming_startup.py\nERROR tests/integration/critical_paths/test_redis_cluster_resharding.py\nERROR tests/integration/critical_paths/test_redis_memory_pressure_eviction.py\nERROR tests/integration/critical_paths/test_redis_websocket_state_sync.py\nERROR tests/integration/critical_paths/test_security_breach_response_l4.py\nERROR tests/integration/critical_paths/test_service_mesh_discovery.py\nERROR tests/integration/critical_paths/test_service_mesh_routing.py\nERROR tests/integration/critical_paths/test_session_cleanup.py\nERROR tests/integration/critical_paths/test_session_creation.py\nERROR tests/integration/critical_paths/test_session_invalidation_across_services_l4.py\nERROR tests/integration/critical_paths/test_session_invalidation_cascade.py\nERROR tests/integration/critical_paths/test_session_management_basic.py\nERROR tests/integration/critical_paths/test_session_persistence_restart.py\nERROR tests/integration/critical_paths/test_session_sharing.py\nERROR tests/integration/critical_paths/test_session_validation.py\nERROR tests/integration/critical_paths/test_subscription_tier_enforcement.py\nERROR tests/integration/critical_paths/test_team_creation_permissions.py\nERROR tests/integration/critical_paths/test_team_isolation_security.py\nERROR tests/integration/critical_paths/test_token_validation_chain_complete_l4.py\nERROR tests/integration/critical_paths/test_transaction_atomicity_l4.py\nERROR tests/integration/critical_paths/test_user_invitation_flow.py\nERROR tests/integration/critical_paths/test_user_state_persistence_complete_l4.py\nERROR tests/integration/critical_paths/test_websocket_binary_message_handling.py\nERROR tests/integration/critical_paths/test_websocket_broadcast_performance.py\nERROR tests/integration/critical_paths/test_websocket_connection_draining.py\nERROR tests/integration/critical_paths/test_websocket_connection_pooling.py\nERROR tests/integration/critical_paths/test_websocket_first_load.py\nERROR tests/integration/critical_paths/test_websocket_heartbeat_monitoring.py\nERROR tests/integration/critical_paths/test_websocket_heartbeat_zombie.py\nERROR tests/integration/critical_paths/test_websocket_message_compression.py\nERROR tests/integration/critical_paths/test_websocket_message_delivery_guarantee.py\nERROR tests/integration/critical_paths/test_websocket_message_delivery_guarantees_l4.py\nERROR tests/integration/critical_paths/test_websocket_rate_limiting_per_client.py\nERROR tests/integration/critical_paths/test_websocket_reconnection_resilience_l4.py\nERROR tests/integration/critical_paths/test_websocket_reconnection_state_recovery.py\nERROR tests/integration/critical_paths/test_websocket_resilience_recovery.py\nERROR tests/integration/critical_paths/test_websocket_state_recovery_restart.py\nERROR tests/integration/critical_paths/test_workspace_resource_sharing.py\nERROR tests/integration/operational/test_admin_operations.py\nERROR tests/integration/operational/test_error_recovery.py\nERROR tests/integration/operational/test_mcp_tools.py\nERROR tests/integration/operational/test_monitoring.py\nERROR tests/integration/staging/test_staging_auth_service_sync.py\nERROR tests/integration/staging/test_staging_database_connection_resilience.py\nERROR tests/integration/staging_config/test_cloud_sql_proxy.py\nERROR tests/integration/staging_config/test_cors_configuration.py\nERROR tests/integration/staging_config/test_database_migrations.py\nERROR tests/integration/staging_config/test_environment_precedence.py\nERROR tests/integration/staging_config/test_health_checks.py\nERROR tests/integration/staging_config/test_llm_integration.py\nERROR tests/integration/staging_config/test_multi_service_secrets.py\nERROR tests/integration/staging_config/test_observability_pipeline.py\nERROR tests/integration/staging_config/test_redis_lifecycle.py\nERROR tests/integration/staging_config/test_resource_limits.py\nERROR tests/integration/staging_config/test_secret_manager_integration.py\nERROR tests/integration/staging_config/test_staging_startup.py\nERROR tests/integration/staging_config/test_websocket_load_balancer.py\nERROR tests/integration/test_advanced_analytics_export.py\nERROR tests/integration/test_agent_pipeline_core.py\nERROR tests/integration/test_agent_pipeline_performance.py\nERROR tests/integration/test_agent_state_persistence_recovery.py\nERROR tests/integration/test_agent_tool_loading_validation.py\nERROR tests/integration/test_auth_jwt_redis_session.py\nERROR tests/integration/test_background_jobs_redis_queue.py\nERROR tests/integration/test_cache_database_sync.py\nERROR tests/integration/test_cache_edge_cases.py\nERROR tests/integration/test_cache_invalidation_redis.py\nERROR tests/integration/test_cache_redis_invalidation.py\nERROR tests/integration/test_cache_service_cascade.py\nERROR tests/integration/test_circuit_breaker_service_failures.py\nERROR tests/integration/test_critical_agent_collaboration.py\nERROR tests/integration/test_critical_analytics_compliance.py\nERROR tests/integration/test_critical_auth_integration.py\nERROR tests/integration/test_critical_auth_session.py\nERROR tests/integration/test_critical_circuit_breaker_compensation.py\nERROR tests/integration/test_critical_database_transactions.py\nERROR tests/integration/test_critical_integration_main.py\nERROR tests/integration/test_critical_message_health.py\nERROR tests/integration/test_critical_search_quality.py\nERROR tests/integration/test_database_migration_performance.py\nERROR tests/integration/test_database_migration_rollback.py\nERROR tests/integration/test_database_transaction_coordination.py\nERROR tests/integration/test_distributed_tracing_otel.py\nERROR tests/integration/test_enterprise_domain_network.py\nERROR tests/integration/test_enterprise_environment_config.py\nERROR tests/integration/test_enterprise_resource_health.py\nERROR tests/integration/test_error_handling_integration.py\nERROR tests/integration/test_first_message_auth_flow.py\nERROR tests/integration/test_first_time_user_advanced.py\nERROR tests/integration/test_first_time_user_core.py\nERROR tests/integration/test_first_time_user_experience.py\nERROR tests/integration/test_first_time_user_integration.py\nERROR tests/integration/test_first_time_user_onboarding.py\nERROR tests/integration/test_first_time_user_signup.py\nERROR tests/integration/test_llm_response_caching_redis.py\nERROR tests/integration/test_logging_audit_integration_core.py\nERROR tests/integration/test_logging_audit_integration_helpers.py\nERROR tests/integration/test_message_flow_auth_core.py\nERROR tests/integration/test_message_flow_auth_helpers.py\nERROR tests/integration/test_message_flow_errors_core.py\nERROR tests/integration/test_message_flow_errors_helpers.py\nERROR tests/integration/test_message_flow_performance_core.py\nERROR tests/integration/test_message_flow_performance_helpers.py\nERROR tests/integration/test_message_flow_routing_core.py\nERROR tests/integration/test_message_flow_routing_helpers.py\nERROR tests/integration/test_message_queue_redis_streams.py\nERROR tests/integration/test_metrics_pipeline_prometheus.py\nERROR tests/integration/test_migration_rollback_recovery.py\nERROR tests/integration/test_multi_service_startup_orchestration.py\nERROR tests/integration/test_multi_tenant_isolation.py\nERROR tests/integration/test_payment_gateway_sandbox.py\nERROR tests/integration/test_rate_limiting_redis.py\nERROR tests/integration/test_redis_session_core.py\nERROR tests/integration/test_redis_session_performance.py\nERROR tests/integration/test_service_discovery_health_checks.py\nERROR tests/integration/test_service_health_integration.py\nERROR tests/integration/test_sla_compliance_monitoring.py\nERROR tests/integration/test_sso_saml_error_scenarios.py\nERROR tests/integration/test_sso_saml_integration.py\nERROR tests/integration/test_sub_agent_registry_discovery.py\nERROR tests/integration/test_supervisor_observability.py\nERROR tests/integration/test_system_startup_integration.py\nERROR tests/integration/test_team_collaboration_permissions.py\nERROR tests/integration/test_transaction_coordination_integration.py\nERROR tests/integration/test_unified_message_flow_core.py\nERROR tests/integration/test_unified_message_flow_fixtures.py\nERROR tests/integration/test_unified_message_flow_helpers.py\nERROR tests/integration/test_user_flows_main.py\nERROR tests/integration/test_user_login_flows.py\nERROR tests/integration/test_user_onboarding_flow.py\nERROR tests/integration/test_user_registration_flow.py\nERROR tests/integration/test_user_tier_management.py\nERROR tests/integration/test_user_websocket_lifecycle.py\nERROR tests/integration/test_websocket_agent_integration.py\nERROR tests/integration/test_websocket_auth_cold_start.py\nERROR tests/integration/test_websocket_auth_cold_start_extended.py\nERROR tests/integration/test_websocket_auth_token_refresh.py\nERROR tests/integration/test_websocket_connection_recovery.py\nERROR tests/integration/test_websocket_error_recovery.py\nERROR tests/integration/test_websocket_redis_pubsub.py\nERROR tests/integration/test_websocket_state_persistence.py\nERROR tests/integration/user_flows/test_conversion_paths.py\nERROR tests/integration/user_flows/test_early_tier_flows.py\nERROR tests/integration/user_flows/test_enterprise_flows.py\nERROR tests/integration/user_flows/test_free_tier_onboarding.py\nERROR tests/integration/user_flows/test_mid_tier_flows.py\nERROR tests/llm/test_structured_generation.py\nERROR tests/performance/test_agent_load_stress.py\nERROR tests/performance/test_comprehensive_backend_performance.py\nERROR tests/performance/test_performance_batching.py\nERROR tests/performance/test_performance_optimizations.py\nERROR tests/routes/test_admin_routes.py\nERROR tests/routes/test_agent_routes.py\nERROR tests/routes/test_cache_routes.py\nERROR tests/routes/test_config_routes.py\nERROR tests/routes/test_corpus_routes.py\nERROR tests/routes/test_llm_cache_routes.py\nERROR tests/routes/test_mcp_routes.py\nERROR tests/routes/test_quality_routes.py\nERROR tests/routes/test_supply_management.py\nERROR tests/routes/test_supply_research.py\nERROR tests/routes/test_supply_routes.py\nERROR tests/routes/test_synthetic_data_generation.py\nERROR tests/routes/test_synthetic_data_management.py\nERROR tests/routes/test_synthetic_data_routes.py\nERROR tests/routes/test_thread_analytics.py\nERROR tests/routes/test_thread_crud.py\nERROR tests/routes/test_thread_messaging.py\nERROR tests/routes/test_threads_routes.py\nERROR tests/services/test_agent_service_error_recovery.py\nERROR tests/services/test_agent_service_lifecycle.py\nERROR tests/services/test_agent_service_orchestration_agents.py\nERROR tests/services/test_agent_service_orchestration_core.py\nERROR tests/services/test_agent_service_orchestration_workflows.py\nERROR tests/services/test_apex_optimizer_tool_selection_part2.py\nERROR tests/services/test_apex_optimizer_tool_selection_part3.py\nERROR tests/services/test_apex_optimizer_tool_selection_part4.py\nERROR tests/services/test_base_repository.py\nERROR tests/services/test_clickhouse_array_syntax_fixer.py\nERROR tests/services/test_clickhouse_service.py\nERROR tests/services/test_database_repository_transactions.py\nERROR tests/services/test_database_transaction_performance.py\nERROR tests/services/test_database_unit_of_work_transactions.py\nERROR tests/services/test_external_api_client.py\nERROR tests/services/test_external_api_integration.py\nERROR tests/services/test_llm_load_balancing.py\nERROR tests/services/test_llm_provider_switching.py\nERROR tests/services/test_llm_structured_output.py\nERROR tests/services/test_message_repository.py\nERROR tests/services/test_permission_service_integration.py\nERROR tests/services/test_quality_gate_advanced.py\nERROR tests/services/test_quality_gate_basic.py\nERROR tests/services/test_quality_gate_clarity_redundancy.py\nERROR tests/services/test_quality_gate_completeness_novelty.py\nERROR tests/services/test_quality_gate_content.py\nERROR tests/services/test_quality_gate_dataclasses.py\nERROR tests/services/test_quality_gate_hallucination_scoring.py\nERROR tests/services/test_quality_gate_integration_core_1.py\nERROR tests/services/test_quality_gate_integration_core_2.py\nERROR tests/services/test_quality_gate_integration_fixtures.py\nERROR tests/services/test_quality_gate_integration_utilities_1.py\nERROR tests/services/test_quality_gate_integration_utilities_2.py\nERROR tests/services/test_quality_gate_metrics.py\nERROR tests/services/test_quality_gate_quantification_relevance.py\nERROR tests/services/test_quality_gate_specificity_actionability.py\nERROR tests/services/test_quality_monitoring_alerts.py\nERROR tests/services/test_quality_monitoring_basic.py\nERROR tests/services/test_quality_monitoring_integration.py\nERROR tests/services/test_quality_monitoring_metrics.py\nERROR tests/services/test_quality_monitoring_service.py\nERROR tests/services/test_redis_manager_basic_operations.py\nERROR tests/services/test_redis_manager_performance.py\nERROR tests/services/test_redis_manager_pooling.py\nERROR tests/services/test_redis_manager_retry.py\nERROR tests/services/test_reference_repository.py\nERROR tests/services/test_repository_basic_transactions.py\nERROR tests/services/test_resilient_client_circuit.py\nERROR tests/services/test_resilient_client_health.py\nERROR tests/services/test_resilient_client_response.py\nERROR tests/services/test_resilient_client_session.py\nERROR tests/services/test_run_repository.py\nERROR tests/services/test_scheduler_concurrency.py\nERROR tests/services/test_scheduler_jobs_core.py\nERROR tests/services/test_scheduler_performance.py\nERROR tests/services/test_scheduler_retry_logic.py\nERROR tests/services/test_security_service_authentication.py\nERROR tests/services/test_security_service_oauth.py\nERROR tests/services/test_security_service_permissions.py\nERROR tests/services/test_supply_catalog_service.py\nERROR tests/services/test_supply_research_scheduler_jobs.py\nERROR tests/services/test_supply_research_scheduler_jobs_index.py\nERROR tests/services/test_synthetic_data_service_admin.py\nERROR tests/services/test_synthetic_data_service_advanced.py\nERROR tests/services/test_synthetic_data_service_basic.py\nERROR tests/services/test_synthetic_data_service_generation.py\nERROR tests/services/test_synthetic_data_service_ingestion.py\nERROR tests/services/test_synthetic_data_service_integration.py\nERROR tests/services/test_synthetic_data_service_performance.py\nERROR tests/services/test_synthetic_data_service_recovery.py\nERROR tests/services/test_synthetic_data_service_validation.py\nERROR tests/services/test_thread_repository.py\nERROR tests/services/test_tool_permission_availability.py\nERROR tests/services/test_tool_permission_business_requirements.py\nERROR tests/services/test_tool_permission_checking.py\nERROR tests/services/test_tool_permission_integration.py\nERROR tests/services/test_tool_permission_rate_limiting.py\nERROR tests/services/test_tool_permission_service_initialization.py\nERROR tests/services/test_tool_permission_user_plans.py\nERROR tests/services/test_tool_registry_discovery.py\nERROR tests/services/test_tool_registry_performance.py\nERROR tests/services/test_tool_registry_validation.py\nERROR tests/services/test_unified_tool_registry_management.py\nERROR tests/services/test_unified_tool_registry_orchestration.py\nERROR tests/services/test_unit_of_work.py\nERROR tests/services/test_user_service.py\nERROR tests/services/test_websocket_handler_routing.py\nERROR tests/services/test_ws_connection_basic.py\nERROR tests/services/test_ws_connection_mocks.py\nERROR tests/services/test_ws_connection_performance.py\nERROR tests/services/test_ws_manager_connection_pool.py\nERROR tests/startup/test_config_validator.py\nERROR tests/startup/test_error_aggregator.py\nERROR tests/startup/test_health_monitor_adaptive.py\nERROR tests/startup/test_health_monitor_checks.py\nERROR tests/startup/test_health_monitor_core.py\nERROR tests/startup/test_health_monitor_lifecycle.py\nERROR tests/startup/test_migration_tracker.py\nERROR tests/startup/test_staged_health_monitor.py\nERROR tests/startup/test_staged_health_monitor_index.py\nERROR tests/startup/test_startup_status_manager.py\nERROR tests/test_database_manager_helpers.py\nERROR tests/test_mcp_integration_core.py\nERROR tests/test_mcp_integration_fixtures.py\nERROR tests/test_mcp_integration_services.py\nERROR tests/test_websocket_production_realistic.py\nERROR tests/test_websocket_type_safety.py\nERROR tests/unified_system/test_health_coordination.py\nERROR tests/utils/test_datetime_string_json_utils.py\nERROR tests/utils/test_file_crypto_validation_utils.py\nERROR tests/utils/test_formatting_math_network_utils.py\nERROR tests/utils/test_monitoring_debug_migration_utils.py\nERROR tests/utils/test_pagination_rate_retry_utils.py\nERROR tests/websocket/test_performance_monitor_coverage.py\nERROR tests/websocket/test_state_synchronizer_exceptions.py\nERROR tests/websocket/test_websocket_comprehensive.py\nERROR tests/websocket/test_websocket_e2e_complete.py\nERROR tests/websocket/test_websocket_integration_performance.py\nERROR tests/websocket/test_websocket_reliability_fixes.py\nERROR tests/websocket/test_websocket_resilience.py\nERROR tests/websocket/test_websocket_serialization_critical.py\nERROR tests/ws_manager/test_base.py\nERROR tests/ws_manager/test_messaging.py\nERROR tests/ws_manager/test_singleton_and_connection.py\n!!!!!!!!!!!!!!!!!! Interrupted: 477 errors during collection !!!!!!!!!!!!!!!!!!\n================ 1 skipped, 121 warnings, 477 errors in 31.30s ================\n",
      "errors": "--- Logging error in Loguru Handler #2 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=38, microseconds=301129), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=51528, name='MainProcess'), 'thread': (id=57580, name='MainThread'), 'time': datetime(2025, 8, 22, 9, 0, 48, 150179, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n"
    },
    "auth": {
      "success": false,
      "duration": 29.472856998443604,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 193 items\n\ntests\\integration\\test_auth_oauth_errors.py ........                     [  4%]\ntests\\integration\\test_auth_oauth_google.py ........                     [  8%]\ntests\\integration\\test_oauth_comprehensive_failures.py F.F....FFFFFFFFFF [ 17%]\nFFFF....FFFFsFF                                                          [ 24%]\ntests\\integration\\test_oauth_flows_auth.py ..                            [ 25%]\ntests\\integration\\test_oauth_flows_core.py ...                           [ 27%]\ntests\\integration\\test_oauth_flows_sync.py ............                  [ 33%]\ntests\\test_auth_token_generation.py .......FF.                           [ 38%]\ntests\\test_auth_token_security.py FFF..FFFFFFF.FFFFF                     [ 48%]\ntests\\test_auth_token_validation.py FFFFFFFFFFFFFF                       [ 55%]\ntests\\test_cloud_sql_url.py FFFF                                         [ 57%]\ntests\\test_security.py FFFFFFFFFFFFFFFFFFF.                              [ 67%]\ntests\\test_session_cleanup.py FFFFF.F...                                 [ 73%]\ntests\\test_session_management.py .F...............                       [ 81%]\ntests\\test_setup.py ....                                                 [ 83%]\ntests\\test_single_database.py ....                                       [ 86%]\ntests\\unified\\test_jwt_validation.py FFFFFFFFF.F.                        [ 92%]\ntests\\unit\\test_oauth_models.py ...............                          [100%]\n\n================================== FAILURES ===================================\n__ TestOAuthComprehensiveFailures.test_01_successful_oauth_login_basic_flow ___\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491BBFF7A0>\nreal_db_session = <sqlalchemy.orm.session.Session object at 0x000002491D453500>\n\n    @pytest.mark.asyncio\n    async def test_01_successful_oauth_login_basic_flow(self, real_db_session):\n        \"\"\"\n        Test 1: Basic successful OAuth login flow - THE DEFAULT CASE\n        This MUST work in production but is designed to initially fail.\n        \"\"\"\n        # Simulate Google OAuth callback with valid token\n        state = secrets.token_urlsafe(32)\n        mock_google_user = {\n            \"id\": \"google_123456\",\n            \"email\": \"testuser@example.com\",\n            \"name\": \"Test User\",\n            \"picture\": \"https://example.com/photo.jpg\",\n            \"verified_email\": True,\n        }\n    \n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.return_value.json.return_value = {\n                \"access_token\": \"valid_google_token\",\n                \"token_type\": \"Bearer\",\n                \"expires_in\": 3600,\n            }\n    \n            with patch(\"httpx.AsyncClient.get\") as mock_get:\n                mock_get.return_value.json.return_value = mock_google_user\n    \n                response = client.post(\n                    \"/auth/callback/google\",\n                    json={\n                        \"code\": \"valid_auth_code\",\n                        \"state\": state,\n                    }\n                )\n    \n        # This SHOULD succeed but will initially fail\n>       assert response.status_code == 200\nE       assert 401 == 200\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:132: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_auth_code\n______ TestOAuthComprehensiveFailures.test_03_oauth_nonce_replay_attack _______\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF41D0>\nredis_container = <testcontainers.redis.RedisContainer object at 0x000002491D6D3140>\n\n    @pytest.mark.asyncio\n    async def test_03_oauth_nonce_replay_attack(self, redis_container):\n        \"\"\"Test 3: OAuth nonce replay attack prevention (L3 with real Redis)\"\"\"\n        # Set environment variables for the OAuth security manager to find the test Redis\n        import os\n        os.environ[\"TEST_REDIS_HOST\"] = redis_container.get_container_host_ip()\n        os.environ[\"TEST_REDIS_PORT\"] = str(redis_container.get_exposed_port(6379))\n    \n        # Connect to real Redis container\n        redis_client = redis.Redis(\n            host=redis_container.get_container_host_ip(),\n            port=redis_container.get_exposed_port(6379),\n            decode_responses=True\n        )\n    \n        nonce = secrets.token_urlsafe(32)\n        state = base64.urlsafe_b64encode(\n            json.dumps({\"nonce\": nonce, \"timestamp\": int(time.time())}).encode()\n        ).decode()\n    \n        # Store nonce in Redis to simulate first use\n        redis_client.setex(f\"oauth_nonce:{nonce}\", 600, \"used\")\n    \n        # Try to reuse the same nonce (use unique code to avoid code reuse check)\n        unique_code = f\"unique_code_{secrets.token_urlsafe(8)}\"\n        response = client.post(\n            \"/auth/callback/google\",\n            json={\n                \"code\": unique_code,\n                \"state\": state,\n            }\n        )\n        assert response.status_code == 401\n>       assert \"nonce\" in response.json()[\"detail\"].lower() or \"replay\" in response.json()[\"detail\"].lower()\nE       AssertionError: assert ('nonce' in 'failed to exchange authorization code' or 'replay' in 'failed to exchange authorization code')\nE        +  where 'failed to exchange authorization code' = <built-in method lower of str object at 0x000002491D41A600>()\nE        +    where <built-in method lower of str object at 0x000002491D41A600> = 'Failed to exchange authorization code'.lower\nE        +  and   'failed to exchange authorization code' = <built-in method lower of str object at 0x000002491D748CB0>()\nE        +    where <built-in method lower of str object at 0x000002491D748CB0> = 'Failed to exchange authorization code'.lower\n\ntests\\integration\\test_oauth_comprehensive_failures.py:194: AssertionError\n------------------------------ Captured log call ------------------------------\nERROR    auth_service.auth_core.routes.auth_routes:auth_routes.py:667 Token exchange failed: 401 - {\n  \"error\": \"invalid_client\",\n  \"error_description\": \"The OAuth client was not found.\"\n}\nERROR    auth_service.auth_core.services.auth_service:auth_service.py:713 Request failed for google_oauth: 401: Failed to exchange authorization code\n__________ TestOAuthComprehensiveFailures.test_08_malformed_id_token __________\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF4E60>\n\n    @pytest.mark.asyncio\n    async def test_08_malformed_id_token(self):\n        \"\"\"Test 8: Malformed ID token from OAuth provider\"\"\"\n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.return_value.json.return_value = {\n                \"access_token\": \"valid_token\",\n                \"id_token\": \"MALFORMED.TOKEN.HERE\",\n                \"token_type\": \"Bearer\",\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n        assert response.status_code == 401\n>       assert \"invalid token\" in response.json()[\"detail\"].lower()\nE       AssertionError: assert 'invalid token' in 'authorization code already used'\nE        +  where 'authorization code already used' = <built-in method lower of str object at 0x000002491D788940>()\nE        +    where <built-in method lower of str object at 0x000002491D788940> = 'Authorization code already used'.lower\n\ntests\\integration\\test_oauth_comprehensive_failures.py:318: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_______ TestOAuthComprehensiveFailures.test_09_invalid_token_signature ________\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF50D0>\n\n    @pytest.mark.asyncio\n    async def test_09_invalid_token_signature(self):\n        \"\"\"Test 9: Invalid JWT signature in ID token\"\"\"\n        # Create JWT with invalid signature\n        invalid_token = pyjwt.encode(\n            {\"sub\": \"user123\", \"email\": \"test@example.com\"},\n            \"wrong_secret\",\n            algorithm=\"HS256\"\n        )\n    \n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.return_value.json.return_value = {\n                \"access_token\": \"valid_token\",\n                \"id_token\": invalid_token,\n                \"token_type\": \"Bearer\",\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n        assert response.status_code == 401\n>       assert \"signature\" in response.json()[\"detail\"].lower()\nE       AssertionError: assert 'signature' in 'authorization code already used'\nE        +  where 'authorization code already used' = <built-in method lower of str object at 0x000002491D41A600>()\nE        +    where <built-in method lower of str object at 0x000002491D41A600> = 'Authorization code already used'.lower\n\ntests\\integration\\test_oauth_comprehensive_failures.py:346: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n___________ TestOAuthComprehensiveFailures.test_10_expired_id_token ___________\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5340>\n\n    @pytest.mark.asyncio\n    async def test_10_expired_id_token(self):\n        \"\"\"Test 10: Expired ID token\"\"\"\n        expired_token = pyjwt.encode(\n            {\n                \"sub\": \"user123\",\n                \"email\": \"test@example.com\",\n                \"exp\": int(time.time() - 3600),\n                \"iat\": int(time.time() - 7200),\n            },\n            \"secret\",\n            algorithm=\"HS256\"\n        )\n    \n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.return_value.json.return_value = {\n                \"access_token\": \"valid_token\",\n                \"id_token\": expired_token,\n                \"token_type\": \"Bearer\",\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n        assert response.status_code == 401\n>       assert \"expired\" in response.json()[\"detail\"].lower()\nE       AssertionError: assert 'expired' in 'authorization code already used'\nE        +  where 'authorization code already used' = <built-in method lower of str object at 0x000002491D7895C0>()\nE        +    where <built-in method lower of str object at 0x000002491D7895C0> = 'Authorization code already used'.lower\n\ntests\\integration\\test_oauth_comprehensive_failures.py:378: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n___ TestOAuthComprehensiveFailures.test_11_missing_email_in_oauth_response ____\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCBBE30>\n\n    @pytest.mark.asyncio\n    async def test_11_missing_email_in_oauth_response(self):\n        \"\"\"Test 11: Missing email in OAuth provider response\"\"\"\n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"name\": \"Test User\",\n                # email missing\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 400\nE       assert 401 == 400\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:400: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_______ TestOAuthComprehensiveFailures.test_12_unverified_email_address _______\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF4FE0>\n\n    @pytest.mark.asyncio\n    async def test_12_unverified_email_address(self):\n        \"\"\"Test 12: Unverified email address from OAuth provider\"\"\"\n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"email\": \"unverified@example.com\",\n                \"verified_email\": False,\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 403\nE       assert 401 == 403\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:421: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_________ TestOAuthComprehensiveFailures.test_13_blocked_email_domain _________\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF4A10>\n\n    @pytest.mark.asyncio\n    async def test_13_blocked_email_domain(self):\n        \"\"\"Test 13: Blocked email domain (spam/disposable)\"\"\"\n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"email\": \"test@tempmail.com\",\n                \"verified_email\": True,\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 403\nE       assert 401 == 403\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:442: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_ TestOAuthComprehensiveFailures.test_14_distributed_tracing_context_propagation_failure _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:256: in handle_async_request\n    raise exc from None\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:101: in handle_async_request\n    raise exc\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF4530>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    async def test_14_distributed_tracing_context_propagation_failure(self, staging_env_config):\n        \"\"\"Test 14: Distributed tracing context propagation failure across services (L4)\"\"\"\n        # Test OpenTelemetry context propagation\n        trace_id = uuid.uuid4().hex\n        span_id = secrets.token_hex(8)\n    \n        headers = {\n            \"traceparent\": f\"00-{trace_id}-{span_id}-01\",\n            \"tracestate\": \"netra=oauth_flow\"\n        }\n    \n        async with httpx.AsyncClient() as http_client:\n            # Auth service should propagate trace context to backend\n>           auth_response = await http_client.post(\n                f\"{staging_env_config['auth_service_url']}/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                },\n                headers=headers\n            )\n\ntests\\integration\\test_oauth_comprehensive_failures.py:461: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1859: in post\n    return await self.request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1629: in send\n    response = await self._send_handling_auth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:118: ConnectError\n_ TestOAuthComprehensiveFailures.test_15_circuit_breaker_activation_on_provider_failure _\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF54C0>\nredis_container = <testcontainers.redis.RedisContainer object at 0x000002491D6D3140>\n\n    @pytest.mark.asyncio\n    async def test_15_circuit_breaker_activation_on_provider_failure(self, redis_container):\n        \"\"\"Test 15: Circuit breaker activation on repeated OAuth provider failures (L3)\"\"\"\n        # Real Redis for circuit breaker state\n        redis_client = redis.Redis(\n            host=redis_container.get_container_host_ip(),\n            port=redis_container.get_exposed_port(6379),\n            decode_responses=True\n        )\n    \n        # Simulate multiple failures to trigger circuit breaker\n        for i in range(5):\n            with patch(\"httpx.AsyncClient.post\") as mock_post:\n                mock_post.side_effect = httpx.ConnectError(\"Provider unavailable\")\n    \n                response = client.post(\n                    \"/auth/callback/google\",\n                    json={\n                        \"code\": f\"code_{i}\",\n                        \"state\": secrets.token_urlsafe(32),\n                    }\n                )\n    \n        # Circuit breaker should be open now\n        response = client.post(\n            \"/auth/callback/google\",\n            json={\n                \"code\": \"valid_code\",\n                \"state\": secrets.token_urlsafe(32),\n            }\n        )\n    \n>       assert response.status_code == 503\nE       assert 401 == 503\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:507: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nERROR    auth_service.auth_core.services.auth_service:auth_service.py:713 Request failed for google_oauth: Provider unavailable\nERROR    auth_service.auth_core.routes.auth_routes:auth_routes.py:702 Network connection failed: Provider unavailable\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nERROR    auth_service.auth_core.services.auth_service:auth_service.py:713 Request failed for google_oauth: Provider unavailable\nERROR    auth_service.auth_core.routes.auth_routes:auth_routes.py:702 Network connection failed: Provider unavailable\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.services.auth_service:auth_service.py:695 Circuit breaker opened for google_oauth after 5 failures\nERROR    auth_service.auth_core.services.auth_service:auth_service.py:713 Request failed for google_oauth: Provider unavailable\nERROR    auth_service.auth_core.routes.auth_routes:auth_routes.py:702 Network connection failed: Provider unavailable\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n______ TestOAuthComprehensiveFailures.test_16_network_connection_failure ______\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5730>\n\n    @pytest.mark.asyncio\n    async def test_16_network_connection_failure(self):\n        \"\"\"Test 16: Network connection failure to OAuth provider\"\"\"\n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.side_effect = httpx.ConnectError(\"Connection failed\")\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 503\nE       assert 401 == 503\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:524: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_____ TestOAuthComprehensiveFailures.test_17_database_connection_failure ______\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF59A0>\n\n    @pytest.mark.asyncio\n    async def test_17_database_connection_failure(self):\n        \"\"\"Test 17: Database connection failure during user creation\"\"\"\n        with patch(\"auth_service.auth_core.database.connection.get_db_session\") as mock_db:\n            mock_db.side_effect = Exception(\"Database connection failed\")\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 503\nE       assert 401 == 503\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:543: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_______ TestOAuthComprehensiveFailures.test_18_session_storage_failure ________\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5C10>\nredis_container = <testcontainers.redis.RedisContainer object at 0x000002491D6D3140>\n\n    @pytest.mark.asyncio\n    async def test_18_session_storage_failure(self, redis_container):\n        \"\"\"Test 18: Redis session storage failure\"\"\"\n        with patch(\"redis.Redis.set\") as mock_redis_set:\n            mock_redis_set.side_effect = Exception(\"Redis connection failed\")\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 503\nE       assert 401 == 503\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:560: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n_ TestOAuthComprehensiveFailures.test_19_duplicate_user_creation_race_condition _\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5EB0>\nreal_db_session = <sqlalchemy.orm.session.Session object at 0x000002491D7770B0>\n\n    @pytest.mark.asyncio\n    async def test_19_duplicate_user_creation_race_condition(self, real_db_session):\n        \"\"\"Test 19: Race condition in duplicate user creation\"\"\"\n        email = \"raceuser@example.com\"\n    \n        async def create_user():\n            with patch(\"httpx.AsyncClient.get\") as mock_get:\n                mock_get.return_value.json.return_value = {\n                    \"id\": str(uuid.uuid4()),\n                    \"email\": email,\n                    \"verified_email\": True,\n                }\n    \n                return client.post(\n                    \"/auth/callback/google\",\n                    json={\n                        \"code\": f\"valid_code_{uuid.uuid4()}\",\n                        \"state\": secrets.token_urlsafe(32),\n                    }\n                )\n    \n        # Simulate concurrent requests\n        tasks = [create_user() for _ in range(5)]\n        responses = await asyncio.gather(*tasks, return_exceptions=True)\n    \n        # Only one should succeed, others should handle gracefully\n        success_count = sum(1 for r in responses if not isinstance(r, Exception) and r.status_code == 200)\n>       assert success_count == 1\nE       assert 0 == 1\n\ntests\\integration\\test_oauth_comprehensive_failures.py:590: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\n__ TestOAuthComprehensiveFailures.test_20_jwt_propagation_to_backend_failure __\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:256: in handle_async_request\n    raise exc from None\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:101: in handle_async_request\n    raise exc\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF6120>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    async def test_20_jwt_propagation_to_backend_failure(self, staging_env_config):\n        \"\"\"Test 20: JWT token propagation failure to backend service\"\"\"\n        # Get valid JWT from auth service\n        jwt_token = \"valid_jwt_token_here\"\n    \n        # Try to use JWT with backend service\n        async with httpx.AsyncClient() as client:\n>           response = await client.get(\n                f\"{staging_env_config['backend_url']}/api/v1/user/profile\",\n                headers={\"Authorization\": f\"Bearer {jwt_token}\"}\n            )\n\ntests\\integration\\test_oauth_comprehensive_failures.py:602: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1768: in get\n    return await self.request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1629: in send\n    response = await self._send_handling_auth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:118: ConnectError\n___ TestOAuthComprehensiveFailures.test_21_websocket_auth_handshake_failure ___\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF6390>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    async def test_21_websocket_auth_handshake_failure(self, staging_env_config):\n        \"\"\"Test 21: WebSocket authentication handshake failure\"\"\"\n        import websockets\n    \n        jwt_token = \"valid_jwt_token\"\n    \n        # Attempt WebSocket connection with JWT\n        uri = f\"{staging_env_config['websocket_url']}?token={jwt_token}\"\n    \n        try:\n>           async with websockets.connect(uri) as websocket:\n\ntests\\integration\\test_oauth_comprehensive_failures.py:621: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\asyncio\\client.py:587: in __aenter__\n    return await self\n           ^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\asyncio\\client.py:541: in __await_impl__\n    self.connection = await self.create_connection()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\asyncio\\client.py:467: in create_connection\n    _, connection = await loop.create_connection(factory, **kwargs)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py:1080: in create_connection\n    infos = await self._ensure_resolved(\nC:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py:1456: in _ensure_resolved\n    return await loop.getaddrinfo(host, port, family=family, type=type,\nC:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py:901: in getaddrinfo\n    return await self.run_in_executor(\nC:\\Users\\antho\\miniconda3\\Lib\\concurrent\\futures\\thread.py:58: in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nhost = 'ws.staging.netra.ai', port = 443, family = 0\ntype = <SocketKind.SOCK_STREAM: 1>, proto = 0, flags = 0\n\n    def getaddrinfo(host, port, family=0, type=0, proto=0, flags=0):\n        \"\"\"Resolve host and port into list of address info entries.\n    \n        Translate the host/port argument into a sequence of 5-tuples that contain\n        all the necessary arguments for creating a socket connected to that service.\n        host is a domain name, a string representation of an IPv4/v6 address or\n        None. port is a string service name such as 'http', a numeric port number or\n        None. By passing None as the value of host and port, you can pass NULL to\n        the underlying C API.\n    \n        The family, type and proto arguments can be optionally specified in order to\n        narrow the list of addresses returned. Passing zero as a value for each of\n        these arguments selects the full range of results.\n        \"\"\"\n        # We override this function since we want to translate the numeric family\n        # and socket type values to enum constants.\n        addrlist = []\n>       for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       socket.gaierror: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\miniconda3\\Lib\\socket.py:964: gaierror\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF6390>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    async def test_21_websocket_auth_handshake_failure(self, staging_env_config):\n        \"\"\"Test 21: WebSocket authentication handshake failure\"\"\"\n        import websockets\n    \n        jwt_token = \"valid_jwt_token\"\n    \n        # Attempt WebSocket connection with JWT\n        uri = f\"{staging_env_config['websocket_url']}?token={jwt_token}\"\n    \n        try:\n            async with websockets.connect(uri) as websocket:\n                await websocket.send(json.dumps({\"type\": \"auth\", \"token\": jwt_token}))\n                response = await websocket.recv()\n                data = json.loads(response)\n                assert data[\"status\"] == \"authenticated\"\n        except Exception as e:\n>           pytest.fail(f\"WebSocket auth failed: {e}\")\nE           Failed: WebSocket auth failed: [Errno 11001] getaddrinfo failed\n\ntests\\integration\\test_oauth_comprehensive_failures.py:627: Failed\n_____ TestOAuthComprehensiveFailures.test_26_extremely_long_email_address _____\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF7020>\n\n    @pytest.mark.asyncio\n    async def test_26_extremely_long_email_address(self):\n        \"\"\"Test 26: Extremely long email address handling\"\"\"\n        long_email = \"a\" * 200 + \"@example.com\"\n    \n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"email\": long_email,\n                \"verified_email\": True,\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n>       assert response.status_code == 400\nE       assert 401 == 400\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:728: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n__ TestOAuthComprehensiveFailures.test_27_unicode_and_special_chars_in_name ___\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCBBD40>\n\n    @pytest.mark.asyncio\n    async def test_27_unicode_and_special_chars_in_name(self):\n        \"\"\"Test 27: Unicode and special characters in user name\"\"\"\n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"email\": \"test@example.com\",\n                \"name\": \"\\u6d4b\\u8bd5\\u7528\\u6237 \\U0001f680 <script>alert('xss')</script>\",\n                \"verified_email\": True,\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n        # Should sanitize but still work\n>       assert response.status_code == 200\nE       assert 401 == 200\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:751: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n____ TestOAuthComprehensiveFailures.test_28_null_values_in_oauth_response _____\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF6F60>\n\n    @pytest.mark.asyncio\n    async def test_28_null_values_in_oauth_response(self):\n        \"\"\"Test 28: Null values in OAuth provider response\"\"\"\n        with patch(\"httpx.AsyncClient.get\") as mock_get:\n            mock_get.return_value.json.return_value = {\n                \"id\": \"user123\",\n                \"email\": \"test@example.com\",\n                \"name\": None,\n                \"picture\": None,\n                \"verified_email\": True,\n            }\n    \n            response = client.post(\n                \"/auth/callback/google\",\n                json={\n                    \"code\": \"valid_code\",\n                    \"state\": secrets.token_urlsafe(32),\n                }\n            )\n    \n        # Should handle null values gracefully\n>       assert response.status_code == 200\nE       assert 401 == 200\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:776: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:212 Authorization code reuse attack detected: valid_code\n______ TestOAuthComprehensiveFailures.test_29_concurrent_login_attempts _______\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF69F0>\n\n    @pytest.mark.asyncio\n    async def test_29_concurrent_login_attempts(self):\n        \"\"\"Test 29: Concurrent login attempts from same user\"\"\"\n        email = \"concurrent@example.com\"\n    \n        async def login_attempt(attempt_num):\n            with patch(\"httpx.AsyncClient.get\") as mock_get:\n                mock_get.return_value.json.return_value = {\n                    \"id\": \"user123\",\n                    \"email\": email,\n                    \"verified_email\": True,\n                }\n    \n                return client.post(\n                    \"/auth/callback/google\",\n                    json={\n                        \"code\": f\"valid_code_{attempt_num}\",\n                        \"state\": secrets.token_urlsafe(32),\n                    }\n                )\n    \n        # Simulate 10 concurrent login attempts\n        tasks = [login_attempt(i) for i in range(10)]\n        responses = await asyncio.gather(*tasks, return_exceptions=True)\n    \n        # All should succeed or fail gracefully\n        for response in responses:\n            if not isinstance(response, Exception):\n>               assert response.status_code in [200, 429]  # Success or rate limited\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE               assert 503 in [200, 429]\nE                +  where 503 = <Response [503 Service Unavailable]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:810: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\nWARNING  auth_service.auth_core.routes.auth_routes:auth_routes.py:629 Using simple string state (test mode)\n____ TestOAuthComprehensiveFailures.test_staging_multi_service_oauth_flow _____\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n>           yield\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:101: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:394: in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:256: in handle_async_request\n    raise exc from None\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection_pool.py:236: in handle_async_request\n    response = await connection.handle_async_request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:101: in handle_async_request\n    raise exc\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:78: in handle_async_request\n    stream = await self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_async\\connection.py:124: in _connect\n    stream = await self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\auto.py:31: in connect_tcp\n    return await self._backend.connect_tcp(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_backends\\anyio.py:113: in connect_tcp\n    with map_exceptions(exc_map):\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ConnectTimeout'>, <class 'OSError'>: <class 'httpcore.ConnectError'>, <class 'anyio.BrokenResourceError'>: <class 'httpcore.ConnectError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpcore\\_exceptions.py:14: ConnectError\n\nThe above exception was the direct cause of the following exception:\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5F70>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    @pytest.mark.staging\n    async def test_staging_multi_service_oauth_flow(self, staging_env_config):\n        \"\"\"Test complete OAuth flow across all three services in staging\"\"\"\n        async with httpx.AsyncClient() as http_client:\n            # Step 1: Initiate OAuth with auth service\n>           auth_response = await http_client.get(\n                f\"{staging_env_config['auth_service_url']}/auth/login/google\"\n            )\n\ntests\\integration\\test_oauth_comprehensive_failures.py:864: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1768: in get\n    return await self.request(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1540: in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1629: in send\n    response = await self._send_handling_auth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1657: in _send_handling_auth\n    response = await self._send_handling_redirects(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1694: in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_client.py:1730: in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:393: in handle_async_request\n    with map_httpcore_exceptions():\nC:\\Users\\antho\\miniconda3\\Lib\\contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        global HTTPCORE_EXC_MAP\n        if len(HTTPCORE_EXC_MAP) == 0:\n            HTTPCORE_EXC_MAP = _load_httpcore_exceptions()\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ConnectError: [Errno 11001] getaddrinfo failed\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\httpx\\_transports\\default.py:118: ConnectError\n_____ TestOAuthComprehensiveFailures.test_staging_oauth_provider_failover _____\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002491CCF5A00>\nstaging_env_config = {'auth_service_url': 'https://auth-service.staging.netra.ai', 'backend_url': 'https://api.staging.netra.ai', 'frontend_url': 'https://app.staging.netra.ai', 'websocket_url': 'wss://ws.staging.netra.ai'}\n\n    @pytest.mark.asyncio\n    @pytest.mark.staging\n    async def test_staging_oauth_provider_failover(self, staging_env_config):\n        \"\"\"Test OAuth provider failover in staging environment\"\"\"\n        async with httpx.AsyncClient() as http_client:\n            # Test Google OAuth failure triggers GitHub OAuth\n            with patch(\"httpx.AsyncClient.post\") as mock_post:\n                mock_post.side_effect = [\n                    httpx.TimeoutException(\"Google timeout\"),\n                    Mock(status_code=200, json=lambda: {\"access_token\": \"github_token\"})\n                ]\n    \n>               response = await http_client.post(\n                    f\"{staging_env_config['auth_service_url']}/auth/callback/google\",\n                    json={\n                        \"code\": \"test_code\",\n                        \"state\": \"test_state\",\n                    }\n                )\n\ntests\\integration\\test_oauth_comprehensive_failures.py:904: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <AsyncMock name='post' id='2513041145104'>\nargs = ('https://auth-service.staging.netra.ai/auth/callback/google',)\nkwargs = {'json': {'code': 'test_code', 'state': 'test_state'}}\n_call = call('https://auth-service.staging.netra.ai/auth/callback/google', json={'code': 'test_code', 'state': 'test_state'})\neffect = <list_iterator object at 0x000002491CE4CA00>\nresult = TimeoutException('Google timeout')\n\n    async def _execute_mock_call(self, /, *args, **kwargs):\n        # This is nearly just like super(), except for special handling\n        # of coroutines\n    \n        _call = _Call((args, kwargs), two=True)\n        self.await_count += 1\n        self.await_args = _call\n        self.await_args_list.append(_call)\n    \n        effect = self.side_effect\n        if effect is not None:\n            if _is_exception(effect):\n                raise effect\n            elif not _callable(effect):\n                try:\n                    result = next(effect)\n                except StopIteration:\n                    # It is impossible to propagate a StopIteration\n                    # through coroutines because of PEP 479\n                    raise StopAsyncIteration\n                if _is_exception(result):\n>                   raise result\nE                   httpx.TimeoutException: Google timeout\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:2271: TimeoutException\n___________ TestJWTTokenGeneration.test_token_expiry_configuration ____________\n\nself = <auth_service.tests.test_auth_token_generation.TestJWTTokenGeneration testMethod=test_token_expiry_configuration>\n\n    def test_token_expiry_configuration(self):\n        \"\"\"Test token expiry times are configured correctly\"\"\"\n        # Generate tokens\n        access_token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n        refresh_token = self.jwt_handler.create_refresh_token(self.test_user_id)\n        service_token = self.jwt_handler.create_service_token(\"test-service\", \"test\")\n    \n        # Decode tokens\n        access_payload = jwt.decode(access_token, options={\"verify_signature\": False})\n        refresh_payload = jwt.decode(refresh_token, options={\"verify_signature\": False})\n        service_payload = jwt.decode(service_token, options={\"verify_signature\": False})\n    \n        # Calculate expiry durations\n        now = datetime.now(timezone.utc)\n        access_exp = datetime.fromtimestamp(access_payload[\"exp\"], timezone.utc)\n        refresh_exp = datetime.fromtimestamp(refresh_payload[\"exp\"], timezone.utc)\n        service_exp = datetime.fromtimestamp(service_payload[\"exp\"], timezone.utc)\n    \n        # Validate expiry relationships\n        assert access_exp > now\n        assert refresh_exp > now\n        assert service_exp > now\n    \n        # Refresh tokens should have longer expiry than access tokens\n        assert refresh_exp > access_exp\n    \n        # Validate approximate expiry durations (allowing for timing variations)\n        access_duration = (access_exp - now).total_seconds()\n        refresh_duration = (refresh_exp - now).total_seconds()\n        service_duration = (service_exp - now).total_seconds()\n    \n        # Access tokens: ~15 minutes (900 seconds), allow \ufffd60 seconds\n        assert 840 <= access_duration <= 960, f\"Access token duration: {access_duration}s\"\n    \n        # Refresh tokens: ~7 days (604800 seconds), allow \ufffd3600 seconds\n        assert 601200 <= refresh_duration <= 608400, f\"Refresh token duration: {refresh_duration}s\"\n    \n        # Service tokens: typically longer lived, at least 1 hour\n>       assert service_duration >= 3600, f\"Service token duration: {service_duration}s\"\nE       AssertionError: Service token duration: 299.310709s\nE       assert 299.310709 >= 3600\n\ntests\\test_auth_token_generation.py:271: AssertionError\n_____________ TestJWTTokenGeneration.test_token_generation_timing _____________\n\nself = <auth_service.tests.test_auth_token_generation.TestJWTTokenGeneration testMethod=test_token_generation_timing>\n\n    def test_token_generation_timing(self):\n        \"\"\"Test token generation timing and consistency\"\"\"\n        start_time = time.time()\n    \n        # Generate multiple tokens\n        tokens = []\n        for i in range(5):\n            token = self.jwt_handler.create_access_token(\n                f\"user-{i}\",\n                f\"user{i}@example.com\"\n            )\n            tokens.append(token)\n    \n        generation_time = time.time() - start_time\n    \n        # Token generation should be fast\n        assert generation_time < 1.0, f\"Token generation took {generation_time:.3f}s, should be <1s\"\n    \n        # All tokens should be unique\n        assert len(set(tokens)) == len(tokens)\n    \n        # All tokens should have different issued at times\n        issued_times = []\n        for token in tokens:\n            payload = jwt.decode(token, options={\"verify_signature\": False})\n            issued_times.append(payload[\"iat\"])\n    \n        # Due to timing, some might be the same, but most should be different\n        unique_times = len(set(issued_times))\n>       assert unique_times >= len(issued_times) * 0.8\nE       assert 1 >= (5 * 0.8)\nE        +  where 5 = len([1755878469, 1755878469, 1755878469, 1755878469, 1755878469])\n\ntests\\test_auth_token_generation.py:195: AssertionError\n_______ TestJWTClaimsExtraction.test_extract_claims_from_tampered_token _______\n\nself = <auth_service.tests.test_auth_token_security.TestJWTClaimsExtraction testMethod=test_extract_claims_from_tampered_token>\n\n    def test_extract_claims_from_tampered_token(self):\n        \"\"\"Test claims extraction detects tampered tokens\"\"\"\n        # Create valid token\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Tamper with token payload\n        parts = token.split('.')\n    \n        # Decode and modify payload\n        padded_payload = parts[1] + '=' * (4 - len(parts[1]) % 4)\n        decoded_payload = json.loads(base64.urlsafe_b64decode(padded_payload))\n    \n        # Tamper with permissions\n        decoded_payload['permissions'] = ['admin', 'superuser']\n    \n        # Re-encode payload\n        tampered_payload = base64.urlsafe_b64encode(\n            json.dumps(decoded_payload).encode()\n        ).decode().rstrip('=')\n    \n        # Reconstruct tampered token\n        tampered_token = f\"{parts[0]}.{tampered_payload}.{parts[2]}\"\n    \n        # Secure validation should detect tampering\n>       payload = self.jwt_handler.validate_token_jwt(tampered_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:121: AttributeError\n_______ TestJWTClaimsExtraction.test_extract_claims_security_validation _______\n\nself = <auth_service.tests.test_auth_token_security.TestJWTClaimsExtraction testMethod=test_extract_claims_security_validation>\n\n    def test_extract_claims_security_validation(self):\n        \"\"\"Test claims extraction with security validation\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email,\n            self.test_permissions\n        )\n    \n        # Test secure claims extraction\n>       payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:85: AttributeError\n____________ TestJWTClaimsExtraction.test_extract_standard_claims _____________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTClaimsExtraction testMethod=test_extract_standard_claims>\n\n    def test_extract_standard_claims(self):\n        \"\"\"Test extraction of standard JWT claims\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email,\n            self.test_permissions\n        )\n    \n>       payload = self.jwt_handler.validate_token_jwt(token)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:52: AttributeError\n_____ TestJWTSignatureVerification.test_none_algorithm_attack_prevention ______\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSignatureVerification testMethod=test_none_algorithm_attack_prevention>\n\n    def test_none_algorithm_attack_prevention(self):\n        \"\"\"Test prevention of 'none' algorithm attack\"\"\"\n        # Create malicious token with 'none' algorithm\n        header = {\"typ\": \"JWT\", \"alg\": \"none\"}\n        payload = {\n            \"sub\": \"hacker-user\",\n            \"email\": \"hacker@evil.com\",\n            \"permissions\": [\"admin\"],\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(hours=1)).timestamp()),\n            \"token_type\": \"access\",\n            \"iss\": \"netra-auth-service\"\n        }\n    \n        encoded_header = base64.urlsafe_b64encode(json.dumps(header).encode()).decode().rstrip('=')\n        encoded_payload = base64.urlsafe_b64encode(json.dumps(payload).encode()).decode().rstrip('=')\n        none_token = f\"{encoded_header}.{encoded_payload}.\"\n    \n        # Verify 'none' algorithm attack is prevented\n>       result = self.jwt_handler.validate_token_jwt(none_token)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:226: AttributeError\n_ TestJWTSignatureVerification.test_signature_verification_with_wrong_secret __\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSignatureVerification testMethod=test_signature_verification_with_wrong_secret>\n\n    def test_signature_verification_with_wrong_secret(self):\n        \"\"\"Test signature verification fails with wrong secret\"\"\"\n        # Create token with wrong secret\n        wrong_secret = \"wrong-secret-key\"\n        wrong_payload = {\n            \"sub\": self.test_user_id,\n            \"email\": self.test_email,\n            \"token_type\": \"access\",\n            \"iss\": \"netra-auth-service\",\n            \"iat\": int(datetime.now(timezone.utc).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(minutes=15)).timestamp())\n        }\n    \n        wrong_secret_token = jwt.encode(wrong_payload, wrong_secret, algorithm=\"HS256\")\n    \n        # Verification should fail with wrong secret\n>       result = self.jwt_handler.validate_token_jwt(wrong_secret_token)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:245: AttributeError\n_________ TestJWTSignatureVerification.test_tampered_header_detection _________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSignatureVerification testMethod=test_tampered_header_detection>\n\n    def test_tampered_header_detection(self):\n        \"\"\"Test detection of tampered header\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Split token parts\n        header_part, payload, signature = token.split('.')\n    \n        # Tamper with header (change algorithm)\n        padded_header = header_part + '=' * (4 - len(header_part) % 4)\n        decoded_header = json.loads(base64.urlsafe_b64decode(padded_header))\n    \n        # Tamper with algorithm\n        decoded_header['alg'] = 'none'\n    \n        # Re-encode header\n        tampered_header = base64.urlsafe_b64encode(\n            json.dumps(decoded_header).encode()\n        ).decode().rstrip('=')\n    \n        # Reconstruct tampered token\n        tampered_token = f\"{tampered_header}.{payload}.{signature}\"\n    \n        # Verify tampering is detected\n>       result = self.jwt_handler.validate_token_jwt(tampered_token)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:205: AttributeError\n________ TestJWTSignatureVerification.test_tampered_payload_detection _________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSignatureVerification testMethod=test_tampered_payload_detection>\n\n    def test_tampered_payload_detection(self):\n        \"\"\"Test detection of tampered payload\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Split token parts\n        header, payload_part, signature = token.split('.')\n    \n        # Tamper with payload (change user ID)\n        # Decode payload\n        padded_payload = payload_part + '=' * (4 - len(payload_part) % 4)\n        decoded_payload = json.loads(base64.urlsafe_b64decode(padded_payload))\n    \n        # Tamper with user ID\n        decoded_payload['sub'] = 'hacker-user-999'\n    \n        # Re-encode payload\n        tampered_payload = base64.urlsafe_b64encode(\n            json.dumps(decoded_payload).encode()\n        ).decode().rstrip('=')\n    \n        # Reconstruct tampered token\n        tampered_token = f\"{header}.{tampered_payload}.{signature}\"\n    \n        # Verify tampering is detected\n>       result = self.jwt_handler.validate_token_jwt(tampered_token)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:176: AttributeError\n_______ TestJWTSignatureVerification.test_valid_signature_verification ________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSignatureVerification testMethod=test_valid_signature_verification>\n\n    def test_valid_signature_verification(self):\n        \"\"\"Test valid signature passes verification\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n>       payload = self.jwt_handler.validate_token_jwt(token)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:145: AttributeError\n__________ TestJWTTokenRevocation.test_time_based_revocation_support __________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTTokenRevocation testMethod=test_time_based_revocation_support>\n\n    def test_time_based_revocation_support(self):\n        \"\"\"Test time-based token revocation support\"\"\"\n        # Create token\n        token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n>       payload = self.jwt_handler.validate_token_jwt(token)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:313: AttributeError\n_____________ TestJWTTokenRevocation.test_token_blacklist_concept _____________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTTokenRevocation testMethod=test_token_blacklist_concept>\n\n    def test_token_blacklist_concept(self):\n        \"\"\"Test token blacklist concept (implementation placeholder)\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Verify token is initially valid\n>       payload = self.jwt_handler.validate_token_jwt(token)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:266: AttributeError\n__________ TestJWTTokenRevocation.test_user_based_revocation_support __________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTTokenRevocation testMethod=test_user_based_revocation_support>\n\n    def test_user_based_revocation_support(self):\n        \"\"\"Test user-based token revocation support\"\"\"\n        # Create multiple tokens for the same user\n        token1 = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n        token2 = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n    \n        # Both tokens should be valid initially\n>       payload1 = self.jwt_handler.validate_token_jwt(token1)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:299: AttributeError\n_________ TestJWTSecurityBoundaries.test_claims_privilege_boundaries __________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSecurityBoundaries testMethod=test_claims_privilege_boundaries>\n\n    def test_claims_privilege_boundaries(self):\n        \"\"\"Test privilege boundaries in token claims\"\"\"\n        # Create access token with limited permissions\n        limited_permissions = [\"read\"]\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email,\n            limited_permissions\n        )\n    \n>       payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:370: AttributeError\n__________ TestJWTSecurityBoundaries.test_issuer_security_validation __________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSecurityBoundaries testMethod=test_issuer_security_validation>\n\n    def test_issuer_security_validation(self):\n        \"\"\"Test issuer validation for security\"\"\"\n        # Create token with correct issuer\n        token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n>       payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:380: AttributeError\n___________ TestJWTSecurityBoundaries.test_timing_attack_resistance ___________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSecurityBoundaries testMethod=test_timing_attack_resistance>\n\n    def test_timing_attack_resistance(self):\n        \"\"\"Test resistance to timing attacks\"\"\"\n        # Create valid and invalid tokens\n        valid_token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n        invalid_tokens = [\n            \"invalid.token.here\",\n            valid_token[:-5] + \"wrong\",  # Wrong signature\n            \"\".join(valid_token.split('.')[:-1]) + \".tampered\"  # Tampered\n        ]\n    \n        # Measure validation times\n        valid_times = []\n        invalid_times = []\n    \n        for _ in range(10):\n            # Time valid token validation\n            start = time.time()\n>           self.jwt_handler.validate_token_jwt(valid_token, \"access\")\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:405: AttributeError\n________ TestJWTSecurityBoundaries.test_token_type_security_boundaries ________\n\nself = <auth_service.tests.test_auth_token_security.TestJWTSecurityBoundaries testMethod=test_token_type_security_boundaries>\n\n    def test_token_type_security_boundaries(self):\n        \"\"\"Test security boundaries between token types\"\"\"\n        # Create different token types\n        access_token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n        refresh_token = self.jwt_handler.create_refresh_token(self.test_user_id)\n        service_token = self.jwt_handler.create_service_token(\"test-service\", \"test\")\n    \n        # Test that each token type only validates for its intended use\n>       assert self.jwt_handler.validate_token_jwt(access_token, \"access\") is not None\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_security.py:348: AttributeError\n_____________ TestJWTTokenValidation.test_validate_expired_token ______________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_expired_token>\n\n    def test_validate_expired_token(self):\n        \"\"\"Test validation of expired token\"\"\"\n        # Create token with very short expiry\n>       with patch.object(self.jwt_handler, '_get_token_expiry') as mock_expiry:\n\ntests\\test_auth_token_validation.py:87: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:1458: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <unittest.mock._patch object at 0x000002491D6D1DF0>\n\n    def get_original(self):\n        target = self.getter()\n        name = self.attribute\n    \n        original = DEFAULT\n        local = False\n    \n        try:\n            original = target.__dict__[name]\n        except (AttributeError, KeyError):\n            original = getattr(target, name, DEFAULT)\n        else:\n            local = True\n    \n        if name in _builtins and isinstance(target, ModuleType):\n            self.create = True\n    \n        if not self.create and original is DEFAULT:\n>           raise AttributeError(\n                \"%s does not have the attribute %r\" % (target, name)\n            )\nE           AttributeError: <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491D6D1160> does not have the attribute '_get_token_expiry'\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:1431: AttributeError\n___________ TestJWTTokenValidation.test_validate_invalid_token_type ___________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_invalid_token_type>\n\n    def test_validate_invalid_token_type(self):\n        \"\"\"Test validation with wrong token type\"\"\"\n        refresh_token = self.jwt_handler.create_refresh_token(self.test_user_id)\n    \n        # Try to validate refresh token as access token\n>       payload = self.jwt_handler.validate_token_jwt(refresh_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:81: AttributeError\n____________ TestJWTTokenValidation.test_validate_malformed_token _____________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_malformed_token>\n\n    def test_validate_malformed_token(self):\n        \"\"\"Test validation of malformed token\"\"\"\n        malformed_tokens = [\n            \"not.a.token\",\n            \"invalid-token-format\",\n            \"too.few.parts\",\n            \"too.many.parts.here.extra\",\n            \"\",\n            None\n        ]\n    \n        for malformed_token in malformed_tokens:\n            if malformed_token is None:\n                continue\n>           payload = self.jwt_handler.validate_token_jwt(malformed_token, \"access\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:115: AttributeError\n______ TestJWTTokenValidation.test_validate_token_concurrent_validation _______\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_concurrent_validation>\n\n    def test_validate_token_concurrent_validation(self):\n        \"\"\"Test concurrent token validation for race conditions\"\"\"\n        import queue\n        import threading\n    \n        # Create valid token\n        token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n    \n        # Setup concurrent validation\n        results = queue.Queue()\n        thread_count = 10\n        validations_per_thread = 10\n    \n        def validate_tokens():\n            thread_results = []\n            for _ in range(validations_per_thread):\n                payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                thread_results.append(payload is not None)\n            results.put(thread_results)\n    \n        # Start concurrent validation threads\n        threads = []\n        for _ in range(thread_count):\n            thread = threading.Thread(target=validate_tokens)\n            threads.append(thread)\n            thread.start()\n    \n        # Wait for all threads to complete\n        for thread in threads:\n            thread.join()\n    \n        # Collect results\n        all_results = []\n        while not results.empty():\n            thread_results = results.get()\n            all_results.extend(thread_results)\n    \n        # All validations should succeed\n        successful_validations = sum(all_results)\n        total_validations = thread_count * validations_per_thread\n    \n>       assert successful_validations == total_validations, \\\n            f\"Concurrent validation failed: {successful_validations}/{total_validations}\"\nE       AssertionError: Concurrent validation failed: 0/100\nE       assert 0 == 100\n\ntests\\test_auth_token_validation.py:304: AssertionError\n_________ TestJWTTokenValidation.test_validate_token_edge_case_timing _________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_edge_case_timing>\n\n    def test_validate_token_edge_case_timing(self):\n        \"\"\"Test validation edge cases around timing\"\"\"\n        # Test token that expires very soon\n        near_expiry_time = datetime.now(timezone.utc) + timedelta(seconds=1)\n    \n>       with patch.object(self.jwt_handler, '_get_token_expiry') as mock_expiry:\n\ntests\\test_auth_token_validation.py:250: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:1458: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <unittest.mock._patch object at 0x000002491D452960>\n\n    def get_original(self):\n        target = self.getter()\n        name = self.attribute\n    \n        original = DEFAULT\n        local = False\n    \n        try:\n            original = target.__dict__[name]\n        except (AttributeError, KeyError):\n            original = getattr(target, name, DEFAULT)\n        else:\n            local = True\n    \n        if name in _builtins and isinstance(target, ModuleType):\n            self.create = True\n    \n        if not self.create and original is DEFAULT:\n>           raise AttributeError(\n                \"%s does not have the attribute %r\" % (target, name)\n            )\nE           AttributeError: <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491D453440> does not have the attribute '_get_token_expiry'\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:1431: AttributeError\n___________ TestJWTTokenValidation.test_validate_token_performance ____________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_performance>\n\n    def test_validate_token_performance(self):\n        \"\"\"Test token validation performance\"\"\"\n        # Create valid token\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Measure validation performance\n        start_time = time.time()\n    \n        # Perform multiple validations\n        validation_count = 100\n        successful_validations = 0\n    \n        for _ in range(validation_count):\n>           payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:188: AttributeError\n_________ TestJWTTokenValidation.test_validate_token_type_boundaries __________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_type_boundaries>\n\n    def test_validate_token_type_boundaries(self):\n        \"\"\"Test validation enforces token type boundaries\"\"\"\n        # Create different token types\n        access_token = self.jwt_handler.create_access_token(self.test_user_id, self.test_email)\n        refresh_token = self.jwt_handler.create_refresh_token(self.test_user_id)\n        service_token = self.jwt_handler.create_service_token(\"test-service\", \"test\")\n    \n        # Test access token boundaries\n>       assert self.jwt_handler.validate_token_jwt(access_token, \"access\") is not None\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:210: AttributeError\n_____ TestJWTTokenValidation.test_validate_token_with_future_issued_time ______\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_with_future_issued_time>\n\n    def test_validate_token_with_future_issued_time(self):\n        \"\"\"Test validation of token with issued time in the future\"\"\"\n        # Create token with future issued time\n        future_time = datetime.now(timezone.utc) + timedelta(minutes=5)\n        future_payload = {\n            \"sub\": self.test_user_id,\n            \"email\": self.test_email,\n            \"token_type\": \"access\",\n            \"iss\": \"netra-auth-service\",\n            \"iat\": int(future_time.timestamp()),\n            \"exp\": int((future_time + timedelta(minutes=15)).timestamp())\n        }\n    \n        # Get JWT secret for token creation\n        secret = os.environ.get(\"JWT_SECRET_KEY\", \"test-secret\")\n        future_token = jwt.encode(future_payload, secret, algorithm=\"HS256\")\n    \n        # Validation should fail for future-issued token\n>       payload = self.jwt_handler.validate_token_jwt(future_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:242: AttributeError\n______ TestJWTTokenValidation.test_validate_token_with_invalid_signature ______\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_with_invalid_signature>\n\n    def test_validate_token_with_invalid_signature(self):\n        \"\"\"Test validation of token with invalid signature\"\"\"\n        # Create valid token\n        valid_token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n    \n        # Tamper with signature\n        parts = valid_token.split('.')\n        tampered_token = f\"{parts[0]}.{parts[1]}.invalid_signature\"\n    \n        # Validation should fail\n>       payload = self.jwt_handler.validate_token_jwt(tampered_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:131: AttributeError\n________ TestJWTTokenValidation.test_validate_token_with_wrong_issuer _________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_with_wrong_issuer>\n\n    def test_validate_token_with_wrong_issuer(self):\n        \"\"\"Test validation of token with wrong issuer\"\"\"\n        # Create token with wrong issuer\n        wrong_issuer_payload = {\n            \"sub\": self.test_user_id,\n            \"email\": self.test_email,\n            \"token_type\": \"access\",\n            \"iss\": \"wrong-issuer\",  # Should be \"netra-auth-service\"\n            \"iat\": int(datetime.now(timezone.utc).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(minutes=15)).timestamp())\n        }\n    \n        # Get JWT secret for token creation\n        secret = os.environ.get(\"JWT_SECRET_KEY\", \"test-secret\")\n        wrong_issuer_token = jwt.encode(wrong_issuer_payload, secret, algorithm=\"HS256\")\n    \n        # Validation should fail due to wrong issuer\n>       payload = self.jwt_handler.validate_token_jwt(wrong_issuer_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:169: AttributeError\n_____ TestJWTTokenValidation.test_validate_token_without_required_claims ______\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_without_required_claims>\n\n    def test_validate_token_without_required_claims(self):\n        \"\"\"Test validation of token missing required claims\"\"\"\n        # Create token with minimal payload (missing required claims)\n        minimal_payload = {\n            \"sub\": self.test_user_id,\n            \"iat\": int(datetime.now(timezone.utc).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(minutes=15)).timestamp())\n            # Missing token_type, iss, etc.\n        }\n    \n        # Get JWT secret for token creation\n        secret = os.environ.get(\"JWT_SECRET_KEY\", \"test-secret\")\n        minimal_token = jwt.encode(minimal_payload, secret, algorithm=\"HS256\")\n    \n        # Validation should fail due to missing required claims\n>       payload = self.jwt_handler.validate_token_jwt(minimal_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:149: AttributeError\n___________ TestJWTTokenValidation.test_validate_valid_access_token ___________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_valid_access_token>\n\n    def test_validate_valid_access_token(self):\n        \"\"\"Test validation of valid access token\"\"\"\n        token = self.jwt_handler.create_access_token(\n            self.test_user_id,\n            self.test_email\n        )\n>       payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:47: AttributeError\n__________ TestJWTTokenValidation.test_validate_valid_refresh_token ___________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_valid_refresh_token>\n\n    def test_validate_valid_refresh_token(self):\n        \"\"\"Test validation of valid refresh token\"\"\"\n        token = self.jwt_handler.create_refresh_token(self.test_user_id)\n>       payload = self.jwt_handler.validate_token_jwt(token, \"refresh\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:57: AttributeError\n__________ TestJWTTokenValidation.test_validate_valid_service_token ___________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_valid_service_token>\n\n    def test_validate_valid_service_token(self):\n        \"\"\"Test validation of valid service token\"\"\"\n        service_id = \"test-service\"\n        service_name = \"test-service-name\"\n    \n        token = self.jwt_handler.create_service_token(service_id, service_name)\n>       payload = self.jwt_handler.validate_token_jwt(token, \"service\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\test_auth_token_validation.py:69: AttributeError\n__________________________ test_cloud_sql_url_format __________________________\n\nself = <MagicMock name='create_async_engine' id='2513039551872'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:923: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\n    @pytest.mark.asyncio\n    async def test_cloud_sql_url_format():\n        \"\"\"Test that Cloud SQL Unix socket URLs are handled correctly\"\"\"\n        # Test URL formats used by Cloud SQL\n        test_urls = [\n            \"postgresql://user:pass@/dbname?host=/cloudsql/project:region:instance\",\n            \"postgresql://user:pass@/dbname?host=/cloudsql/project:region:instance&sslmode=require\",\n            \"postgresql://user:pass@localhost/dbname?host=/cloudsql/project:region:instance\"\n        ]\n    \n        for original_url in test_urls:\n            with patch.dict(os.environ, {\"DATABASE_URL\": original_url, \"ENVIRONMENT\": \"staging\"}):\n                with patch(\"sqlalchemy.ext.asyncio.create_async_engine\") as mock_engine:\n                    mock_engine.return_value = MagicMock()\n    \n                    db = AuthDatabase()\n                    await db.initialize()\n    \n                    # Verify the URL was converted to asyncpg format\n>                   mock_engine.assert_called_once()\nE                   AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\ntests\\test_cloud_sql_url.py:32: AssertionError\n_____________________ test_regular_postgres_url_with_ssl ______________________\n\nself = <MagicMock name='create_async_engine' id='2513045580608'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:923: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\n    @pytest.mark.asyncio\n    async def test_regular_postgres_url_with_ssl():\n        \"\"\"Test that PostgreSQL URLs with sslmode are converted correctly\"\"\"\n        test_url = \"postgresql://user:pass@localhost:5432/dbname?sslmode=require\"\n    \n        with patch.dict(os.environ, {\"DATABASE_URL\": test_url, \"ENVIRONMENT\": \"staging\"}):\n            with patch(\"sqlalchemy.ext.asyncio.create_async_engine\") as mock_engine:\n                mock_engine.return_value = MagicMock()\n    \n                db = AuthDatabase()\n                await db.initialize()\n    \n                # Verify the URL was converted to asyncpg format\n>               mock_engine.assert_called_once()\nE               AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\ntests\\test_cloud_sql_url.py:59: AssertionError\n__________________________ test_regular_postgres_url __________________________\n\nself = <MagicMock name='create_async_engine' id='2513045782608'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:923: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\n    @pytest.mark.asyncio\n    async def test_regular_postgres_url():\n        \"\"\"Test that regular PostgreSQL URLs are handled correctly\"\"\"\n        test_url = \"postgresql://user:pass@localhost:5432/dbname\"\n    \n        with patch.dict(os.environ, {\"DATABASE_URL\": test_url, \"ENVIRONMENT\": \"development\"}):\n            with patch(\"sqlalchemy.ext.asyncio.create_async_engine\") as mock_engine:\n                mock_engine.return_value = MagicMock()\n    \n                db = AuthDatabase()\n                await db.initialize()\n    \n                # Verify the URL was converted to asyncpg format\n>               mock_engine.assert_called_once()\nE               AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\ntests\\test_cloud_sql_url.py:82: AssertionError\n____________________________ test_heroku_style_url ____________________________\n\nself = <MagicMock name='create_async_engine' id='2513045723888'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\nC:\\Users\\antho\\miniconda3\\Lib\\unittest\\mock.py:923: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\n    @pytest.mark.asyncio\n    async def test_heroku_style_url():\n        \"\"\"Test that Heroku-style postgres:// URLs are handled correctly\"\"\"\n        test_url = \"postgres://user:pass@host.com:5432/dbname\"\n    \n        with patch.dict(os.environ, {\"DATABASE_URL\": test_url, \"ENVIRONMENT\": \"production\"}):\n            with patch(\"sqlalchemy.ext.asyncio.create_async_engine\") as mock_engine:\n                mock_engine.return_value = MagicMock()\n    \n                db = AuthDatabase()\n                await db.initialize()\n    \n                # Verify the URL was converted to asyncpg format\n>               mock_engine.assert_called_once()\nE               AssertionError: Expected 'create_async_engine' to have been called once. Called 0 times.\n\ntests\\test_cloud_sql_url.py:103: AssertionError\n_______ TestSQLInjectionPrevention.test_login_sql_injection_prevention ________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n----------------------------- Captured log setup ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:32 Using generated HMAC secret - set OAUTH_HMAC_SECRET for production\n_______ TestSQLInjectionPrevention.test_token_validation_sql_injection ________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_________ TestSQLInjectionPrevention.test_service_token_sql_injection _________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_________________ TestXSSPrevention.test_login_xss_prevention _________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n______________ TestXSSPrevention.test_user_agent_xss_prevention _______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n____________ TestXSSPrevention.test_oauth_callback_xss_prevention _____________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n______________ TestCSRFProtection.test_security_headers_present _______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n________________ TestCSRFProtection.test_csrf_token_validation ________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_____________ TestCSRFProtection.test_method_override_prevention ______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n__________________ TestInputValidation.test_email_validation __________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_______________ TestInputValidation.test_password_length_limits _______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n______________ TestInputValidation.test_json_payload_size_limit _______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n________________ TestSecurityLogging.test_failed_login_logging ________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n___________ TestSecurityLogging.test_sql_injection_attempt_logging ____________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n______________ TestSecurityLogging.test_audit_trail_completeness ______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_______________ TestTokenSecurity.test_token_format_validation ________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n______________ TestTokenSecurity.test_token_injection_prevention ______________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n__________________ TestRateLimiting.test_login_rate_limiting __________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n____________ TestRateLimiting.test_token_validation_rate_limiting _____________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n_____________ TestSessionCleanupJob.test_cleanup_expired_sessions _____________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D8A76E0>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D940800>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D858C50>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491D3FC590>\nparameters = [('expired123', 'user123', None, None, None, None, ...), ('valid123', 'user123', None, None, None, None, ...)]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-227, started daemon 43396)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CDA46B0>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491D3FD6D0>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491DB9CFB0>\n\n    @pytest.mark.asyncio\n    async def test_cleanup_expired_sessions(self, cleanup_service, test_db_session):\n        \"\"\"Test cleanup of expired sessions\"\"\"\n        # Create expired session\n        expired_session = AuthSession(\n            id=\"expired123\",\n            user_id=\"user123\",\n            expires_at=datetime.now(timezone.utc) - timedelta(hours=1)\n        )\n    \n        # Create valid session\n        valid_session = AuthSession(\n            id=\"valid123\",\n            user_id=\"user123\",\n            expires_at=datetime.now(timezone.utc) + timedelta(hours=1)\n        )\n    \n        test_db_session.add(expired_session)\n        test_db_session.add(valid_session)\n>       await test_db_session.commit()\n\ntests\\test_session_cleanup.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: in _exec_single_context\n    self.dialect.do_executemany(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-227, started daemon 43396)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: [('expired123', 'user123', None, None, None, None, '2025-08-22 16:01:12.623927', '2025-08-22 15:01:12.617164', '2025-08-22 16:01:12.623927', 1, None), ('valid123', 'user123', None, None, None, None, '2025-08-22 16:01:12.623927', '2025-08-22 17:01:12.617164', '2025-08-22 16:01:12.623927', 1, None)]]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n____________ TestSessionCleanupJob.test_cleanup_inactive_sessions _____________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D6C8FE0>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D6C9490>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D3FDBB0>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491D3FD700>\nparameters = [('inactive123', 'user123', None, None, None, None, ...)]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n                    self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n                    )\n            elif not effective_parameters and context.no_parameters:\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_execute_no_params:\n                        if fn(cursor, str_statement, context):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n                    self.dialect.do_execute_no_params(\n                        cursor, str_statement, context\n                    )\n            else:\n                effective_parameters = cast(\n                    \"_CoreSingleExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_execute:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_execute(\n                        cursor, str_statement, effective_parameters, context\n                    )\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1967: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:951: in do_execute\n    cursor.execute(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:177: in execute\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:159: in execute\n    self.await_(_cursor.execute(operation, parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:40: in execute\n    await self._execute(self._cursor.execute, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-230, started daemon 44484)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CDA49E0>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491D6C8920>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491D177EF0>\n\n    @pytest.mark.asyncio\n    async def test_cleanup_inactive_sessions(self, cleanup_service, test_db_session):\n        \"\"\"Test cleanup of inactive sessions\"\"\"\n        # Create inactive session\n        inactive_session = AuthSession(\n            id=\"inactive123\",\n            user_id=\"user123\",\n            last_activity=datetime.now(timezone.utc) - timedelta(days=31),\n            expires_at=datetime.now(timezone.utc) + timedelta(hours=1)\n        )\n    \n        test_db_session.add(inactive_session)\n>       await test_db_session.commit()\n\ntests\\test_session_cleanup.py:137: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1967: in _exec_single_context\n    self.dialect.do_execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:951: in do_execute\n    cursor.execute(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:177: in execute\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:159: in execute\n    self.await_(_cursor.execute(operation, parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:40: in execute\n    await self._execute(self._cursor.execute, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-230, started daemon 44484)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: ('inactive123', 'user123', None, None, None, None, '2025-08-22 16:01:13.930597', '2025-08-22 17:01:13.927088', '2025-07-22 16:01:13.927088', 1, None)]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n______________ TestSessionCleanupJob.test_enforce_session_limits ______________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D943950>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D9410A0>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D943E60>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491D943FE0>\nparameters = [('session0', 'user123', None, None, None, None, ...), ('session1', 'user123', None, None, None, None, ...), ('session... ...), ('session4', 'user123', None, None, None, None, ...), ('session5', 'user123', None, None, None, None, ...), ...]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-233, started daemon 29988)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CD7ADB0>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491D965CD0>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491D6CAAB0>\n\n    @pytest.mark.asyncio\n    async def test_enforce_session_limits(self, cleanup_service, test_db_session):\n        \"\"\"Test enforcement of maximum sessions per user\"\"\"\n        # Create 7 sessions for same user\n        sessions = []\n        for i in range(7):\n            session = AuthSession(\n                id=f\"session{i}\",\n                user_id=\"user123\",\n                last_activity=datetime.now(timezone.utc) - timedelta(minutes=i),\n                expires_at=datetime.now(timezone.utc) + timedelta(hours=1)\n            )\n            sessions.append(session)\n            test_db_session.add(session)\n    \n>       await test_db_session.commit()\n\ntests\\test_session_cleanup.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: in _exec_single_context\n    self.dialect.do_executemany(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-233, started daemon 29988)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: [('session0', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 16:01:15.368429', 1, None), ('session1', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 16:00:15.368429', 1, None), ('session2', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 15:59:15.368429', 1, None), ('session3', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 15:58:15.368429', 1, None), ('session4', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 15:57:15.368429', 1, None), ('session5', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 15:56:15.368429', 1, None), ('session6', 'user123', None, None, None, None, '2025-08-22 16:01:15.371692', '2025-08-22 17:01:15.368429', '2025-08-22 15:55:15.368429', 1, None)]]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n________ TestSessionCleanupJob.test_cleanup_preserves_recent_sessions _________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D2EB560>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D767290>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D328B00>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491D329850>\nparameters = [('recent0', 'user123', None, None, None, None, ...), ('recent1', 'user123', None, None, None, None, ...), ('recent2', 'user123', None, None, None, None, ...)]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-236, started daemon 34204)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CD79550>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491DB48EC0>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491D940740>\n\n    @pytest.mark.asyncio\n    async def test_cleanup_preserves_recent_sessions(self, cleanup_service, test_db_session):\n        \"\"\"Test cleanup preserves most recent sessions\"\"\"\n        # Create sessions with different activity times\n        sessions = []\n        for i in range(3):\n            session = AuthSession(\n                id=f\"recent{i}\",\n                user_id=\"user123\",\n                last_activity=datetime.now(timezone.utc) - timedelta(minutes=i),\n                expires_at=datetime.now(timezone.utc) + timedelta(hours=1)\n            )\n            sessions.append(session)\n            test_db_session.add(session)\n    \n>       await test_db_session.commit()\n\ntests\\test_session_cleanup.py:183: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: in _exec_single_context\n    self.dialect.do_executemany(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-236, started daemon 34204)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: [('recent0', 'user123', None, None, None, None, '2025-08-22 16:01:15.951295', '2025-08-22 17:01:15.949785', '2025-08-22 16:01:15.949785', 1, None), ('recent1', 'user123', None, None, None, None, '2025-08-22 16:01:15.951295', '2025-08-22 17:01:15.949785', '2025-08-22 16:00:15.949785', 1, None), ('recent2', 'user123', None, None, None, None, '2025-08-22 16:01:15.951295', '2025-08-22 17:01:15.949785', '2025-08-22 15:59:15.949785', 1, None)]]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n_____________ TestSessionCleanupJob.test_cleanup_job_performance ______________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D31A690>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D7B8350>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D3191C0>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491D3184D0>\nparameters = [('bulk0', 'user0', None, None, None, None, ...), ('bulk1', 'user1', None, None, None, None, ...), ('bulk2', 'user2', ...one, None, ...), ('bulk4', 'user4', None, None, None, None, ...), ('bulk5', 'user5', None, None, None, None, ...), ...]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-239, started daemon 40828)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CDA4740>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491D32AF30>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491D7679B0>\n\n    @pytest.mark.asyncio\n    async def test_cleanup_job_performance(self, cleanup_service, test_db_session):\n        \"\"\"Test cleanup job handles large number of sessions\"\"\"\n        import time\n    \n        # Create many expired sessions\n        for i in range(100):\n            session = AuthSession(\n                id=f\"bulk{i}\",\n                user_id=f\"user{i % 10}\",  # 10 different users\n                expires_at=datetime.now(timezone.utc) - timedelta(hours=1)\n            )\n            test_db_session.add(session)\n    \n>       await test_db_session.commit()\n\ntests\\test_session_cleanup.py:206: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1936: in _exec_single_context\n    self.dialect.do_executemany(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:948: in do_executemany\n    cursor.executemany(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:192: in executemany\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:186: in executemany\n    self.await_(_cursor.executemany(operation, seq_of_parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:47: in executemany\n    await self._execute(self._cursor.executemany, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-239, started daemon 40828)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: [('bulk0', 'user0', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk1', 'user1', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk2', 'user2', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk3', 'user3', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk4', 'user4', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk5', 'user5', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk6', 'user6', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None), ('bulk7', 'user7', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.561256', '2025-08-22 16:01:16.566974', 1, None)  ... displaying 10 of 100 total bound parameter sets ...  ('bulk98', 'user8', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.563798', '2025-08-22 16:01:16.566974', 1, None), ('bulk99', 'user9', None, None, None, None, '2025-08-22 16:01:16.566974', '2025-08-22 15:01:16.563798', '2025-08-22 16:01:16.566974', 1, None)]]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n________________ TestSessionCleanupJob.test_redis_session_sync ________________\n\nself = <sqlalchemy.engine.base.Connection object at 0x000002491D755F10>\ndialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x000002491D307110>\ncontext = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x000002491D8A6F00>\nstatement = <sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000002491DB4ACF0>\nparameters = [('expired123', 'user123', None, None, None, None, ...)]\n\n    def _exec_single_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n        statement: Union[str, Compiled],\n        parameters: Optional[_AnyMultiExecuteParams],\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for a single DBAPI\n        cursor.execute() or cursor.executemany() call.\n    \n        \"\"\"\n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n    \n            if generic_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor, generic_setinputsizes, context\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e, str(statement), parameters, None, context\n                    )\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters: Optional[_AnyExecuteParams]\n    \n        if not context.executemany:\n            effective_parameters = parameters[0]\n        else:\n            effective_parameters = parameters\n    \n        if self._has_events or self.engine._has_events:\n            for fn in self.dispatch.before_cursor_execute:\n                str_statement, effective_parameters = fn(\n                    self,\n                    cursor,\n                    str_statement,\n                    effective_parameters,\n                    context,\n                    context.executemany,\n                )\n    \n        if self._echo:\n            self._log_info(str_statement)\n    \n            stats = context._get_cache_stats()\n    \n            if not self.engine.hide_parameters:\n                self._log_info(\n                    \"[%s] %r\",\n                    stats,\n                    sql_util._repr_params(\n                        effective_parameters,\n                        batches=10,\n                        ismulti=context.executemany,\n                    ),\n                )\n            else:\n                self._log_info(\n                    \"[%s] [SQL parameters hidden due to hide_parameters=True]\",\n                    stats,\n                )\n    \n        evt_handled: bool = False\n        try:\n            if context.execute_style is ExecuteStyle.EXECUTEMANY:\n                effective_parameters = cast(\n                    \"_CoreMultiExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_executemany:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n                    self.dialect.do_executemany(\n                        cursor,\n                        str_statement,\n                        effective_parameters,\n                        context,\n                    )\n            elif not effective_parameters and context.no_parameters:\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_execute_no_params:\n                        if fn(cursor, str_statement, context):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n                    self.dialect.do_execute_no_params(\n                        cursor, str_statement, context\n                    )\n            else:\n                effective_parameters = cast(\n                    \"_CoreSingleExecuteParams\", effective_parameters\n                )\n                if self.dialect._has_events:\n                    for fn in self.dialect.dispatch.do_execute:\n                        if fn(\n                            cursor,\n                            str_statement,\n                            effective_parameters,\n                            context,\n                        ):\n                            evt_handled = True\n                            break\n                if not evt_handled:\n>                   self.dialect.do_execute(\n                        cursor, str_statement, effective_parameters, context\n                    )\n\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1967: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:951: in do_execute\n    cursor.execute(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:177: in execute\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:159: in execute\n    self.await_(_cursor.execute(operation, parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:40: in execute\n    await self._execute(self._cursor.execute, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-242, started daemon 43300)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlite3.OperationalError: no such table: auth_sessions\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <auth_service.tests.test_session_cleanup.TestSessionCleanupJob object at 0x000002491CDA4F20>\ncleanup_service = <auth_service.tests.test_session_cleanup.SessionCleanupService object at 0x000002491CECB8F0>\ntest_db_session = <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000002491D2EB440>\n\n    @pytest.mark.asyncio\n    async def test_redis_session_sync(self, cleanup_service, test_db_session):\n        \"\"\"Test Redis session synchronization with database cleanup\"\"\"\n        # This would test ensuring Redis and DB sessions stay in sync\n        # Mock Redis operations for testing\n        with patch.object(cleanup_service.session_manager, 'redis_client') as mock_redis:\n            mock_redis.scan_iter.return_value = [\"session:expired123\"]\n            mock_redis.delete.return_value = 1\n    \n            # Create corresponding DB session\n            db_session_record = AuthSession(\n                id=\"expired123\",\n                user_id=\"user123\",\n                expires_at=datetime.now(timezone.utc) - timedelta(hours=1)\n            )\n            test_db_session.add(db_session_record)\n>           await test_db_session.commit()\n\ntests\\test_session_cleanup.py:243: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py:1014: in commit\n    await greenlet_spawn(self.sync_session.commit)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:203: in greenlet_spawn\n    result = context.switch(value)\n             ^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:2032: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1313: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:1288: in _prepare_impl\n    self.session.flush()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4345: in flush\n    self._flush(objects)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4480: in _flush\n    with util.safe_reraise():\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py:4441: in _flush\n    flush_context.execute()\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:466: in execute\n    rec.execute(self)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:93: in save_obj\n    _emit_insert_statements(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py:1048: in _emit_insert_statements\n    result = connection.execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1419: in execute\n    return meth(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1846: in _execute_context\n    return self._exec_single_context(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1986: in _exec_single_context\n    self._handle_dbapi_exception(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py:1967: in _exec_single_context\n    self.dialect.do_execute(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py:951: in do_execute\n    cursor.execute(statement, parameters)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:177: in execute\n    self._adapt_connection._handle_exception(error)\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:337: in _handle_exception\n    raise error\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\dialects\\sqlite\\aiosqlite.py:159: in execute\n    self.await_(_cursor.execute(operation, parameters))\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:132: in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py:196: in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:40: in execute\n    await self._execute(self._cursor.execute, sql, parameters)\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\cursor.py:32: in _execute\n    return await self._conn._execute(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:122: in _execute\n    return await future\n           ^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Connection(Thread-242, started daemon 43300)>\n\n    def run(self) -> None:\n        \"\"\"\n        Execute function calls on a separate thread.\n    \n        :meta private:\n        \"\"\"\n        while True:\n            # Continues running until all queue items are processed,\n            # even after connection is closed (so we can finalize all\n            # futures)\n    \n            tx_item = self._tx.get()\n            if tx_item is _STOP_RUNNING_SENTINEL:\n                break\n    \n            future, function = tx_item\n    \n            try:\n                LOG.debug(\"executing %s\", function)\n>               result = function()\n                         ^^^^^^^^^^\nE               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions\nE               [SQL: INSERT INTO auth_sessions (id, user_id, refresh_token_hash, ip_address, user_agent, device_id, created_at, expires_at, last_activity, is_active, revoked_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]\nE               [parameters: ('expired123', 'user123', None, None, None, None, '2025-08-22 16:01:17.265350', '2025-08-22 15:01:17.263227', '2025-08-22 16:01:17.266652', 1, None)]\nE               (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\aiosqlite\\core.py:105: OperationalError\n____________ TestSessionCreation.test_create_session_redis_failure ____________\n\nself = <auth_service.tests.test_session_management.TestSessionCreation object at 0x000002491CDA6C60>\nsession_manager = <auth_service.auth_core.core.session_manager.SessionManager object at 0x000002491DACAA80>\n\n    def test_create_session_redis_failure(self, session_manager):\n        \"\"\"Test session creation with Redis failure\"\"\"\n        user_data = {\"email\": \"test@example.com\"}\n        session_manager.redis_client = None\n    \n        session_id = session_manager.create_session(\"user123\", user_data)\n    \n>       assert session_id is None\nE       AssertionError: assert '02dc615d-fd64-457c-bdc8-a4756f8f97e4' is None\n\ntests\\test_session_management.py:49: AssertionError\n__________ TestJWTSignatureValidation.test_jwt_signature_validation ___________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTSignatureValidation object at 0x000002491CDBE9C0>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DCD2F60>\nvalid_user_payload = {'email': 'test@netrasystems.ai', 'iss': 'netra-auth-service', 'permissions': ['read', 'write'], 'sub': 'test-user-123', ...}\n\n    def test_jwt_signature_validation(self, jwt_handler, valid_user_payload):\n        \"\"\"Test JWT signature verification.\n        Valid signature passes, invalid signature rejected.\n        \"\"\"\n        # Create valid token\n        valid_token = jwt_handler.create_access_token(\n            valid_user_payload[\"sub\"],\n            valid_user_payload[\"email\"],\n            valid_user_payload[\"permissions\"]\n        )\n    \n        # Valid signature should pass\n>       decoded = jwt_handler.validate_token_jwt(valid_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:61: AttributeError\n_________ TestJWTSignatureValidation.test_algorithm_mismatch_rejected _________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTSignatureValidation object at 0x000002491CDBEBD0>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB51EB0>\nvalid_user_payload = {'email': 'test@netrasystems.ai', 'iss': 'netra-auth-service', 'permissions': ['read', 'write'], 'sub': 'test-user-123', ...}\n\n    def test_algorithm_mismatch_rejected(self, jwt_handler, valid_user_payload):\n        \"\"\"Test algorithm mismatch rejection.\"\"\"\n        # Create token with different algorithm (if we had multiple keys)\n        payload = {\n            \"sub\": valid_user_payload[\"sub\"],\n            \"email\": valid_user_payload[\"email\"],\n            \"permissions\": valid_user_payload[\"permissions\"],\n            \"token_type\": \"access\",\n            \"iat\": int(datetime.now(timezone.utc).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(minutes=15)).timestamp()),\n            \"iss\": \"netra-auth-service\"\n        }\n    \n        # Try to create a 'none' algorithm token (security vulnerability)\n        header = {\"typ\": \"JWT\", \"alg\": \"none\"}\n        encoded_header = base64.urlsafe_b64encode(json.dumps(header).encode()).decode().rstrip('=')\n        encoded_payload = base64.urlsafe_b64encode(json.dumps(payload).encode()).decode().rstrip('=')\n        none_token = f\"{encoded_header}.{encoded_payload}.\"\n    \n        # Should be rejected\n>       decoded = jwt_handler.validate_token_jwt(none_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:91: AttributeError\n___________ TestJWTSignatureValidation.test_expired_token_rejected ____________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTSignatureValidation object at 0x000002491CDBEDE0>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB513A0>\nvalid_user_payload = {'email': 'test@netrasystems.ai', 'iss': 'netra-auth-service', 'permissions': ['read', 'write'], 'sub': 'test-user-123', ...}\n\n    def test_expired_token_rejected(self, jwt_handler, valid_user_payload):\n        \"\"\"Test expired token rejection.\"\"\"\n        # Create token that expires immediately\n        payload = {\n            \"sub\": valid_user_payload[\"sub\"],\n            \"email\": valid_user_payload[\"email\"],\n            \"permissions\": valid_user_payload[\"permissions\"],\n            \"token_type\": \"access\",\n            \"iat\": int((datetime.now(timezone.utc) - timedelta(minutes=20)).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) - timedelta(minutes=10)).timestamp()),\n            \"iss\": \"netra-auth-service\"\n        }\n    \n        expired_token = jwt.encode(payload, jwt_handler.secret, algorithm=jwt_handler.algorithm)\n    \n        # Should be rejected due to expiration\n>       decoded = jwt_handler.validate_token_jwt(expired_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:110: AttributeError\n_____________ TestJWTClaimsValidation.test_jwt_claims_validation ______________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTClaimsValidation object at 0x000002491CDBF080>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB52AE0>\n\n    def test_jwt_claims_validation(self, jwt_handler):\n        \"\"\"Test JWT claims requirements.\n        Required claims present: user_id, email, permissions validated.\n        \"\"\"\n        # Test with all required claims\n        user_id = \"test-user-456\"\n        email = \"claims@netrasystems.ai\"\n        permissions = [\"read\", \"write\", \"admin\"]\n    \n        token = jwt_handler.create_access_token(user_id, email, permissions)\n>       decoded = jwt_handler.validate_token_jwt(token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:132: AttributeError\n________ TestJWTClaimsValidation.test_missing_required_claims_rejected ________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTClaimsValidation object at 0x000002491CDBF290>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB0EA80>\n\n    def test_missing_required_claims_rejected(self, jwt_handler):\n        \"\"\"Test rejection when required claims are missing.\"\"\"\n        # Create token with missing claims manually\n        incomplete_payload = {\n            \"sub\": \"test-user\",\n            # Missing email and permissions\n            \"token_type\": \"access\",\n            \"iat\": int(datetime.now(timezone.utc).timestamp()),\n            \"exp\": int((datetime.now(timezone.utc) + timedelta(minutes=15)).timestamp()),\n            \"iss\": \"netra-auth-service\"\n        }\n    \n        incomplete_token = jwt.encode(\n            incomplete_payload,\n            jwt_handler.secret,\n            algorithm=jwt_handler.algorithm\n        )\n    \n        # Token should validate structurally but missing business claims\n>       decoded = jwt_handler.validate_token_jwt(incomplete_token, \"access\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:168: AttributeError\n_____________ TestJWTClaimsValidation.test_token_type_validation ______________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTClaimsValidation object at 0x000002491CDBF4A0>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB0C0E0>\n\n    def test_token_type_validation(self, jwt_handler):\n        \"\"\"Test token type claim validation.\"\"\"\n        # Create refresh token\n        refresh_token = jwt_handler.create_refresh_token(\"test-user-789\")\n    \n        # Should validate as refresh token\n>       refresh_decoded = jwt_handler.validate_token_jwt(refresh_token, \"refresh\")\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:179: AttributeError\n______________ TestJWTClaimsValidation.test_service_token_claims ______________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTClaimsValidation object at 0x000002491CDA6F60>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB0E840>\n\n    def test_service_token_claims(self, jwt_handler):\n        \"\"\"Test service token specific claims.\"\"\"\n        service_token = jwt_handler.create_service_token(\"backend-svc\", \"netra-backend\")\n>       decoded = jwt_handler.validate_token_jwt(service_token, \"service\")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:190: AttributeError\n____________________ TestJWTRevocation.test_jwt_revocation ____________________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTRevocation object at 0x000002491CDBE690>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB0EF00>\nrevoked_tokens = set()\n\n    def test_jwt_revocation(self, jwt_handler, revoked_tokens):\n        \"\"\"Test token revocation.\n        Add token to blacklist \\u2192 Revoked token rejected \\u2192 Check across services\n        \"\"\"\n        # Create valid token\n        token = jwt_handler.create_access_token(\"test-user\", \"revoke@netrasystems.ai\")\n    \n        # Token should be valid initially\n>       decoded = jwt_handler.validate_token_jwt(token)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:219: AttributeError\n________________ TestJWTRevocation.test_revocation_by_user_id _________________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTRevocation object at 0x000002491CDBF470>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB0D190>\nrevoked_tokens = set()\n\n    def test_revocation_by_user_id(self, jwt_handler, revoked_tokens):\n        \"\"\"Test revoking all tokens for a user.\"\"\"\n        user_id = \"user-to-revoke\"\n    \n        # Create multiple tokens for user\n        token1 = jwt_handler.create_access_token(user_id, \"user@netrasystems.ai\")\n        token2 = jwt_handler.create_refresh_token(user_id)\n    \n        # Both should be valid\n>       assert jwt_handler.validate_token_jwt(token1) is not None\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:244: AttributeError\n___________ TestJWTIntegrationScenarios.test_end_to_end_token_flow ____________\n\nself = <auth_service.tests.unified.test_jwt_validation.TestJWTIntegrationScenarios object at 0x000002491CDBD340>\njwt_handler = <auth_service.auth_core.core.jwt_handler.JWTHandler object at 0x000002491DB51910>\n\n    @pytest.mark.asyncio\n    async def test_end_to_end_token_flow(self, jwt_handler):\n        \"\"\"Test complete token flow from creation to validation.\"\"\"\n        # Create user token\n        user_id = \"e2e-user\"\n        email = \"e2e@netrasystems.ai\"\n        permissions = [\"read\", \"write\"]\n    \n        access_token = jwt_handler.create_access_token(user_id, email, permissions)\n        refresh_token = jwt_handler.create_refresh_token(user_id)\n    \n        # Validate access token\n>       access_decoded = jwt_handler.validate_token_jwt(access_token, \"access\")\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n\ntests\\unified\\test_jwt_validation.py:311: AttributeError\n============================== warnings summary ===============================\nauth_core\\database\\models.py:11\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\models.py:11: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)\n    Base = declarative_base()\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/base/test_base.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/base/test_base.py)\n    @dataclass\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/config/test_env.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/config/test_settings.py)\n    @dataclass\n\ntests\\database\\test_config.py:20\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\database\\test_config.py:20: PytestCollectionWarning: cannot collect test class 'TestDatabaseConfig' because it has a __init__ constructor (from: tests/database/test_config.py)\n    class TestDatabaseConfig:\n\ntests\\integration\\test_oauth_comprehensive_failures.py:859\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:859: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\ntests\\integration\\test_oauth_comprehensive_failures.py:893\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:893: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\ntests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_05_cross_site_request_forgery_token_binding\ntests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_25_session_fixation_attack\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\testclient.py:451: DeprecationWarning: Setting per-request cookies=<...> is being deprecated, because the expected behaviour on cookie persistence is ambiguous. Set cookies directly on the client instance instead.\n    return super().request(\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-217 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-218 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-213 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-216 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-211 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-215 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-212 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-214 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-209 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\threadexception.py:58: PytestUnhandledThreadExceptionWarning: Exception in thread Thread-210 (validate_tokens)\n  \n  Traceback (most recent call last):\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n      self.run()\n    File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n      self._target(*self._args, **self._kwargs)\n    File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_token_validation.py\", line 279, in validate_tokens\n      payload = self.jwt_handler.validate_token_jwt(token, \"access\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  AttributeError: 'JWTHandler' object has no attribute 'validate_token_jwt'. Did you mean: 'validate_token'?\n  \n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n    warnings.warn(pytest.PytestUnhandledThreadExceptionWarning(msg))\n\ntests/test_session_management.py::TestSessionCreation::test_create_session_success\ntests/test_session_management.py::TestSessionCreation::test_create_session_redis_failure\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_ip_tracking\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_uuid_generation\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_uuid_generation\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\core\\session_manager.py:72: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"created_at\": datetime.utcnow().isoformat(),\n\ntests/test_session_management.py::TestSessionCreation::test_create_session_success\ntests/test_session_management.py::TestSessionCreation::test_create_session_redis_failure\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_ip_tracking\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_uuid_generation\ntests/test_session_management.py::TestSessionSecurityAndHijackingPrevention::test_session_uuid_generation\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\core\\session_manager.py:73: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"last_activity\": datetime.utcnow().isoformat(),\n\ntests/test_session_management.py::TestSessionValidation::test_validate_session_success\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_session_management.py:67: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"last_activity\": datetime.utcnow().isoformat()\n\ntests/test_session_management.py::TestSessionValidation::test_validate_session_success\ntests/test_session_management.py::TestSessionValidation::test_validate_session_expired\ntests/test_session_management.py::TestSessionExpiry::test_session_auto_expiry\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\core\\session_manager.py:175: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    if datetime.utcnow() > expiry:\n\ntests/test_session_management.py::TestSessionValidation::test_validate_session_expired\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_session_management.py:79: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    old_time = datetime.utcnow() - timedelta(hours=25)\n\ntests/test_session_management.py::TestSessionExpiry::test_session_auto_expiry\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_session_management.py:106: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    expired_time = datetime.utcnow() - timedelta(hours=25)\n\ntests/test_session_management.py::TestSessionExpiry::test_session_ttl_refresh\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_session_management.py:123: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"last_activity\": datetime.utcnow().isoformat()\n\ntests/test_session_management.py::TestSessionRefresh::test_refresh_active_session\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_session_management.py:147: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"last_activity\": datetime.utcnow().isoformat()\n\ntests/test_session_management.py::TestSessionRefresh::test_refresh_active_session\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\core\\session_manager.py:134: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    session[\"last_activity\"] = datetime.utcnow().isoformat()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_01_successful_oauth_login_basic_flow\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_03_oauth_nonce_replay_attack\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_08_malformed_id_token\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_09_invalid_token_signature\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_10_expired_id_token\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_11_missing_email_in_oauth_response\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_12_unverified_email_address\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_13_blocked_email_domain\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_14_distributed_tracing_context_propagation_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_15_circuit_breaker_activation_on_provider_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_16_network_connection_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_17_database_connection_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_18_session_storage_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_19_duplicate_user_creation_race_condition\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_20_jwt_propagation_to_backend_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_21_websocket_auth_handshake_failure\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_26_extremely_long_email_address\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_27_unicode_and_special_chars_in_name\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_28_null_values_in_oauth_response\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_29_concurrent_login_attempts\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_staging_multi_service_oauth_flow\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_staging_oauth_provider_failover\nFAILED tests/test_auth_token_generation.py::TestJWTTokenGeneration::test_token_expiry_configuration\nFAILED tests/test_auth_token_generation.py::TestJWTTokenGeneration::test_token_generation_timing\nFAILED tests/test_auth_token_security.py::TestJWTClaimsExtraction::test_extract_claims_from_tampered_token\nFAILED tests/test_auth_token_security.py::TestJWTClaimsExtraction::test_extract_claims_security_validation\nFAILED tests/test_auth_token_security.py::TestJWTClaimsExtraction::test_extract_standard_claims\nFAILED tests/test_auth_token_security.py::TestJWTSignatureVerification::test_none_algorithm_attack_prevention\nFAILED tests/test_auth_token_security.py::TestJWTSignatureVerification::test_signature_verification_with_wrong_secret\nFAILED tests/test_auth_token_security.py::TestJWTSignatureVerification::test_tampered_header_detection\nFAILED tests/test_auth_token_security.py::TestJWTSignatureVerification::test_tampered_payload_detection\nFAILED tests/test_auth_token_security.py::TestJWTSignatureVerification::test_valid_signature_verification\nFAILED tests/test_auth_token_security.py::TestJWTTokenRevocation::test_time_based_revocation_support\nFAILED tests/test_auth_token_security.py::TestJWTTokenRevocation::test_token_blacklist_concept\nFAILED tests/test_auth_token_security.py::TestJWTTokenRevocation::test_user_based_revocation_support\nFAILED tests/test_auth_token_security.py::TestJWTSecurityBoundaries::test_claims_privilege_boundaries\nFAILED tests/test_auth_token_security.py::TestJWTSecurityBoundaries::test_issuer_security_validation\nFAILED tests/test_auth_token_security.py::TestJWTSecurityBoundaries::test_timing_attack_resistance\nFAILED tests/test_auth_token_security.py::TestJWTSecurityBoundaries::test_token_type_security_boundaries\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_expired_token\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_invalid_token_type\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_malformed_token\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_concurrent_validation\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_edge_case_timing\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_performance\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_type_boundaries\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_with_future_issued_time\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_with_invalid_signature\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_with_wrong_issuer\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_without_required_claims\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_valid_access_token\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_valid_refresh_token\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_valid_service_token\nFAILED tests/test_cloud_sql_url.py::test_cloud_sql_url_format - AssertionErro...\nFAILED tests/test_cloud_sql_url.py::test_regular_postgres_url_with_ssl - Asse...\nFAILED tests/test_cloud_sql_url.py::test_regular_postgres_url - AssertionErro...\nFAILED tests/test_cloud_sql_url.py::test_heroku_style_url - AssertionError: E...\nFAILED tests/test_security.py::TestSQLInjectionPrevention::test_login_sql_injection_prevention\nFAILED tests/test_security.py::TestSQLInjectionPrevention::test_token_validation_sql_injection\nFAILED tests/test_security.py::TestSQLInjectionPrevention::test_service_token_sql_injection\nFAILED tests/test_security.py::TestXSSPrevention::test_login_xss_prevention\nFAILED tests/test_security.py::TestXSSPrevention::test_user_agent_xss_prevention\nFAILED tests/test_security.py::TestXSSPrevention::test_oauth_callback_xss_prevention\nFAILED tests/test_security.py::TestCSRFProtection::test_security_headers_present\nFAILED tests/test_security.py::TestCSRFProtection::test_csrf_token_validation\nFAILED tests/test_security.py::TestCSRFProtection::test_method_override_prevention\nFAILED tests/test_security.py::TestInputValidation::test_email_validation - F...\nFAILED tests/test_security.py::TestInputValidation::test_password_length_limits\nFAILED tests/test_security.py::TestInputValidation::test_json_payload_size_limit\nFAILED tests/test_security.py::TestSecurityLogging::test_failed_login_logging\nFAILED tests/test_security.py::TestSecurityLogging::test_sql_injection_attempt_logging\nFAILED tests/test_security.py::TestSecurityLogging::test_audit_trail_completeness\nFAILED tests/test_security.py::TestTokenSecurity::test_token_format_validation\nFAILED tests/test_security.py::TestTokenSecurity::test_token_injection_prevention\nFAILED tests/test_security.py::TestRateLimiting::test_login_rate_limiting - F...\nFAILED tests/test_security.py::TestRateLimiting::test_token_validation_rate_limiting\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_cleanup_expired_sessions\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_cleanup_inactive_sessions\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_enforce_session_limits\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_cleanup_preserves_recent_sessions\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_cleanup_job_performance\nFAILED tests/test_session_cleanup.py::TestSessionCleanupJob::test_redis_session_sync\nFAILED tests/test_session_management.py::TestSessionCreation::test_create_session_redis_failure\nFAILED tests/unified/test_jwt_validation.py::TestJWTSignatureValidation::test_jwt_signature_validation\nFAILED tests/unified/test_jwt_validation.py::TestJWTSignatureValidation::test_algorithm_mismatch_rejected\nFAILED tests/unified/test_jwt_validation.py::TestJWTSignatureValidation::test_expired_token_rejected\nFAILED tests/unified/test_jwt_validation.py::TestJWTClaimsValidation::test_jwt_claims_validation\nFAILED tests/unified/test_jwt_validation.py::TestJWTClaimsValidation::test_missing_required_claims_rejected\nFAILED tests/unified/test_jwt_validation.py::TestJWTClaimsValidation::test_token_type_validation\nFAILED tests/unified/test_jwt_validation.py::TestJWTClaimsValidation::test_service_token_claims\nFAILED tests/unified/test_jwt_validation.py::TestJWTRevocation::test_jwt_revocation\nFAILED tests/unified/test_jwt_validation.py::TestJWTRevocation::test_revocation_by_user_id\nFAILED tests/unified/test_jwt_validation.py::TestJWTIntegrationScenarios::test_end_to_end_token_flow\n=========== 93 failed, 99 passed, 1 skipped, 39 warnings in 26.85s ============\n",
      "errors": ""
    },
    "frontend": {
      "success": false,
      "duration": 70.36982131004333,
      "output": "  console.warn\n    [2025-08-22T16:01:25.644Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.info\n    [2025-08-22T16:01:25.752Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:25.753Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.log\n    Auth config from context: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at Object.log (__tests__/auth/context.auth-operations.test.tsx:118:13)\n\n  console.log\n    Login function type: function\n\n      at Object.log (__tests__/auth/context.auth-operations.test.tsx:119:13)\n\n  console.log\n    Calling login, authConfig at call time: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at log (__tests__/auth/context.auth-operations.test.tsx:108:15)\n\n  console.log\n    \ud83d\udce6 ChatSidebarHooks module mock created\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:43:11)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocket.setConnected [as _onopen] (__tests__/integration/basic-integration-data.test.tsx:42:29)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at WebSocket.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at WebSocket.delayCallback (node_modules/mock-socket/dist/mock-socket.js:1525:16)\n      at node_modules/mock-socket/dist/mock-socket.js:757:58\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.warn\n    [2025-08-22T16:01:26.766Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n      at Object.<anonymous> (__tests__/services/apiClient.test.ts:92:9)\n\n  console.info\n    [2025-08-22T16:01:26.773Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:26.774Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.log\n    Calling login, authConfig at call time: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at log (__tests__/auth/context.auth-operations.test.tsx:108:15)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.debug\n    assertMessageCount called: expectedCount=1\n\n      at debug (__tests__/integration/helpers/test-assertions.ts:31:11)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.warn\n    [2025-08-22T16:01:28.782Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n      at Object.<anonymous> (__tests__/services/apiClient.test.ts:92:9)\n\n  console.info\n    [2025-08-22T16:01:28.787Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:28.788Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.error\n    [2025-08-22T16:01:28.804Z] ERROR: Request failed [AuthInterceptor] Error: Connection failed\n        at setupReconnectionMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:182:32)\n        at Object.setupReconnectionMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:175:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.debug\n    [2025-08-22T16:01:28.833Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.debug\n    [2025-08-22T16:01:28.939Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.debug\n    [2025-08-22T16:01:28.982Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.debug\n    [2025-08-22T16:01:28.987Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.warn\n    [2025-08-22T16:01:28.989Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.warn\n    [2025-08-22T16:01:29.000Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:29.014Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:29.018Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.warn\n    [2025-08-22T16:01:29.019Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.warn\n    [2025-08-22T16:01:29.025Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.debug\n    [2025-08-22T16:01:29.037Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:29.041Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:29.042Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:29.047Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:29.058Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:29.062Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:29.064Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:29.069Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:29.078Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:29.083Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.warn\n    [2025-08-22T16:01:29.084Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.warn\n    [2025-08-22T16:01:29.090Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onerror (services/webSocketService.ts:791:28)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    [2025-08-22T16:01:29.102Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Authentication error',\n        type: 'auth',\n        recoverable: false,\n        code: 1006\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:131:22)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.warn\n    [2025-08-22T16:01:29.108Z] WARN: WebSocket authentication error undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Object.warn [as onError] (providers/WebSocketProvider.tsx:153:26)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onclose (services/webSocketService.ts:744:28)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T16:01:29.121Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_rejection) {\n      component: 'WebSocketService',\n      action: 'auth_rejection',\n      metadata: {\n        code: 1008,\n        reason: 'Authentication required: Use Authorization header'\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onclose] (services/webSocketService.ts:749:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T16:01:29.126Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_error) {\n      component: 'WebSocketService',\n      action: 'auth_error',\n      metadata: {\n        error: 'Authentication required: Use Authorization header',\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as handleAuthError] (services/webSocketService.ts:1223:12)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    [2025-08-22T16:01:29.131Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Security violation: Use proper authentication headers',\n        type: 'auth',\n        recoverable: false,\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:131:22)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1239:25)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    [2025-08-22T16:01:29.149Z] ERROR: WebSocket security violation - using deprecated authentication method undefined\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:146:28)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1239:25)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.debug\n    [2025-08-22T16:01:29.183Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:29.184Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.warn\n    [2025-08-22T16:01:29.127Z] WARN: Error fetching openapi.json, retrying... (1/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { retry: 1 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:38:16)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.warn\n    [2025-08-22T16:01:29.189Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.warn\n    [2025-08-22T16:01:29.306Z] WARN: Error fetching openapi.json, retrying... (2/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { retry: 2 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:38:16)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T16:01:29.433Z] ERROR: Error fetching openapi.json [ApiSpecService] (fetch_openapi_json_error) FetchError {\n      message: `invalid json response body at http://localhost:8000/openapi.json reason: Unexpected token 'i', \"invalid json\" is not valid JSON`,\n      type: 'invalid-json'\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at ApiSpecService.error [as getSpec] (services/api.ts:48:14)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.warn\n    [2025-08-22T16:01:29.442Z] WARN: Failed to fetch openapi.json (500), retrying... (1/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { status: 500, retry: 1 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:17:18)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:237:5)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: 'Performance',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: true,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 2,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ true, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.error\n    [2025-08-22T16:01:29.582Z] ERROR: Request failed [AuthInterceptor] TypeError: response.clone is not a function\n        at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@mswjs\\interceptors\\src\\interceptors\\fetch\\index.ts:170:42\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at ApiClient.request (services/apiClient.ts:15:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:237:5)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: false,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Failed to load threads',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Failed to load threads',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 0,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 0,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: 'Failed to load threads'\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: false,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Network error',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Network error',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 0,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 0,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: 'Network error'\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.error\n    [2025-08-22T16:01:29.819Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at setupRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:217:32)\n        at Object.setupRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:199:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.error\n    [2025-08-22T16:01:29.827Z] ERROR: Request failed [AuthInterceptor] Error: Error 1\n        at setupCustomRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:248:32)\n        at Object.setupCustomRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:235:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.error\n    [2025-08-22T16:01:29.834Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at setupNoRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:271:35)\n        at Object.setupNoRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:265:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:194:16)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T16:01:29.842Z] ERROR: Request failed [AuthInterceptor] Error: Final failure\n        at setupExhaustedRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:294:35)\n        at Object.setupExhaustedRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:283:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T16:01:29.861Z] ERROR: Request failed [AuthInterceptor] Error: Temporary failure\n        at setupIntermittentFailureMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:314:32)\n        at Object.setupIntermittentFailureMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:302:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.error\n    [2025-08-22T16:01:29.879Z] ERROR: Request failed [AuthInterceptor] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:411:28)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.error\n    [2025-08-22T16:01:29.889Z] ERROR: Request failed [AuthInterceptor] Error: Authentication failed\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:447:30)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd04 Storage event detected, updating activeThreadId to: thread-3\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:563:17)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.debug\n    [2025-08-22T16:01:30.196Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:30.211Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:30.215Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:30.217Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:30.221Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.error\n    An update to RetryTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:173:31)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:171:22)\n\n  console.error\n    An update to RetryTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:173:31)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:171:22)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:460:15)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:448:11)\n\n  console.error\n    An update to TimeoutComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setResult (__tests__/integration/error-handling-retry.test.tsx:267:7)\n\n  console.error\n    An update to TimeoutComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/error-handling-retry.test.tsx:275:7)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        preloadThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        preloadThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd04 Preloading thread: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:605:17)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 1000,\n      threadIds: [\n        'thread-1',  'thread-2',  'thread-3',  'thread-4',  'thread-5',\n        'thread-6',  'thread-7',  'thread-8',  'thread-9',  'thread-10',\n        'thread-11', 'thread-12', 'thread-13', 'thread-14', 'thread-15',\n        'thread-16', 'thread-17', 'thread-18', 'thread-19', 'thread-20',\n        'thread-21', 'thread-22', 'thread-23', 'thread-24', 'thread-25',\n        'thread-26', 'thread-27', 'thread-28', 'thread-29', 'thread-30',\n        'thread-31', 'thread-32', 'thread-33', 'thread-34', 'thread-35',\n        'thread-36', 'thread-37', 'thread-38', 'thread-39', 'thread-40',\n        'thread-41', 'thread-42', 'thread-43', 'thread-44', 'thread-45',\n        'thread-46', 'thread-47', 'thread-48', 'thread-49', 'thread-50',\n        'thread-51', 'thread-52', 'thread-53', 'thread-54', 'thread-55',\n        'thread-56', 'thread-57', 'thread-58', 'thread-59', 'thread-60',\n        'thread-61', 'thread-62', 'thread-63', 'thread-64', 'thread-65',\n        'thread-66', 'thread-67', 'thread-68', 'thread-69', 'thread-70',\n        'thread-71', 'thread-72', 'thread-73', 'thread-74', 'thread-75',\n        'thread-76', 'thread-77', 'thread-78', 'thread-79', 'thread-80',\n        'thread-81', 'thread-82', 'thread-83', 'thread-84', 'thread-85',\n        'thread-86', 'thread-87', 'thread-88', 'thread-89', 'thread-90',\n        'thread-91', 'thread-92', 'thread-93', 'thread-94', 'thread-95',\n        'thread-96', 'thread-97', 'thread-98', 'thread-99', 'thread-100',\n        ... 900 more items\n      ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        paginatedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        totalPages: 20\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 1000,\n      returning: {\n        sortedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        paginatedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        totalPages: 20\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 1000,\n      paginatedThreadsLength: 1000,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-4, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-5, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-6, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-7, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-8, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-9, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-10, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-11, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-12, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-13, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-14, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-15, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-16, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-17, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-18, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-19, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-20, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-21, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-22, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-23, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-24, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-25, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-26, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-27, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-28, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-29, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-30, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-31, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-32, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-33, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-34, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-35, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-36, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-37, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-38, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-39, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-40, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-41, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-42, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-43, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-44, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-45, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-46, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-47, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-48, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-49, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-50, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\uddc4\ufe0f Getting cached thread: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:614:17)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:707:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:770:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:31.798Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.906Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.906Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.931Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.941Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.946Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.950Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:31.950Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.039Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.039Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.044Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.044Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.050Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.050Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.050Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.056Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.056Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.056Z] DEBUG: Unknown WebSocket message type undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.063Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.063Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.063Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.070Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.070Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.070Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.082Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.082Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.090Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.090Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.094Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.094Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.099Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.099Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.109Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.109Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.113Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.113Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.117Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.117Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.121Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.125Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:32.125Z] ERROR: Failed to connect to WebSocket [WebSocketService] (connection_failed) Error: Failed to create WebSocket\n        at mockConstructor.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\webSocketService.test.ts:463:15)\n        at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:295:43\n        at mockConstructor.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:312:13)\n        at new mockConstructor (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:102:19)\n        at WebSocketService.createSecureWebSocket (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:962:14)\n        at WebSocketService.createSecureWebSocket [as connect] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:667:22)\n        at Object.connect (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\webSocketService.test.ts:466:24)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as connect] (services/webSocketService.ts:805:14)\n      at Object.connect (__tests__/services/webSocketService.test.ts:466:24)\n\n  console.debug\n    [2025-08-22T16:01:32.156Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.156Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.192Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.192Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.200Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:32.200Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:33.070Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n\n  console.info\n    [2025-08-22T16:01:33.079Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:33.080Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.error\n    [2025-08-22T16:01:33.082Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.sendChatMessage (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:115:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:164:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n\n  console.error\n    [2025-08-22T16:01:33.101Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.sendChatMessage (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:115:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:175:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n\n  console.error\n    [2025-08-22T16:01:33.113Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:221:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:224:7)\n\n  console.error\n    [2025-08-22T16:01:33.117Z] ERROR: Demo service request failed [DemoService] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:221:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:224:7)\n\n  console.error\n    [2025-08-22T16:01:33.135Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.calculateROI (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:128:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:270:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n\n  console.error\n    [2025-08-22T16:01:33.144Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.calculateROI (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:128:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:282:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n\n  console.error\n    [2025-08-22T16:01:33.162Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.exportReport (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:166:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:424:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n\n  console.error\n    [2025-08-22T16:01:33.185Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.getSessionStatus (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:179:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:466:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n\n  console.error\n    [2025-08-22T16:01:33.201Z] ERROR: Request failed [AuthInterceptor] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:521:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:524:7)\n\n  console.error\n    [2025-08-22T16:01:33.206Z] ERROR: Demo service request failed [DemoService] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:521:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:524:7)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    [2025-08-22T16:01:36.899Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:36.911Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:36.934Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:36.968Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:36.972Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:36.973Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:36.996Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:36.978Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:37.022Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.026Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:37.027Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:37.031Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onopen (services/webSocketService.ts:673:28)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.debug\n    [2025-08-22T16:01:37.046Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:37.047Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at Object.onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:206:23)\n        at runNextTicks (node:internal/process/task_queues:65:5)\n        at processTimers (node:internal/timers:540:9)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.warn\n    [2025-08-22T16:01:37.051Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.debug\n    [2025-08-22T16:01:37.056Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:37.057Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:37.063Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:37.072Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.112Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    [2025-08-22T16:01:37.115Z] WARN: Invalid WebSocket message received undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Proxy.warn (services/webSocketService.ts:709:20)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/websocket-setup.test.tsx:140:14)\n\n  console.debug\n    [2025-08-22T16:01:37.148Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.173Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    [2025-08-22T16:01:37.175Z] WARN: Invalid WebSocket message received undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Proxy.warn (services/webSocketService.ts:709:20)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/websocket-setup.test.tsx:163:14)\n\n  console.debug\n    [2025-08-22T16:01:37.190Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.211Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.223Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onopen (services/webSocketService.ts:673:28)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.debug\n    [2025-08-22T16:01:37.243Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.245Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:37.244Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at Object.onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:271:23)\n        at runNextTicks (node:internal/process/task_queues:65:5)\n        at processTimers (node:internal/timers:540:9)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.warn\n    [2025-08-22T16:01:37.248Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.debug\n    [2025-08-22T16:01:37.253Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:37.254Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:37.258Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:37.270Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:37.326Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.342Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:37.374Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.387Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:37.437Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.453Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T16:01:37.460Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:37.472Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:84:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/data-fetching-core.test.tsx:88:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:84:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/data-fetching-core.test.tsx:88:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:53:9)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:53:9)\n\n  console.debug\n    [2025-08-22T16:01:38.126Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.156Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.193Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'invalid-to...',\n      encodedTokenLength: 27\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T16:01:38.177Z] INFO: User Action: test_button_click (user_interaction) {\n      action: 'user_interaction',\n      metadata: {\n        user_action: 'test_button_click',\n        details: { actionType: 'test', timestamp: 1755878498176 }\n      }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T16:01:38.198Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:38.200Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.info\n    [2025-08-22T16:01:38.204Z] INFO: API GET /api/test -> 200 (api_call) {\n      action: 'api_call',\n      metadata: { method: 'GET', url: '/api/test', status_code: 200, duration_ms: 0 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T16:01:38.205Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T16:01:38.212Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.210Z] DEBUG: WebSocket: test_event (websocket_event) {\n      action: 'websocket_event',\n      metadata: {\n        event: 'test_event',\n        data_preview: '{\"eventType\":\"test\",\"timestamp\":1755878498210}'\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:38.213Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.info\n    [2025-08-22T16:01:38.216Z] INFO: Performance: test_operation took 100ms (performance) {\n      action: 'performance',\n      metadata: { operation: 'test_operation', duration_ms: 100 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T16:01:38.216Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.group\n      Layer Visibility Debug\n\n      at FrontendLogger.group (lib/logger.ts:305:15)\n\n  console.debug\n      [2025-08-22T16:01:38.228Z] DEBUG: Fast Layer: {}\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T16:01:38.230Z] DEBUG: Medium Layer: false\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.236Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T16:01:38.238Z] DEBUG: Slow Layer: false\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T16:01:38.243Z] DEBUG: Data: {\n      fast: {\n        agentName: 'TestAgent',\n        activeTools: [ 'tool1' ],\n        toolStatuses: [],\n        taskId: 'test-123',\n        status: 'running',\n        startTime: 1755878498223\n      },\n      medium: null,\n      slow: null,\n      processing: true\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.255Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.258Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T16:01:38.259Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:38.264Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    [2025-08-22T16:01:38.250Z] ERROR: Component error [ErrorComponent] (mount) Error: Test error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\logger-integration.test.tsx:167:21)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log (lib/logger.ts:215:10)\n      at error (__tests__/integration/logger-integration.test.tsx:173:20)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/logger-integration.test.tsx:182:13)\n\n  console.info\n    [2025-08-22T16:01:38.274Z] INFO: User Action: test_button_click (user_interaction) {\n      action: 'user_interaction',\n      metadata: {\n        user_action: 'test_button_click',\n        details: { actionType: 'test', timestamp: 1755878498274 }\n      }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:38.282Z] INFO: API GET /api/test -> 200 (api_call) {\n      action: 'api_call',\n      metadata: { method: 'GET', url: '/api/test', status_code: 200, duration_ms: 0 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T16:01:38.283Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.285Z] DEBUG: WebSocket: test_event (websocket_event) {\n      action: 'websocket_event',\n      metadata: {\n        event: 'test_event',\n        data_preview: '{\"eventType\":\"test\",\"timestamp\":1755878498285}'\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.287Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T16:01:38.288Z] INFO: Performance: test_operation took 100ms (performance) {\n      action: 'performance',\n      metadata: { operation: 'test_operation', duration_ms: 100 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T16:01:38.288Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T16:01:38.292Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.info\n    [2025-08-22T16:01:38.295Z] INFO: Auth [REDACTED] [REDACTED] undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:38.298Z] INFO: User data { metadata: { token: '[REDACTED]', user_id: 'user123' } }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T16:01:38.302Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.305Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T16:01:38.304Z] INFO: Grandchild mounted [Grandchild] { component: 'Grandchild' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T16:01:38.306Z] INFO: Child mounted [Child] { component: 'Child' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T16:01:38.306Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.info\n    [2025-08-22T16:01:38.309Z] INFO: Parent mounted [Parent] { component: 'Parent' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T16:01:38.310Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    assertAuthState called: isAuthenticated=true, token=test-jwt-token\n\n      at debug (__tests__/integration/helpers/test-assertions.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    assertAuthState called: isAuthenticated=false, token=null\n\n      at debug (__tests__/integration/helpers/test-assertions.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at debug (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    [2025-08-22T16:01:38.810Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.810Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.810Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.810Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.810Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.826Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.826Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.826Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.826Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.826Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.826Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.846Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.846Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.846Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:43.846Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:44.846Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:44.846Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:38.856Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:40.856Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:40.856Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T16:01:39.097Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:92:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n\n  console.error\n    [2025-08-22T16:01:39.110Z] ERROR: Failed to fetch threads [MessageService] (getThreads) Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:92:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at MessageService.error [as getThreads] (services/messageService.ts:91:14)\n      at Object.<anonymous> (__tests__/services/messageService.test.ts:94:7)\n\n  console.error\n    [2025-08-22T16:01:39.129Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:274:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n\n  console.error\n    [2025-08-22T16:01:39.137Z] ERROR: Failed to save message [MessageService] (saveMessage) Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:274:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at MessageService.error [as saveMessage] (services/messageService.ts:137:14)\n      at MessageService.retryQueuedMessages (services/messageService.ts:252:9)\n      at executeRetry (__tests__/services/messageService.test.ts:340:14)\n      at Object.<anonymous> (__tests__/services/messageService.test.ts:298:28)\n\n  console.debug\n    [2025-08-22T16:01:39.148Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Setting up [REDACTED] [WebSocketService] (setup_token_refresh) {\n      component: 'WebSocketService',\n      action: 'setup_token_refresh',\n      metadata: {\n        currentTime: 1755878499,\n        tokenExpiry: '[REDACTED]',\n        timeUntilExpiry: 7200,\n        refreshInSeconds: 6900\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: [REDACTED] timers setup for WebSocket connection undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 206\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Setting up [REDACTED] [WebSocketService] (setup_token_refresh) {\n      component: 'WebSocketService',\n      action: 'setup_token_refresh',\n      metadata: {\n        currentTime: 1755878499,\n        tokenExpiry: '[REDACTED]',\n        timeUntilExpiry: 3600,\n        refreshInSeconds: 3300\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: [REDACTED] timers setup for WebSocket connection undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T16:01:39.158Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react/cjs/react.development.js:811:21\n      at runJobs (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:573:22)\n      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1394:13)\n      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1502:20)\n      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/index.js:576:19)\n      at node_modules/@testing-library/react/dist/pure.js:97:16\n      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:92:13)\n      at __tests__/integration/data-fetching-optimistic.test.tsx:368:7\n\n",
      "errors": "FAIL Integration Tests __tests__/auth/context.token-management.test.tsx\n  AuthContext - Token Management\n    \u00d7 should use existing token from storage (1050 ms)\n    \u00d7 should handle invalid token gracefully (1009 ms)\n    \u221a should handle token refresh mechanism (29 ms)\n\n  \u25cf AuthContext - Token Management \u203a should use existing token from storage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 54 |\u001b[39m   \u001b[36mconst\u001b[39m waitForTokenProcessing \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 55 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 57 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:56:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Token Management \u203a should handle invalid token gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, {\"action\": \"token_validation_failed\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   \u001b[36mconst\u001b[39m expectInvalidTokenHandling \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 74 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m       expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m         \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m \n     \u001b[90m 77 |\u001b[39m         expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 78 |\u001b[39m         {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:75:28)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/auth/auth-session-detection.test.tsx\n  Auth Session Detection\n    Session Expiry Detection\n      \u00d7 should detect expired token on initialization (1069 ms)\n      \u00d7 should handle invalid expiry dates gracefully (1006 ms)\n      \u00d7 should validate token expiry on every check (5 ms)\n      \u00d7 should start session timeout monitoring after login (17 ms)\n    Session Warning System\n      \u00d7 should warn user before session expires (4 ms)\n      \u00d7 should provide session extension option (3 ms)\n      \u00d7 should handle session extension failures (2 ms)\n      \u00d7 should count down remaining session time (3 ms)\n    Edge Cases and Error Handling\n      \u00d7 should handle system clock changes gracefully (3 ms)\n      \u00d7 should handle network failures during session validation (2 ms)\n      \u00d7 should handle missing token expiry gracefully (7 ms)\n      \u00d7 should handle browser tab visibility changes (4 ms)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should detect expired token on initialization\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mremoveToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:101:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should handle invalid expiry dates gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, ObjectContaining {\"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m         expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m           \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 121 |\u001b[39m           expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:118:30)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should validate token expiry on every check\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:138:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:137:16)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should start session timeout monitoring after login\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 155 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:156:37)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should warn user before session expires\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:172:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:171:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should provide session extension option\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:192:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:190:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should handle session extension failures\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:211:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:209:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should count down remaining session time\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:229:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:227:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle system clock changes gracefully\n\n    TypeError: Date.now.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         renderWithSession()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m         (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m (\u001b[35m24\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1000\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m         advanceTimeBy(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/auth-session-detection.test.tsx:249:33)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:247:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle network failures during session validation\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:272:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:270:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle missing token expiry gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringMatching /missing.*expiry/i, Any<Object>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m         expect(logger\u001b[33m.\u001b[39mwarn)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m           expect\u001b[33m.\u001b[39mstringMatching(\u001b[35m/missing.*expiry/i\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m)\n     \u001b[90m 298 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:295:29)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle browser tab visibility changes\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:315:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:314:16)\n\nFAIL Integration Tests __tests__/integration/comprehensive/collaboration-sync.test.tsx\n  Real-time Collaboration Sync Tests\n    Conflict Resolution\n      \u221a should handle conflict resolution in collaborative editing (99 ms)\n      \u221a should handle multiple concurrent conflicts (36 ms)\n      \u221a should maintain version consistency during conflicts (26 ms)\n    Operation History Management\n      \u00d7 should maintain operation history for undo/redo (1033 ms)\n      \u00d7 should limit history size to prevent memory bloat (28 ms)\n      \u221a should handle branch creation in history (19 ms)\n    Real-time Synchronization\n      \u221a should sync changes across multiple clients (14 ms)\n      \u00d7 should handle network interruptions gracefully (1030 ms)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:540:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:541:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:542:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      4 of 4 states\n    Received:\n      1 of 1 states\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mInitial state\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"history-info\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m of \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m states\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mPerform Action\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mUndo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mRedo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mClear History\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-undo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-redo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 543 |\u001b[39m   \n     \u001b[90m 544 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 545 |\u001b[39m     expect(getByTestId(\u001b[32m'history-info'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'4 of 4 states'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 546 |\u001b[39m     expect(getByTestId(\u001b[32m'can-undo'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'yes'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 547 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 548 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:545:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should limit history size to prevent memory bloat\n\n    TypeError: Cannot read properties of undefined (reading 'length')\n\n    \u001b[0m \u001b[90m 439 |\u001b[39m \u001b[36mconst\u001b[39m renderHistoryLimitComponent \u001b[33m=\u001b[39m (history\u001b[33m:\u001b[39m string[]\u001b[33m,\u001b[39m limitReached\u001b[33m:\u001b[39m boolean\u001b[33m,\u001b[39m addMany\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 440 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 441 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"history-size\"\u001b[39m\u001b[33m>\u001b[39m{history\u001b[33m.\u001b[39mlength} items\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 442 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"limit-reached\"\u001b[39m\u001b[33m>\u001b[39m{limitReached \u001b[33m?\u001b[39m \u001b[32m'yes'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'no'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 443 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{addMany}\u001b[33m>\u001b[39m\u001b[33mAdd\u001b[39m \u001b[33mMany\u001b[39m \u001b[33mActions\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 444 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at length (__tests__/integration/comprehensive/collaboration-sync.test.tsx:441:46)\n      at renderHistoryLimitComponent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:202:12)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:569:13)\n      at Object.testHistoryLimit (__tests__/integration/comprehensive/collaboration-sync.test.tsx:106:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Real-time Synchronization \u203a should handle network interruptions gracefully\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      0 queued\n    Received:\n      3 queued\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"network-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mdisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queued-changes\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m queued\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSimulate Network Issue\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 603 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 604 |\u001b[39m     expect(getByTestId(\u001b[32m'network-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 605 |\u001b[39m     expect(getByTestId(\u001b[32m'queued-changes'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0 queued'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 606 |\u001b[39m   }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mSHORT\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 607 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:605:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/auth/context.auth-operations.test.tsx\n  AuthContext - Auth Operations\n    \u00d7 should handle login action (1108 ms)\n    \u221a should not login when auth config is not available (10 ms)\n    \u00d7 should handle logout action (1021 ms)\n    \u00d7 should set dev logout flag in development mode (1024 ms)\n    \u221a should not logout when auth config is not available (20 ms)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[90m// Wait for the login action to complete\u001b[39m\n     \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     expect(mockAuthService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:134:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 179 |\u001b[39m     \u001b[90m// Wait for logout methods to be called\u001b[39m\n     \u001b[90m 180 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 181 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 182 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 184 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.auth-operations.test.tsx:181:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 205 |\u001b[39m     \u001b[90m// Wait for dev logout flag and logout methods to be called\u001b[39m\n     \u001b[90m 206 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 208 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 210 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:207:48)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/api-calls-advanced.test.tsx\n  API Calls - Request Interceptors\n    \u221a handles API spec fetching for endpoint resolution (42 ms)\n    \u221a caches OpenAPI spec for subsequent requests (15 ms)\n    \u221a handles endpoint resolution failure gracefully (6 ms)\n    \u221a handles malformed OpenAPI specs (316 ms)\n    \u00d7 retries spec fetching on failure (156 ms)\n  API Calls - API Versioning\n    \u221a supports versioned API endpoints (3 ms)\n    \u221a handles version-specific endpoints in OpenAPI spec (5 ms)\n    \u221a handles version migration scenarios (7 ms)\n    \u221a validates version compatibility (3 ms)\n  API Calls - Response Interceptors\n    \u221a parses JSON responses correctly (4 ms)\n    \u221a handles empty response bodies (4 ms)\n    \u221a preserves response metadata (7 ms)\n    \u221a handles large response payloads efficiently (58 ms)\n    \u221a validates response content types (7 ms)\n  API Calls - Performance\n    \u221a handles concurrent requests efficiently (39 ms)\n    \u221a implements connection pooling (13 ms)\n    \u221a optimizes payload serialization (10 ms)\n\n  \u25cf API Calls - Request Interceptors \u203a retries spec fetching on failure\n\n    expect(received).resolves.toBeDefined()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: response.clone is not a function]\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m     \u001b[90m// Should eventually succeed after retry\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       apiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'retry_test'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\n     \u001b[90m 239 |\u001b[39m     )\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:2116:15)\n      at Object.expect (__tests__/integration/api-calls-advanced.test.tsx:237:11)\n\nFAIL Integration Tests __tests__/services/apiClient.test.ts (5.405 s)\n  ApiClient Infrastructure Tests\n    Authentication Management\n      \u00d7 includes auth token from localStorage (29 ms)\n      \u00d7 falls back to sessionStorage when localStorage empty (2 ms)\n      \u00d7 handles missing auth tokens gracefully (2 ms)\n      \u221a prevents token leakage in error responses (3148 ms)\n    HTTP Method Support\n      \u221a GET requests with query parameters (1 ms)\n      \u221a POST requests with JSON body (1 ms)\n      \u221a PUT requests update existing resources (1 ms)\n      \u221a DELETE requests remove resources (2 ms)\n    Connection Health Management\n      \u221a performs health check on initialization (4 ms)\n      \u221a handles 307 redirects as healthy connection\n      \u221a marks connection as unhealthy on network failures (1 ms)\n      \u221a reconnects before failed requests (1014 ms)\n    Retry Logic with Exponential Backoff\n      \u221a retries failed requests with exponential delay (9 ms)\n      \u221a respects custom retry configuration (7 ms)\n      \u221a disables retry when configured (7 ms)\n      \u221a throws last error after all retries exhausted (19 ms)\n      \u00d7 handles intermittent network failures gracefully (11 ms)\n    Error Response Handling\n      \u221a parses JSON error responses (1 ms)\n      \u221a handles text error responses (1 ms)\n      \u221a prioritizes error message hierarchy\n      \u221a handles malformed JSON responses gracefully (1 ms)\n    Concurrent Request Management\n      \u221a handles multiple simultaneous requests (1 ms)\n      \u221a isolates failures between concurrent requests (2 ms)\n    Timeout and Rate Limiting\n      \u221a handles request timeouts gracefully (6 ms)\n      \u221a respects rate limiting responses (2 ms)\n    Security and Data Protection\n      \u221a includes credentials for authentication (1 ms)\n      \u221a sanitizes sensitive data from error logs (6 ms)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a includes auth token from localStorage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:68:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a falls back to sessionStorage when localStorage empty\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer session-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:76:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a handles missing auth tokens gracefully\n\n    expect(received).toBeUndefined()\n\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 501 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 502 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 503 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 504 |\u001b[39m }\n     \u001b[90m 505 |\u001b[39m\n     \u001b[90m 506 |\u001b[39m \u001b[36mfunction\u001b[39m expectMethodCall(method\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedUrl\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m data\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) {\u001b[0m\n\n      at toBeUndefined (__tests__/services/apiClient.test.ts:503:33)\n      at Object.expectNoAuthHeaders (__tests__/services/apiClient.test.ts:84:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Retry Logic with Exponential Backoff \u203a handles intermittent network failures gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m\n     \u001b[90m 322 |\u001b[39m     \u001b[36mfunction\u001b[39m verifyIntermittentFailureRecovery(result\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(result\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mrecovered)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m     }\n     \u001b[90m 325 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:323:37)\n      at Object.verifyIntermittentFailureRecovery (__tests__/services/apiClient.test.ts:304:7)\n\nFAIL Integration Tests __tests__/integration/store-persistence.test.tsx\n  Store Persistence Integration Tests\n    State Persistence Across Page Refreshes\n      \u221a persists authentication state across refreshes (171 ms)\n      \u221a persists chat messages across browser sessions (212 ms)\n      \u221a handles partial state restoration gracefully (93 ms)\n    Large State Persistence\n      \u00d7 handles large message history persistence efficiently (31 ms)\n      \u00d7 implements storage quota management (6 ms)\n    Cross-Tab State Synchronization\n      \u00d7 synchronizes state changes across browser tabs (43 ms)\n      \u00d7 prevents infinite sync loops between tabs (60 ms)\n    Migration and Versioning\n      \u00d7 handles legacy state format migration (5 ms)\n      \u221a maintains backwards compatibility with older versions (4 ms)\n    Error Recovery and Resilience\n      \u221a recovers from corrupted localStorage data (4 ms)\n      \u221a handles localStorage unavailability gracefully (64 ms)\n      \u221a implements automatic state cleanup for old data (5 ms)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a handles large message history persistence efficiently\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       \n     \u001b[90m 219 |\u001b[39m       \u001b[90m// Verify localStorage can handle large data\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockLocalStorage\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n     \u001b[90m 222 |\u001b[39m       \u001b[90m// Check performance of persistence operation\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/store-persistence.test.tsx:220:40)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a implements storage quota management\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1\n    Received:\n      0\n\n    \u001b[0m \u001b[90m 245 |\u001b[39m       \n     \u001b[90m 246 |\u001b[39m       \u001b[90m// Verify graceful handling of quota issues\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 247 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 250 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:247:52)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a synchronizes state changes across browser tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \n     \u001b[90m 261 |\u001b[39m       \u001b[90m// Simulate storage event from another tab\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 264 |\u001b[39m         newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 265 |\u001b[39m           state\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:262:28)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a prevents infinite sync loops between tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \u001b[90m// Simulate multiple rapid storage events\u001b[39m\n     \u001b[90m 300 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m         \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m           key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m           newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 304 |\u001b[39m             state\u001b[33m:\u001b[39m { user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m`user-${i}`\u001b[39m }\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m`token-${i}`\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:301:30)\n\n  \u25cf Store Persistence Integration Tests \u203a Migration and Versioning \u203a handles legacy state format migration\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      none\n    Received:\n      test-thread-123\n\n    \u001b[0m \u001b[90m 331 |\u001b[39m       \u001b[90m// Verify app handles legacy format gracefully\u001b[39m\n     \u001b[90m 332 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 333 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-thread'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'none'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 334 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 335 |\u001b[39m\n     \u001b[90m 336 |\u001b[39m     it(\u001b[32m'maintains backwards compatibility with older versions'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:333:51)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-auth-headers.test.tsx\n  WebSocket Authentication Headers (SECURITY VERIFICATION)\n    Subprotocol Authentication (SECURE METHOD)\n      \u221a should use Sec-WebSocket-Protocol with Bearer token for WebSocket connection (54 ms)\n      \u221a should NOT send JWT token via query parameters (security verified) (32 ms)\n    WebSocket Subprotocol Authentication (PRIMARY METHOD)\n      \u221a should use Sec-WebSocket-Protocol header for JWT authentication (23 ms)\n      \u221a should handle authentication protocol correctly (20 ms)\n    Secure Connection Endpoint\n      \u221a should connect to the secure WebSocket endpoint (22 ms)\n      \u00d7 should handle authentication errors from secure endpoint (1111 ms)\n    Token Management Integration\n      \u221a should not expose token in connection URL (15 ms)\n      \u221a should properly handle token refresh scenarios (18 ms)\n\n  \u25cf WebSocket Authentication Headers (SECURITY VERIFICATION) \u203a Secure Connection Endpoint \u203a should handle authentication errors from secure endpoint\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      CLOSED\n    Received:\n      OPEN\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m\n     \u001b[90m 323 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'ws-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Frontend should properly handle auth errors\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/critical/websocket-auth-headers.test.tsx:324:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/task-processing-basic.test.tsx\n  Background Task Processing\n    \u00d7 should queue and process background tasks (1 ms)\n    \u00d7 should handle priority task queuing\n    \u221a should monitor task progress (513 ms)\n    \u221a should handle batch task processing (42 ms)\n    \u221a should handle task cancellation (30 ms)\n    \u221a should list active tasks (46 ms)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 71 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 73 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-456'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 74 |\u001b[39m     \n     \u001b[90m 75 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 76 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:73:42)\n\n  \u25cf Background Task Processing \u203a should handle priority task queuing\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-high-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-normal-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     \n     \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:120:42)\n\nFAIL Integration Tests __tests__/integration/login-websocket-setup.test.tsx\n  Login WebSocket Setup Integration - Agent 2\n    WebSocket Connection After Authentication\n      \u221a should establish WebSocket connection within 1s after login (129 ms)\n      \u221a should include authentication token in WebSocket connection (45 ms)\n      \u221a should retry WebSocket connection on initial failure (21 ms)\n    WebSocket Authentication Handshake\n      \u221a should send authentication message after connection (36 ms)\n      \u00d7 should handle WebSocket authentication rejection (57 ms)\n      \u00d7 should validate token format before WebSocket connection (25 ms)\n    Connection State Management\n      \u00d7 should track connection states accurately (11 ms)\n      \u221a should handle connection state transitions properly (65 ms)\n      \u00d7 should maintain auth state during WebSocket operations (50 ms)\n    WebSocket URL Construction\n      \u221a should construct WebSocket URL with proper parameters (31 ms)\n      \u221a should include user context in WebSocket connection (25 ms)\n      \u221a should handle WebSocket URL construction errors (27 ms)\n    Error Handling and Recovery\n      \u221a should handle network errors during WebSocket setup (42 ms)\n      \u221a should gracefully handle WebSocket connection timeout (1626 ms)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should handle WebSocket authentication rejection\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should validate token format before WebSocket connection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:280:47)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should validate token format before WebSocket connection\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"ws://localhost:8082/ws?token=invalid.token.format\", {\"token\": \"invalid.token.format\", \"userId\": \"user_1755878488668_s66k3mfe6\"}\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m       \n     \u001b[90m 289 |\u001b[39m       \u001b[90m// Should not attempt WebSocket connection with invalid token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'auth-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:290:48)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should track connection states accurately\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      disconnected\n    Received:\n      connecting\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \n     \u001b[90m 300 |\u001b[39m       \u001b[90m// Initial state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'connection-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m       \n     \u001b[90m 303 |\u001b[39m       \u001b[90m// During connection\u001b[39m\n     \u001b[90m 304 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/login-websocket-setup.test.tsx:301:54)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should maintain auth state during WebSocket operations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: {\"access_token\": \"token_1755878488668_bdc5sgvdg\", \"expires_in\": 3600, \"refresh_token\": \"refresh_1755878488668\", \"token_type\": \"bearer\", \"user\": \"user_1755878488668_s66k3mfe6\"}\n    Received: \"[object Object]\"\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m       \n     \u001b[90m 348 |\u001b[39m       \u001b[90m// Verify auth state persists through WebSocket connection\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m       expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'jwt_token'\u001b[39m))\u001b[33m.\u001b[39mtoBe(validToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/login-websocket-setup.test.tsx:349:49)\n\nFAIL Integration Tests __tests__/integration/error-handling-core.test.tsx\n  Error Handling - 4xx Client Errors\n    \u00d7 handles 404 Not Found errors (79 ms)\n    \u00d7 handles 401 Unauthorized errors (24 ms)\n    \u221a handles 403 Forbidden errors (5 ms)\n    \u00d7 handles 422 Validation errors with details (8 ms)\n    \u00d7 handles 429 Rate Limiting errors (24 ms)\n  Error Handling - 5xx Server Errors\n    \u00d7 handles 500 Internal Server errors with retry (16 ms)\n    \u00d7 handles 502 Bad Gateway errors (15 ms)\n    \u00d7 handles 503 Service Unavailable errors (19 ms)\n    \u00d7 allows manual retry after failure (15 ms)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 404 Not Found errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Resource not found\n    Received:\n      Error: HTTP 404: Not Found\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Resource not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'404'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:376:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 401 Unauthorized errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Unauthorized access\n    Received:\n      Error: HTTP 401: Unauthorized\n\n    \u001b[0m \u001b[90m 385 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 386 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 387 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Unauthorized access'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 388 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m\n     \u001b[90m 390 |\u001b[39m   it(\u001b[32m'handles 403 Forbidden errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:387:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 422 Validation errors with details\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Validation failed\n    Received:\n      Error: HTTP 422: Unprocessable Entity\n\n    \u001b[0m \u001b[90m 403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 404 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 405 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Validation failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 406 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m\n     \u001b[90m 408 |\u001b[39m   it(\u001b[32m'handles 429 Rate Limiting errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:405:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 429 Rate Limiting errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'429'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 426 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:424:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 500 Internal Server errors with retry\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 449 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 450 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 451 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 452 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'500'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 454 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:451:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 502 Bad Gateway errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/bad-gateway`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'502'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:459:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 503 Service Unavailable errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 465 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/service-unavailable`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 466 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 467 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 468 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'503'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:467:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a allows manual retry after failure\n\n    Unable to find an element by: [data-testid=\"error-display\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 473 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/server-error`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 475 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 476 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-display'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 478 |\u001b[39m     \u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:475:18)\n\nFAIL Integration Tests __tests__/integration/error-handling-retry.test.tsx\n  Error Handling - Retry Logic\n    \u00d7 retries failed requests with exponential backoff (175 ms)\n    \u221a respects max retry limit (70 ms)\n    \u221a uses linear backoff when exponential is disabled (26 ms)\n  Error Handling - Request Cancellation\n    \u00d7 cancels ongoing requests (35 ms)\n    \u221a handles multiple concurrent cancellations (101 ms)\n  Error Handling - Timeout Handling\n    \u00d7 handles request timeouts correctly (34 ms)\n    \u221a succeeds when response is within timeout (44 ms)\n\n  \u25cf Error Handling - Retry Logic \u203a retries failed requests with exponential backoff\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Retry 1\n    Received:\n      Retry 2\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-test-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStart Request\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mRetry \u001b[0m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m     \n     \u001b[90m 394 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Retry 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     \n     \u001b[90m 398 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:395:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Error Handling - Request Cancellation \u203a cancels ongoing requests\n\n    Unable to find an element by: [data-testid=\"error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancellable-request\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mStart Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancel-request\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCancel Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLoading...\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cancel-request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Request cancelled'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 512 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-retry.test.tsx:510:18)\n\n  \u25cf Error Handling - Timeout Handling \u203a handles request timeouts correctly\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Timeout\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"timeout-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"fast-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFast Timeout (100ms)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"slow-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSlow Timeout (10s)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"result\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m     \n     \u001b[90m 586 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'result'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Timeout'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 590 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:587:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL Integration Tests __tests__/integration/data-fetching-pagination.test.tsx\n  Data Fetching - Pagination\n    \u221a loads first page by default (79 ms)\n    \u221a navigates to next page correctly (126 ms)\n    \u00d7 disables navigation buttons appropriately (60 ms)\n    \u221a jumps to first page correctly (41 ms)\n    \u221a handles pagination with different page sizes (10 ms)\n  Data Fetching - Infinite Scrolling\n    \u221a loads more data when scrolling to bottom (80 ms)\n    \u221a prevents duplicate loading requests (18 ms)\n\n  \u25cf Data Fetching - Pagination \u203a disables navigation buttons appropriately\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"next-page\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 325 |\u001b[39m     }\n     \u001b[90m 326 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 327 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'next-page'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 328 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m   it(\u001b[32m'jumps to first page correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-pagination.test.tsx:327:19)\n\nFAIL Integration Tests __tests__/auth/context.dev-mode.test.tsx (6.587 s)\n  AuthContext - Development Mode\n    \u00d7 should auto-login in development mode when not logged out (3072 ms)\n    \u00d7 should skip auto-login if user has logged out in dev mode (1009 ms)\n    \u00d7 should handle dev login failure gracefully (1013 ms)\n\n  \u25cf AuthContext - Development Mode \u203a should auto-login in development mode when not logged out\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m   \u001b[36mconst\u001b[39m expectDevLogin \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (devConfig\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n     \u001b[90m 62 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m     }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[35m3000\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.dev-mode.test.tsx:63:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Development Mode \u203a should skip auto-login if user has logged out in dev mode\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Skipping auto dev login - user has logged out\", {\"action\": \"auto_dev_login_skipped\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m   \u001b[36mconst\u001b[39m expectSkipMessage \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m       expect(logger\u001b[33m.\u001b[39minfo)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m         \u001b[32m'Skipping auto dev login - user has logged out'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 92 |\u001b[39m         {\n     \u001b[90m 93 |\u001b[39m           component\u001b[33m:\u001b[39m \u001b[32m'AuthContext'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.dev-mode.test.tsx:90:27)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Development Mode \u203a should handle dev login failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m expectNoAuthUpdate \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 114 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.dev-mode.test.tsx:115:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/basic-integration-data.test.tsx (7.02 s)\n  Data Flow Integration Tests\n    WebSocket Connection\n      \u00d7 should establish WebSocket connection (1142 ms)\n      \u00d7 should handle WebSocket messages (1016 ms)\n    Chat Functionality\n      \u221a should send and receive messages (49 ms)\n      \u00d7 should handle streaming messages (1014 ms)\n    Thread Management\n      \u221a should create and switch threads (43 ms)\n      \u00d7 should delete threads (1027 ms)\n    Agent Integration\n      \u00d7 should handle agent messages through WebSocket (169 ms)\n    State Synchronization\n      \u00d7 should sync state between components (1044 ms)\n\n  \u25cf Data Flow Integration Tests \u203a WebSocket Connection \u203a should establish WebSocket connection\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:56:30)\n\n  \u25cf Data Flow Integration Tests \u203a WebSocket Connection \u203a should handle WebSocket messages\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:78:30)\n\n  \u25cf Data Flow Integration Tests \u203a Chat Functionality \u203a should handle streaming messages\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:121:30)\n\n  \u25cf Data Flow Integration Tests \u203a Thread Management \u203a should delete threads\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 threads\n    Received:\n      2 threads\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m2\u001b[0m\n              \u001b[0m threads\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<span>\u001b[39m\n                \u001b[0mNew Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mDelete\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<span>\u001b[39m\n                \u001b[0mTest Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mDelete\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Data Flow Integration Tests \u203a Agent Integration \u203a should handle agent messages through WebSocket\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the next received message to equal:\n      Any<Object>\n    Received:\n      \"{\\\"type\\\":\\\"start_agent\\\",\\\"task\\\":\\\"analyze\\\"}\"\n\n    Difference:\n\n      Comparing two different types of values. Expected object but received string.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:220:30)\n\n  \u25cf Data Flow Integration Tests \u203a State Synchronization \u203a should sync state between components\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 messages\n    Received:\n      2 messages\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mSend from A\u001b[0m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"messages-a\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m2\u001b[0m\n                \u001b[0m messages\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"messages-b\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mTest message\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mFrom Component A\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/first-load-edge-cases.test.tsx\n  First Load Edge Cases Testing - Agent 1\n    Service Worker Edge Cases\n      \u00d7 registers service worker on first load (1 ms)\n      \u00d7 handles service worker registration failure\n      \u00d7 updates service worker on version change\n    Deep Link Handling\n      \u00d7 handles deep link to protected route on first load\n      \u00d7 preserves deep link after authentication (1 ms)\n      \u00d7 handles invalid deep links gracefully (1 ms)\n    Network and Connectivity Edge Cases\n      \u00d7 handles network interruption during initial load (1 ms)\n      \u00d7 handles slow 3G network gracefully (1 ms)\n      \u00d7 retries failed network requests automatically (1 ms)\n    Browser Restriction Edge Cases\n      \u00d7 handles disabled localStorage gracefully\n      \u00d7 works with disabled cookies\n      \u00d7 handles strict Content Security Policy\n      \u00d7 works with ad blockers enabled\n    Rapid User Interaction Edge Cases\n      \u00d7 handles multiple rapid page refreshes\n      \u00d7 prevents race conditions during rapid clicks\n    Browser Compatibility Edge Cases\n      \u00d7 provides fallbacks for missing APIs\n      \u00d7 handles unsupported browser gracefully\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\nFAIL Integration Tests __tests__/integration/first-load-performance.test.tsx\n  First Load Performance Testing - Agent 1\n    Core Performance Benchmarks\n      \u00d7 achieves First Contentful Paint under 1.5 seconds (2 ms)\n      \u00d7 achieves Time to Interactive under 3 seconds (1 ms)\n      \u00d7 maintains bundle size under 1MB gzipped (1 ms)\n      \u00d7 achieves layout stability with CLS < 0.1 (1 ms)\n    Resource Loading Performance\n      \u00d7 inlines critical CSS for above-fold content\n      \u00d7 preloads critical fonts effectively\n      \u00d7 optimizes image loading with lazy loading (1 ms)\n      \u00d7 implements effective code splitting (1 ms)\n    Memory and CPU Performance\n      \u00d7 maintains memory usage under 100MB after load (1 ms)\n      \u00d7 keeps main thread blocking time under 50ms (1 ms)\n      \u00d7 achieves smooth frame rate during initial render\n    Network Performance Optimization\n      \u00d7 implements effective HTTP/2 resource prioritization\n      \u00d7 uses service worker for effective caching (1 ms)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\nFAIL Integration Tests __tests__/integration/thread-navigation.test.tsx (7.583 s)\n  Thread Navigation Integration Tests\n    Thread Switching Performance\n      \u221a should switch threads under 200ms performance target (655 ms)\n      \u00d7 should handle rapid thread switching without state corruption (1225 ms)\n      \u221a should debounce thread switching to prevent excessive calls (347 ms)\n    URL Synchronization\n      \u00d7 should update URL when thread is selected (1100 ms)\n      \u221a should handle deep linking to specific threads (41 ms)\n      \u00d7 should preserve URL state across navigation (174 ms)\n    State Persistence\n      \u221a should restore active thread on page refresh (34 ms)\n      \u221a should persist sidebar state across refreshes (62 ms)\n      \u221a should handle localStorage corruption gracefully (50 ms)\n    Error Recovery\n      \u221a should handle thread loading failures gracefully (57 ms)\n      \u221a should retry failed thread operations (83 ms)\n      \u221a should handle WebSocket disconnection during navigation (77 ms)\n    Multi-Session Synchronization\n      \u221a should sync thread updates across multiple tabs (60 ms)\n      \u00d7 should handle concurrent thread modifications (1171 ms)\n    Navigation Performance Optimization\n      \u221a should preload adjacent threads for faster navigation (155 ms)\n      \u221a should implement virtual scrolling for large thread lists (216 ms)\n      \u221a should cache thread metadata for instant navigation (434 ms)\n\n  \u25cf Thread Navigation Integration Tests \u203a Thread Switching Performance \u203a should handle rapid thread switching without state corruption\n\n    expect(element).toHaveClass(\"bg-emerald-50\")\n\n    Expected the element to have class:\n      bg-emerald-50\n    Received:\n      w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m       \n     \u001b[90m 91 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m         expect(thread3)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-emerald-50'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m\u001b[0m\n\n      at toHaveClass (__tests__/integration/thread-navigation.test.tsx:92:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should update URL when thread is selected\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m         expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 139 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:136:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should preserve URL state across navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m       \u001b[36mawait\u001b[39m user\u001b[33m.\u001b[39mclick(thread2)\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 171 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:168:31)\n\n  \u25cf Thread Navigation Integration Tests \u203a Multi-Session Synchronization \u203a should handle concurrent thread modifications\n\n    Unable to find an element with the text: /bg-emerald-50/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n          \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNew Chat\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<circle\u001b[39m\n                  \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mAI Optimization Discussion\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m15\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mPerformance Analysis\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m8\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mData Processing Pipeline\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m32\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<p\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m conversation\u001b[0m\n              \u001b[0ms\u001b[0m\n            \u001b[36m</p>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m       \n     \u001b[90m 323 |\u001b[39m       \u001b[90m// Should resolve to a consistent state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         \u001b[36mconst\u001b[39m activeThreads \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByText(\u001b[35m/bg-emerald-50/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m         expect(activeThreads\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-navigation.test.tsx:324:20)\n\nFAIL Integration Tests __tests__/integration/analytics-realtime.test.tsx\n  Real-time Metrics Integration\n    \u00d7 should aggregate metrics in real-time (18 ms)\n    \u00d7 should handle metric streaming (3 ms)\n    \u221a should calculate rolling averages (21 ms)\n    \u221a should detect anomalies in metrics (15 ms)\n    \u00d7 should handle real-time dashboard updates (5 ms)\n    \u00d7 should implement metric alerting thresholds (5 ms)\n    \u221a should handle metric data buffering for offline scenarios (596 ms)\n    \u221a should implement metric data compression for streaming (48 ms)\n\n  \u25cf Real-time Metrics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m         simulateWebSocketMessage(handleMessage\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metrics_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 45 |\u001b[39m           metrics\u001b[33m:\u001b[39m { requests_per_second\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m }\n     \u001b[90m 46 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:43:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:58:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle metric streaming\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m         simulateWebSocketMessage(handleStreamUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_stream'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 82 |\u001b[39m           metric\u001b[33m:\u001b[39m { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m value\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m }\n     \u001b[90m 83 |\u001b[39m         }\u001b[33m,\u001b[39m \u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:80:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:98:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle real-time dashboard updates\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 213 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 215 |\u001b[39m         simulateWebSocketMessage(handleDashboardUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 216 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'dashboard_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m           dashboard\u001b[33m:\u001b[39m {\n     \u001b[90m 218 |\u001b[39m             active_users\u001b[33m:\u001b[39m \u001b[35m1250\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:215:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:237:35)\n\n  \u25cf Real-time Metrics Integration \u203a should implement metric alerting thresholds\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 258 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 260 |\u001b[39m         simulateWebSocketMessage(handleAlert\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 261 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_alert'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 262 |\u001b[39m           alert\u001b[33m:\u001b[39m {\n     \u001b[90m 263 |\u001b[39m             metric\u001b[33m:\u001b[39m \u001b[32m'error_rate'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:260:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:278:35)\n\nFAIL Integration Tests __tests__/integration/first-load-bundle.test.tsx\n  First Load Bundle Testing - Agent 1\n    Bundle Loading Performance\n      \u00d7 loads bundle under 3G conditions within 5 seconds (1 ms)\n      \u00d7 loads bundle under WiFi conditions within 2 seconds (1 ms)\n      \u00d7 shows loading state during bundle fetch (1 ms)\n      \u00d7 validates bundle size is under 1MB gzipped (1 ms)\n    Hydration Verification\n      \u00d7 completes hydration without mismatches (1 ms)\n      \u00d7 renders consistent markup server/client (1 ms)\n      \u00d7 preserves state during hydration\n    Authentication State Initialization\n      \u00d7 initializes with no authenticated content flash (1 ms)\n      \u00d7 shows appropriate unauthenticated state (1 ms)\n      \u00d7 handles authentication check gracefully (1 ms)\n    Storage Initialization\n      \u00d7 initializes localStorage without errors (1 ms)\n      \u00d7 handles cookies initialization (1 ms)\n      \u00d7 recovers from storage quota exceeded\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\nFAIL Integration Tests __tests__/services/webSocketService.test.ts\n  webSocketService\n    Connection Management\n      \u221a should establish WebSocket connection (108 ms)\n      \u00d7 should handle connection success (6 ms)\n      \u00d7 should handle connection errors (9 ms)\n      \u00d7 should disconnect WebSocket properly (4 ms)\n      \u221a should handle multiple connection attempts gracefully (4 ms)\n      \u00d7 should handle connection state transitions (8 ms)\n    Message Sending and Receiving\n      \u221a should send messages when connected (4 ms)\n      \u221a should queue messages when disconnected (6 ms)\n      \u00d7 should send queued messages after reconnection (5 ms)\n      \u221a should handle message receiving with proper parsing (7 ms)\n      \u221a should handle malformed message data gracefully (7 ms)\n      \u00d7 should handle binary message data (11 ms)\n    Reconnection Logic\n      \u00d7 should attempt reconnection when onReconnect is provided (6 ms)\n      \u00d7 should not attempt reconnection without onReconnect (4 ms)\n      \u00d7 should cancel reconnection on explicit disconnect (4 ms)\n    Heartbeat Mechanism\n      \u00d7 should send heartbeat messages at configured interval (9 ms)\n      \u221a should stop heartbeat on disconnect (4 ms)\n    Rate Limiting\n      \u221a should enforce rate limits when configured (4 ms)\n      \u00d7 should reset rate limit window over time (4 ms)\n    Error Handling\n      \u00d7 should handle WebSocket errors gracefully (3 ms)\n      \u00d7 should handle connection failure gracefully (22 ms)\n      \u00d7 should handle message sending errors (37 ms)\n    State Management\n      \u00d7 should track connection state accurately (7 ms)\n      \u00d7 should track reconnecting state (5 ms)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m\n     \u001b[90m 92 |\u001b[39m     \u001b[36mfunction\u001b[39m expectAuthTokenSent() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m })\n     \u001b[90m 95 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m     }\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:93:34)\n      at expectAuthTokenSent (__tests__/services/webSocketService.test.ts:89:7)\n      at Object.expectSuccessfulConnection (__tests__/services/webSocketService.test.ts:67:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: Connection failed]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755878491931,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m     \u001b[36mfunction\u001b[39m expectErrorHandling(statusHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m errorHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m error\u001b[33m:\u001b[39m \u001b[33mError\u001b[39m) {\n     \u001b[90m 123 |\u001b[39m       expect(statusHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       expect(errorHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     }\n     \u001b[90m 126 |\u001b[39m\n     \u001b[90m 127 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:124:28)\n      at Object.expectErrorHandling (__tests__/services/webSocketService.test.ts:102:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39mclose)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m\n     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/services/webSocketService.test.ts:133:35)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:170:28)\n      at Object.simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:148:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m       \u001b[90m// Should send auth token and queued messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message1))\u001b[33m;\u001b[39m\n     \u001b[90m 245 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message2))\u001b[33m;\u001b[39m\n     \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:243:34)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: [0, 0, 0, 0, 0, 0, 0, 0]\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 302 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monmessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(messageEvent)\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 304 |\u001b[39m       expect(onBinaryMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(binaryData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 305 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 306 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:304:31)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should attempt reconnection when onReconnect is provided\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:317:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should not attempt reconnection without onReconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:331:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should cancel reconnection on explicit disconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:348:28)\n\n  \u25cf webSocketService \u203a Heartbeat Mechanism \u203a should send heartbeat messages at configured interval\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n    Received: \"{\\\"type\\\":\\\"ping\\\",\\\"timestamp\\\":1755878522099}\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:372:34)\n\n  \u25cf webSocketService \u203a Rate Limiting \u203a should reset rate limit window over time\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msendMessage({ type\u001b[33m:\u001b[39m \u001b[32m'test2'\u001b[39m\u001b[33m,\u001b[39m payload\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \n     \u001b[90m 433 |\u001b[39m       \u001b[90m// Advance time past window\u001b[39m\n     \u001b[90m 434 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m1100\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/services/webSocketService.test.ts:431:34)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle WebSocket errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: WebSocket error]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755878492121,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monerror\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(error \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       expect(onStatusChange)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:454:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle connection failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: Any<Error>\n    Received: {\"code\": 1000, \"message\": \"Failed to create WebSocket\", \"recoverable\": true, \"timestamp\": 1755878492125, \"type\": \"connection\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 466 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m\u001b[33m,\u001b[39m { onError })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 468 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:468:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle message sending errors\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Send failed\"\n\n        \u001b[0m \u001b[90m 476 |\u001b[39m       \u001b[90m// Make send throw an error\u001b[39m\n         \u001b[90m 477 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 479 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 480 |\u001b[39m       \n         \u001b[90m 481 |\u001b[39m       \u001b[90m// Should not throw when sending message\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:478:15)\n      at WebSocketService.send (services/webSocketService.ts:886:15)\n      at WebSocketService.send [as sendMessage] (services/webSocketService.ts:894:10)\n      at sendMessage (__tests__/services/webSocketService.test.ts:483:26)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n\n  \u25cf webSocketService \u203a State Management \u203a should track connection state accurately\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:499:28)\n\n  \u25cf webSocketService \u203a State Management \u203a should track reconnecting state\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:511:28)\n\nFAIL Integration Tests __tests__/integration/role-based-access.test.tsx\n  Role-Based Access Control Integration\n    Tier-Based Feature Access\n      \u221a should restrict free users to basic features (83 ms)\n      \u221a should grant early users advanced features (62 ms)\n      \u221a should grant mid users analytics access (43 ms)\n      \u221a should grant enterprise users full access (18 ms)\n    Protected Route Navigation\n      \u00d7 should redirect unauthorized users from admin routes (53 ms)\n      \u00d7 should allow enterprise users to access admin routes (3 ms)\n      \u221a should handle route permissions dynamically (56 ms)\n    Feature Limitations\n      \u221a should enforce thread creation limits for free users (700 ms)\n      \u221a should enforce message limits per thread (139 ms)\n      \u221a should remove limits for enterprise users (232 ms)\n    Permission Validation\n      \u221a should validate permissions before feature access (4 ms)\n      \u221a should handle missing permissions gracefully (6 ms)\n      \u221a should support hierarchical permissions (5 ms)\n    Upgrade Flow Integration\n      \u221a should trigger upgrade flow for premium features (4 ms)\n      \u221a should handle upgrade completion (13 ms)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should redirect unauthorized users from admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 151 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupUnauthorizedUserRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 153 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m attemptAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \n     \u001b[90m 156 |\u001b[39m       expectAccessDenied()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:153:13)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should allow enterprise users to access admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupAuthorizedAdminRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m verifyAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m       expectAdminInterfaceRendered()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:163:13)\n\nFAIL Integration Tests __tests__/auth/logout-state-cleanup-complete.test.tsx\n  Logout State Cleanup Complete Tests\n    Token Removal Verification\n      \u00d7 should remove JWT token from localStorage (1 ms)\n      \u00d7 should remove auth token from localStorage\n      \u00d7 should clear refresh token completely (1 ms)\n      \u00d7 should remove session tokens from sessionStorage (2 ms)\n    Memory State Cleanup\n      \u00d7 should clear user object from memory (1 ms)\n      \u00d7 should reset authentication status (1 ms)\n      \u00d7 should clear token from memory (1 ms)\n      \u00d7 should reset all auth store state (1 ms)\n    LocalStorage Complete Cleanup\n      \u00d7 should remove user preferences from storage (1 ms)\n      \u00d7 should clear cached user data\n      \u00d7 should remove remember me settings\n      \u00d7 should preserve non-auth localStorage items\n    Memory Leak Prevention\n      \u00d7 should clear all user-specific data from memory (1 ms)\n      \u00d7 should reset error states to prevent leaks (1 ms)\n      \u00d7 should reset loading states completely (1 ms)\n      \u00d7 should clear cached API responses (1 ms)\n    Performance and Timing\n      \u00d7 should complete cleanup within 100ms (1 ms)\n      \u00d7 should not block UI during cleanup (1 ms)\n      \u00d7 should handle rapid logout requests efficiently (1 ms)\n      \u00d7 should maintain consistent cleanup time under load (1 ms)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should clear refresh token completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove session tokens from sessionStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear user object from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear token from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset all auth store state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove user preferences from storage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should clear cached user data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove remember me settings\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should preserve non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear all user-specific data from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset error states to prevent leaks\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset loading states completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear cached API responses\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should complete cleanup within 100ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should not block UI during cleanup\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should handle rapid logout requests efficiently\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should maintain consistent cleanup time under load\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\nFAIL Integration Tests __tests__/integration/api-calls-basic.test.tsx\n  API Calls - GET Requests\n    \u221a fetches thread list successfully (33 ms)\n    \u221a fetches single thread with auth token (5 ms)\n    \u221a handles GET request without auth token (2 ms)\n    \u221a constructs correct API URL for GET requests\n  API Calls - POST Requests\n    \u221a creates new thread with POST request (3 ms)\n    \u221a creates message with POST and validates payload (4 ms)\n    \u00d7 includes correct headers in POST requests (7 ms)\n    \u221a serializes request body correctly (3 ms)\n  API Calls - PUT Requests\n    \u221a updates thread with PUT request (5 ms)\n    \u00d7 handles PUT request with complex data (6 ms)\n  API Calls - DELETE Requests\n    \u221a deletes thread with DELETE request (4 ms)\n    \u00d7 includes auth header in DELETE requests (4 ms)\n\n  \u25cf API Calls - POST Requests \u203a includes correct headers in POST requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 204 |\u001b[39m     \u001b[36mawait\u001b[39m apiClient\u001b[33m.\u001b[39mpost(\u001b[32m'create_thread'\u001b[39m\u001b[33m,\u001b[39m { title\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m }\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 206 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 207 |\u001b[39m     expect(capturedHeaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/json'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:206:46)\n\n  \u25cf API Calls - PUT Requests \u203a handles PUT request with complex data\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"metadata\": {\"priority\": 1, \"settings\": {\"auto_save\": true}, \"tags\": [\"test\", \"integration\"]}, \"title\": \"Complex Update\"}\n    Received: null\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m     expect(capturedBody)\u001b[33m.\u001b[39mtoEqual(complexData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/integration/api-calls-basic.test.tsx:283:26)\n\n  \u25cf API Calls - DELETE Requests \u203a includes auth header in DELETE requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer delete-token\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 315 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 316 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 317 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer delete-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 318 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:317:46)\n\nFAIL Integration Tests __tests__/auth/logout-security.test.tsx\n  Logout Security and Multi-Tab Tests\n    All Auth Tokens Removed\n      \u00d7 should remove JWT token from localStorage (1 ms)\n      \u00d7 should remove auth token from localStorage (1 ms)\n      \u00d7 should remove refresh token from localStorage\n      \u00d7 should remove session ID from localStorage\n    LocalStorage Cleared\n      \u00d7 should remove user preferences from localStorage\n      \u00d7 should remove cached user data from localStorage\n      \u00d7 should remove remember me flag from localStorage\n      \u00d7 should not affect non-auth localStorage items\n    Cookies Deleted\n      \u00d7 should remove auth cookies\n      \u00d7 should remove session cookies (2 ms)\n      \u00d7 should remove remember me cookies\n      \u00d7 should preserve non-auth cookies\n    Browser Back Prevention\n      \u00d7 should replace history state after logout\n      \u00d7 should prevent navigation to authenticated pages\n      \u00d7 should clear browser navigation state (1 ms)\n      \u00d7 should ensure no cached authenticated state (1 ms)\n    Security Validation\n      \u00d7 should not leave sensitive data in memory (1 ms)\n      \u00d7 should clear all authentication artifacts (1 ms)\n      \u00d7 should ensure complete session termination (1 ms)\n      \u00d7 should clear permissions and role data (1 ms)\n    Clean Slate for Next Login\n      \u00d7 should reset all error states (1 ms)\n      \u00d7 should reset loading states (1 ms)\n      \u00d7 should clear any cached authentication state (1 ms)\n      \u00d7 should ensure fresh authentication flow on next login (1 ms)\n    No Authenticated Content Visible\n      \u00d7 should set authenticated status to false (1 ms)\n      \u00d7 should clear user identity information (1 ms)\n      \u00d7 should clear role and permissions (1 ms)\n      \u00d7 should ensure no sensitive data remains in DOM (2 ms)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove refresh token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove session ID from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove user preferences from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove cached user data from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove remember me flag from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should not affect non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove session cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove remember me cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should preserve non-auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should replace history state after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should prevent navigation to authenticated pages\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should clear browser navigation state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should ensure no cached authenticated state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should not leave sensitive data in memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear all authentication artifacts\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should ensure complete session termination\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear permissions and role data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset all error states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset loading states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should clear any cached authentication state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should ensure fresh authentication flow on next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should set authenticated status to false\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear user identity information\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear role and permissions\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should ensure no sensitive data remains in DOM\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-auth.test.tsx\n  WebSocket and Authentication Integration\n    WebSocket Provider Integration\n      \u221a should integrate WebSocket with authentication state (215 ms)\n      \u00d7 should reconnect WebSocket when authentication changes (8 ms)\n    Authentication Flow Integration\n      \u00d7 should complete OAuth flow and establish WebSocket (4 ms)\n      \u00d7 should persist authentication across page refreshes (2 ms)\n\n  \u25cf WebSocket and Authentication Integration \u203a WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"new-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 59 |\u001b[39m       \n     \u001b[90m 60 |\u001b[39m       \u001b[36mawait\u001b[39m flushPromises()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 61 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'new-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 62 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical/websocket-auth.test.tsx:61:45)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:73:7)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:84:7)\n\nFAIL Integration Tests __tests__/integration/thread-creation-advanced.test.tsx\n  Thread Creation Advanced Scenarios\n    Input Field Auto-Focus\n      \u00d7 focuses message input after thread creation (1 ms)\n      \u00d7 positions cursor at start of input (34 ms)\n      \u00d7 clears any existing draft content\n      \u00d7 maintains focus after thread switch (1 ms)\n    Duplicate Prevention\n      \u00d7 prevents duplicate threads on double-click\n      \u00d7 prevents rapid clicking during API call\n      \u00d7 uses unique thread IDs for each creation (1 ms)\n      \u00d7 handles race conditions correctly (1 ms)\n    Error Recovery and Retry\n      \u00d7 allows retry after network failure (4 ms)\n      \u00d7 handles timeout errors gracefully (1 ms)\n      \u00d7 shows appropriate error messages\n      \u00d7 preserves user context after error (1 ms)\n    Performance Edge Cases\n      \u00d7 handles creation during high CPU load (1 ms)\n      \u00d7 works with slow network conditions\n      \u00d7 handles memory constraints gracefully\n    Mobile and Touch Specific Tests\n      \u00d7 prevents accidental double-tap creation (1 ms)\n      \u00d7 handles touch gestures correctly (1 ms)\n      \u00d7 works with virtual keyboard open (1 ms)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a focuses message input after thread creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a positions cursor at start of input\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a clears any existing draft content\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a maintains focus after thread switch\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents duplicate threads on double-click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents rapid clicking during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a uses unique thread IDs for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a handles race conditions correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a allows retry after network failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a handles timeout errors gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a shows appropriate error messages\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a preserves user context after error\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles creation during high CPU load\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a works with slow network conditions\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles memory constraints gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a prevents accidental double-tap creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a handles touch gestures correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a works with virtual keyboard open\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\nFAIL Integration Tests __tests__/integration/websocket-performance.test.tsx\n  WebSocket Performance and Advanced Tests\n    Performance Monitoring\n      \u00d7 should measure real connection performance with timing (1 ms)\n      \u00d7 should track connection stability over time (1 ms)\n      \u00d7 should measure message throughput performance\n    Connection Pooling\n      \u00d7 should handle real concurrent connections with load testing (39 ms)\n      \u00d7 should test real connection pool management (1 ms)\n      \u00d7 should handle pool failover scenarios (1 ms)\n    Broadcasting\n      \u00d7 should test real multi-connection broadcasting (1 ms)\n      \u00d7 should handle selective broadcasting\n    Benchmarking\n      \u00d7 should benchmark real vs mock WebSocket test performance (1 ms)\n      \u00d7 should benchmark connection establishment times\n      \u00d7 should benchmark message processing latency (1 ms)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\nFAIL Integration Tests __tests__/services/demoService.test.ts\n  DemoService\n    Authentication Handling\n      \u00d7 should include auth header when token exists (46 ms)\n      \u00d7 should handle requests without auth token (2 ms)\n      \u00d7 should redirect to login on 401 response (27 ms)\n      \u00d7 should not redirect on other error codes (9 ms)\n    Chat Message Handling\n      \u221a should send chat message successfully (1 ms)\n      \u221a should handle chat message with minimal data (2 ms)\n      \u221a should handle chat message network errors (18 ms)\n    ROI Calculation - Business Critical\n      \u221a should calculate ROI accurately for enterprise prospects (2 ms)\n      \u221a should validate ROI calculation input bounds (1 ms)\n      \u00d7 should handle ROI calculation server errors gracefully (8 ms)\n      \u00d7 should handle malformed ROI input data (9 ms)\n    Industry Templates\n      \u221a should fetch industry templates successfully (1 ms)\n      \u221a should handle special characters in industry names (1 ms)\n      \u221a should handle empty industry templates response\n    Synthetic Metrics Generation\n      \u221a should generate synthetic metrics with default parameters (1 ms)\n      \u221a should generate synthetic metrics with custom parameters (1 ms)\n      \u221a should validate performance improvement metrics (1 ms)\n    Report Export - Enterprise Feature\n      \u221a should export report successfully (1 ms)\n      \u221a should handle different export formats (1 ms)\n      \u00d7 should handle export failures gracefully (9 ms)\n    Session Management\n      \u221a should get session status successfully (2 ms)\n      \u221a should submit feedback successfully (2 ms)\n      \u00d7 should handle session status for non-existent session (10 ms)\n    Analytics Summary\n      \u221a should get analytics summary with default period (2 ms)\n      \u221a should get analytics summary with custom period (1 ms)\n      \u221a should validate analytics data format (3 ms)\n    Error Handling and Edge Cases\n      \u221a should handle network timeouts gracefully (9 ms)\n      \u221a should handle malformed JSON responses (1 ms)\n      \u221a should handle concurrent requests correctly (1 ms)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should include auth header when token exists\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectContaining {\"Authorization\": \"Bearer valid-token\"}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 132 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 133 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:130:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should handle requests without auth token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectNotContaining {\"Authorization\": Any<String>}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 150 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 151 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:148:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should redirect to login on 401 response\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Unauthorized\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:164:66)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should not redirect on other error codes\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to send demo chat message: Server Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:175:66)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle ROI calculation server errors gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Calculation Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:270:63)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle malformed ROI input data\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Bad Request\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:282:70)\n\n  \u25cf DemoService \u203a Report Export - Enterprise Feature \u203a should handle export failures gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to export report: Service Unavailable\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:424:69)\n\n  \u25cf DemoService \u203a Session Management \u203a should handle session status for non-existent session\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to get session status: Session Not Found\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:466:77)\n\nFAIL Integration Tests __tests__/integration/logout-flow-core.test.tsx\n  Logout Flow Core Tests\n    Logout Button Click\n      \u00d7 should trigger logout when button is clicked (1 ms)\n      \u00d7 should call auth store logout\n      \u00d7 should redirect to login page after logout\n    API Logout Call\n      \u00d7 should call auth service logout API\n      \u00d7 should complete logout within 500ms\n      \u00d7 should handle logout errors gracefully\n    Development Mode Logout\n      \u00d7 should set dev logout flag in development mode\n      \u00d7 should still perform standard logout in dev mode (10 ms)\n    Error Handling During Logout\n      \u00d7 should handle auth service errors during logout (1 ms)\n      \u00d7 should complete logout even with partial failures\n      \u00d7 should use replace instead of push for security\n    Logout Flow Security\n      \u00d7 should ensure no sensitive data remains after logout (1 ms)\n      \u00d7 should reset authentication status (1 ms)\n      \u00d7 should ensure clean state for next login\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should trigger logout when button is clicked\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should call auth store logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should redirect to login page after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should call auth service logout API\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should complete logout within 500ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should handle logout errors gracefully\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should set dev logout flag in development mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should still perform standard logout in dev mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should handle auth service errors during logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should complete logout even with partial failures\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should use replace instead of push for security\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure no sensitive data remains after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure clean state for next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\nFAIL Integration Tests __tests__/integration/logout-websocket.test.tsx\n  Logout WebSocket Disconnection Tests\n    WebSocket Disconnection\n      \u00d7 should disconnect WebSocket on logout (28 ms)\n      \u00d7 should verify WebSocket is disconnected (1 ms)\n      \u00d7 should clear WebSocket message queue\n      \u00d7 should handle WebSocket disconnection errors (1 ms)\n    WebSocket State Cleanup\n      \u00d7 should ensure WebSocket connection is terminated (1 ms)\n      \u00d7 should prevent new WebSocket messages after logout (1 ms)\n      \u00d7 should clear any pending WebSocket operations (1 ms)\n      \u00d7 should ensure clean WebSocket state for next session\n    WebSocket Timing Requirements\n      \u00d7 should complete WebSocket disconnect within 25ms\n      \u00d7 should not block logout process if WebSocket fails\n      \u00d7 should handle WebSocket timeout gracefully\n      \u00d7 should complete logout even if WebSocket is slow\n    WebSocket Error Handling\n      \u00d7 should handle WebSocket disconnect errors gracefully (1 ms)\n      \u00d7 should handle WebSocket state check errors (1 ms)\n      \u00d7 should continue logout process despite WebSocket errors (1 ms)\n      \u00d7 should log WebSocket errors without blocking logout (1 ms)\n    WebSocket Security Cleanup\n      \u00d7 should ensure no WebSocket connections remain active (1 ms)\n      \u00d7 should prevent unauthorized WebSocket access after logout (1 ms)\n      \u00d7 should clear any WebSocket authentication tokens (1 ms)\n      \u00d7 should ensure complete WebSocket session termination (1 ms)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should disconnect WebSocket on logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should verify WebSocket is disconnected\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should clear WebSocket message queue\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should handle WebSocket disconnection errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure WebSocket connection is terminated\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should prevent new WebSocket messages after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should clear any pending WebSocket operations\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure clean WebSocket state for next session\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete WebSocket disconnect within 25ms\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should not block logout process if WebSocket fails\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should handle WebSocket timeout gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete logout even if WebSocket is slow\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket disconnect errors gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket state check errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should continue logout process despite WebSocket errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should log WebSocket errors without blocking logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure no WebSocket connections remain active\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should prevent unauthorized WebSocket access after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should clear any WebSocket authentication tokens\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure complete WebSocket session termination\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\nFAIL Integration Tests __tests__/integration/thread-creation.test.tsx\n  Thread Creation Core Integration\n    API Call to Create Thread\n      \u00d7 successfully creates thread with valid API response (1 ms)\n      \u00d7 handles API failure gracefully (1 ms)\n      \u00d7 creates thread with < 300ms response time requirement (1 ms)\n      \u00d7 includes authentication token in API request (1 ms)\n      \u00d7 generates unique thread ID for each creation\n    Optimistic UI Updates\n      \u00d7 shows thread immediately in sidebar\n      \u00d7 shows creating state during API call (1 ms)\n      \u00d7 reverts optimistic update on API failure (1 ms)\n    Sidebar and Navigation Updates\n      \u00d7 adds new thread to sidebar list immediately\n      \u00d7 highlights new thread as active\n      \u00d7 navigates to new thread URL immediately (1 ms)\n    Error Handling and Analytics\n      \u00d7 shows error message on API failure\n      \u00d7 fires thread_creation_started event on click\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a successfully creates thread with valid API response\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a handles API failure gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a creates thread with < 300ms response time requirement\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a includes authentication token in API request\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a generates unique thread ID for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows thread immediately in sidebar\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows creating state during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a reverts optimistic update on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a adds new thread to sidebar list immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a highlights new thread as active\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a navigates to new thread URL immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a shows error message on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a fires thread_creation_started event on click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-token-refresh-working.test.tsx\n  WebSocket Token Refresh Implementation (Working)\n    JWT Token Parsing\n      \u00d7 should correctly parse JWT token expiry (17 ms)\n      \u00d7 should detect expiring tokens and setup refresh timer (9 ms)\n    Token Refresh Flow\n      \u00d7 should queue messages during token refresh (16 ms)\n      \u00d7 should handle token refresh on authentication failure (55 ms)\n    Token Synchronization\n      \u00d7 should update WebSocket when auth context token changes (62 ms)\n    Message Handling During Refresh\n      \u00d7 should process pending messages after successful refresh (51 ms)\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should correctly parse JWT token expiry\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 158 |\u001b[39m       \n     \u001b[90m 159 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 160 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 161 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Verify WebSocket connection was attempted with the token\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:160:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should detect expiring tokens and setup refresh timer\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 184 |\u001b[39m       \n     \u001b[90m 185 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 186 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 187 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 188 |\u001b[39m\n     \u001b[90m 189 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:186:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should queue messages during token refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m       \n     \u001b[90m 228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:229:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should handle token refresh on authentication failure\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \n     \u001b[90m 271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[90m// Simulate connection opening first\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:272:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Synchronization \u203a should update WebSocket when auth context token changes\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 320 |\u001b[39m       \n     \u001b[90m 321 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 322 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[90m// Update the token in auth context\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:322:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Message Handling During Refresh \u203a should process pending messages after successful refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       \n     \u001b[90m 362 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:363:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL Integration Tests __tests__/auth/auth-token.test.ts\n  Auth Token Management\n    getToken\n      \u221a should retrieve token from localStorage (2 ms)\n      \u00d7 should return null when no token exists (41 ms)\n      \u00d7 should return empty string as null (4 ms)\n      \u00d7 should handle localStorage errors gracefully (2 ms)\n    getAuthHeaders\n      \u221a should return auth headers with token (2 ms)\n      \u00d7 should return empty object when no token (5 ms)\n      \u00d7 should return empty object for empty token (2 ms)\n      \u00d7 should handle long tokens (2 ms)\n      \u00d7 should handle special characters in token (1 ms)\n    removeToken\n      \u00d7 should remove token from localStorage (4 ms)\n      \u00d7 should handle removing non-existent token (9 ms)\n      \u00d7 should handle localStorage errors on removal (1 ms)\n    Token Operations Integration\n      \u00d7 should handle rapid token operations (1 ms)\n      \u00d7 should handle token lifecycle (1 ms)\n      \u221a should handle concurrent token access\n    useAuth Hook\n      \u00d7 should return auth context when used within provider (1 ms)\n      \u00d7 should throw error when used outside provider (1 ms)\n      \u00d7 should handle null context (1 ms)\n      \u221a should return context with all required properties (5 ms)\n      \u221a should handle context with user data (1 ms)\n      \u00d7 should handle loading state (2 ms)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return null when no token exists\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[90m// Accept the current behavior - if localStorage is mocked to return null, that's what we should get\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m\n     \u001b[90m 70 |\u001b[39m     it(\u001b[32m'should return empty string as null'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/auth/auth-token.test.ts:67:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return empty string as null\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"\"\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \n     \u001b[90m 73 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m\n     \u001b[90m 77 |\u001b[39m     it(\u001b[32m'should handle localStorage errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:74:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should handle localStorage errors gracefully\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 80 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 82 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 83 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:82:44)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object when no token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:102:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object for empty token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:111:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle long tokens\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:121:24)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle special characters in token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer token.with-special_chars123!@#\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:131:24)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should remove token from localStorage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m     it(\u001b[32m'should handle removing non-existent token'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:139:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle removing non-existent token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m     it(\u001b[32m'should handle localStorage errors on removal'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:147:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle localStorage errors on removal\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 153 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 155 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mremoveToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:155:47)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle rapid token operations\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 3\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m\n     \u001b[90m 172 |\u001b[39m   \u001b[36mconst\u001b[39m verifyRapidTokenResults \u001b[33m=\u001b[39m (token1\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m token2\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m     expect(token1)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     expect(token2)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 176 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token.test.ts:173:49)\n      at Object.verifyRapidTokenResults (__tests__/auth/auth-token.test.ts:240:7)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle token lifecycle\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 178 |\u001b[39m   \u001b[36mconst\u001b[39m verifyInitialNoTokenState \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 179 |\u001b[39m     testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mgetItem\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 180 |\u001b[39m     expect(authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 181 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m   \u001b[36mconst\u001b[39m setTokenAndVerify \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toBeNull (__tests__/auth/auth-token.test.ts:180:36)\n      at Object.verifyInitialNoTokenState (__tests__/auth/auth-token.test.ts:244:7)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should return auth context when used within provider\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"$$typeof\": Symbol(react.context), \"Consumer\": {\"$$typeof\": Symbol(react.consumer), \"_context\": [Circular]}, \"Provider\": [Circular], \"_currentRenderer\": null, \"_currentRenderer2\": null, \"_currentValue\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_currentValue2\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_threadCount\": 0}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       expect(mockUseContext)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mAuthContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:272:30)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should throw error when used outside provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should handle null context'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:280:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle null context\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m\n     \u001b[90m 290 |\u001b[39m     it(\u001b[32m'should return context with all required properties'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:287:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle loading state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result\u001b[33m.\u001b[39mloading)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:311:30)\n\nFAIL Integration Tests __tests__/integration/websocket-lifecycle.test.tsx\n  WebSocket Connection Lifecycle Tests\n    Connection Establishment\n      \u00d7 should handle complete connection lifecycle with real timing (1 ms)\n      \u00d7 should track real connection state transitions with history (1 ms)\n      \u00d7 should measure real connection performance (1 ms)\n    Error Handling\n      \u00d7 should handle real connection errors with proper state transitions\n      \u00d7 should handle network disconnections gracefully\n    Reconnection Scenarios\n      \u00d7 should handle real reconnection with timing simulation\n      \u00d7 should test real WebSocket reconnection strategies (1 ms)\n      \u00d7 should handle multiple reconnection attempts (1 ms)\n    Performance Measurement\n      \u00d7 should measure real connection performance with timing (1 ms)\n      \u00d7 should track connection stability metrics\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\nFAIL Integration Tests __tests__/auth/auth-security.test.ts\n  Auth Security & Error Handling\n    Security Tests\n      \u221a should not expose sensitive data in headers (3 ms)\n      \u00d7 should sanitize email input in dev login (5 ms)\n      \u00d7 should clear sensitive data on logout (1 ms)\n      \u00d7 should handle token with potential XSS content (6 ms)\n      \u00d7 should handle SQL injection attempts in token (2 ms)\n      \u221a should not leak sensitive data in error messages (1 ms)\n    API Error Handling\n      \u00d7 should fallback to offline config on 401 unauthorized response (59 ms)\n      \u00d7 should fallback to offline config on 403 forbidden response (3 ms)\n      \u00d7 should fallback to offline config on 404 not found response (2 ms)\n      \u00d7 should fallback to offline config on 500 server error (2 ms)\n      \u00d7 should fallback to offline config on timeout errors (4 ms)\n      \u00d7 should fallback to offline config on rate limiting (429) (4 ms)\n    Edge Cases\n      \u00d7 should handle concurrent login/logout operations (2 ms)\n      \u221a should handle malformed config objects (1 ms)\n      \u221a should handle undefined config (1 ms)\n      \u00d7 should handle network instability with retry and fallback (2 ms)\n      \u00d7 should handle empty response bodies (2 ms)\n      \u00d7 should fallback to offline config on response with wrong content type (2 ms)\n      \u221a should handle browser storage limitations (2 ms)\n      \u00d7 should handle localStorage unavailable\n    Performance & Reliability\n      \u00d7 should handle rapid successive calls (2 ms)\n      \u00d7 should handle memory pressure scenarios (10 ms)\n      \u221a should handle cleanup on page unload (1 ms)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should sanitize email input in dev login\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"http://localhost:8081/auth/dev/login\", ObjectContaining {\"body\": \"{\\\"email\\\":\\\"dev@example.com\\\"}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mhandleDevLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m         mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mdev_login\u001b[33m,\u001b[39m\n     \u001b[90m 76 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 77 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-security.test.ts:74:33)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should clear sensitive data on logout\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m validateSecureLogout(localStorageMock\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m   expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 185 |\u001b[39m }\n     \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-test-utils.ts:184:39)\n      at Object.<anonymous> (__tests__/auth/auth-security.test.ts:90:27)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle token with potential XSS content\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer <script>alert(\\\"xss\\\")</script>\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${xssToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m       expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(headers))\u001b[33m.\u001b[39mtoEqual([\u001b[32m'Authorization'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       \n     \u001b[90m 104 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:101:37)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle SQL injection attempts in token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer '; DROP TABLE users; --\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${sqlToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \n     \u001b[90m 118 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 119 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:116:37)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 401 unauthorized response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 145 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 146 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:143:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 403 forbidden response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 163 |\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 165 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 166 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 168 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:165:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 404 not found response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 185 |\u001b[39m\n     \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 188 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 189 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 190 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:187:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 500 server error\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m\n     \u001b[90m 208 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 211 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 212 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:209:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on timeout errors\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 233 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 234 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:231:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on rate limiting (429)\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 255 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 256 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:253:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocationUtils\u001b[33m.\u001b[39mgetMockHref())\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m     it(\u001b[32m'should handle malformed config objects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-security.test.ts:283:51)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle network instability with retry and fallback\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[90m// Auth service retries then falls back to offline config\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 313 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 314 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:311:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle empty response bodies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 331 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 332 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 333 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 334 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:331:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should fallback to offline config on response with wrong content type\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 351 |\u001b[39m\n     \u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 354 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 355 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 356 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:353:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle localStorage unavailable\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage is not available\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 383 |\u001b[39m\n     \u001b[90m 384 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 385 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage is not available'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 386 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 387 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-security.test.ts:385:10)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle rapid successive calls\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m       \n     \u001b[90m 399 |\u001b[39m       results\u001b[33m.\u001b[39mforEach(result \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m         expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m           \u001b[33m...\u001b[39mmockAuthConfig\u001b[33m,\u001b[39m\n     \u001b[90m 402 |\u001b[39m           google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 403 |\u001b[39m           authorized_redirect_uris\u001b[33m:\u001b[39m [\u001b[32m'http://localhost:3000/auth/callback'\u001b[39m]\u001b[0m\n\n      at toEqual (__tests__/auth/auth-security.test.ts:400:24)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/auth/auth-security.test.ts:399:15)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle memory pressure scenarios\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 417 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${largeToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \n     \u001b[90m 420 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 421 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:418:37)\n\nFAIL Integration Tests __tests__/auth/auth-components-states.test.tsx\n  Auth Components States\n    Loading State\n      \u221a should render loading state when loading is true (237 ms)\n      \u221a should not be clickable when loading (8 ms)\n    Logged Out State\n      \u00d7 should render login button when user is not authenticated (9 ms)\n      \u221a should call login function when login button is clicked (9 ms)\n      \u221a should render correctly with null auth config (4 ms)\n    Logged In State - Production Mode\n      \u221a should display user name when authenticated (5 ms)\n      \u221a should display email when full_name is not available (3 ms)\n      \u221a should render logout button in production mode (3 ms)\n      \u221a should call logout function when logout button is clicked (3 ms)\n      \u221a should not show DEV MODE badge in production (3 ms)\n    Logged In State - Development Mode\n      \u00d7 should show DEV MODE badge in development mode (5 ms)\n      \u221a should render both logout and OAuth login buttons in dev mode (104 ms)\n      \u00d7 should style logout button as outline variant in dev mode (5 ms)\n      \u00d7 should style OAuth login button as default variant in dev mode (5 ms)\n      \u221a should call logout when dev logout button is clicked (6 ms)\n      \u221a should call login when OAuth login button is clicked in dev mode (3 ms)\n    State Transitions\n      \u221a should handle state change from loading to logged out (6 ms)\n      \u221a should handle state change from logged out to logged in (8 ms)\n      \u221a should handle development mode toggle (6 ms)\n\n  \u25cf Auth Components States \u203a Logged Out State \u203a should render login button when user is not authenticated\n\n    expect(element).toHaveAttribute(\"data-size\", \"lg\") // element.getAttribute(\"data-size\") === \"lg\"\n\n    Expected the element to have attribute:\n      data-size=\"lg\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m       \u001b[36mconst\u001b[39m button \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Login with Google'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'lg'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m\n     \u001b[90m 79 |\u001b[39m     it(\u001b[32m'should call login function when login button is clicked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:76:22)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should show DEV MODE badge in development mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"secondary\") // element.getAttribute(\"data-variant\") === \"secondary\"\n\n    Expected the element to have attribute:\n      data-variant=\"secondary\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 180 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-100'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text-yellow-800'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 182 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'secondary'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 183 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 184 |\u001b[39m\n     \u001b[90m 185 |\u001b[39m     it(\u001b[32m'should render both logout and OAuth login buttons in dev mode'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:182:21)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style logout button as outline variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"outline\") // element.getAttribute(\"data-variant\") === \"outline\"\n\n    Expected the element to have attribute:\n      data-variant=\"outline\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m logoutButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Logout'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'outline'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 199 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:196:28)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style OAuth login button as default variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"default\") // element.getAttribute(\"data-variant\") === \"default\"\n\n    Expected the element to have attribute:\n      data-variant=\"default\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m\n     \u001b[90m 203 |\u001b[39m       \u001b[36mconst\u001b[39m oauthButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'OAuth Login'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'default'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:204:27)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-cors-validation.test.tsx\n  WebSocket CORS Validation (CRITICAL SECURITY)\n    Origin Header Validation\n      \u00d7 should include proper Origin header in WebSocket connection (1 ms)\n      \u00d7 should handle CORS validation failure gracefully (1 ms)\n      \u00d7 should not attempt connection from invalid origins\n    Allowed Origins Configuration\n      \u00d7 should connect successfully from allowed development origin\n      \u00d7 should connect successfully from allowed production origin\n      \u00d7 should handle subdomain restrictions properly\n    Cross-Origin Request Handling\n      \u00d7 should handle mixed content scenarios (HTTP to HTTPS) (1 ms)\n      \u00d7 should validate referrer policies (1 ms)\n      \u00d7 should handle iframe embedding restrictions (1 ms)\n    Security Headers and Validation\n      \u00d7 should respect Content Security Policy for WebSocket connections (1 ms)\n      \u00d7 should handle Sec-Fetch-Site header validation\n      \u00d7 should validate against XSS injection in WebSocket URLs\n    CORS Error Recovery and Fallback\n      \u00d7 should provide actionable CORS error messages (3 ms)\n      \u00d7 should not retry CORS-blocked connections indefinitely (1 ms)\n      \u00d7 should provide fallback options for CORS issues\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should include proper Origin header in WebSocket connection\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should handle CORS validation failure gracefully\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should not attempt connection from invalid origins\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed development origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed production origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should handle subdomain restrictions properly\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle mixed content scenarios (HTTP to HTTPS)\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should validate referrer policies\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle iframe embedding restrictions\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should respect Content Security Policy for WebSocket connections\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should handle Sec-Fetch-Site header validation\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should validate against XSS injection in WebSocket URLs\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide actionable CORS error messages\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should not retry CORS-blocked connections indefinitely\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide fallback options for CORS issues\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\nFAIL Integration Tests __tests__/integration/caching-integration.test.tsx\n  Redis Caching Integration\n    \u00d7 should cache frequently accessed data (1 ms)\n    \u00d7 should handle cache misses (1 ms)\n    \u221a should invalidate cache on data updates (21 ms)\n    \u221a should handle cache eviction policies (214 ms)\n  Cache Performance Integration\n    \u221a should measure cache performance metrics (141 ms)\n    \u221a should handle cache warming operations (7 ms)\n    \u221a should handle distributed cache synchronization (15 ms)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'cached data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     \n     \u001b[90m 60 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 61 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:58:43)\n\n  \u25cf Redis Caching Integration \u203a should handle cache misses\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'fresh data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \n     \u001b[90m 104 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 105 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:102:43)\n\nFAIL Integration Tests __tests__/services/threadService.test.ts\n  ThreadService Revenue-Critical Tests\n    Thread Listing - User Activation Critical\n      \u221a lists threads with default pagination (90 ms)\n      \u221a lists threads with custom pagination (6 ms)\n      \u221a handles empty thread list for new users (3 ms)\n      \u221a handles pagination with zero limit edge case (5 ms)\n      \u221a throws on list API failures (29 ms)\n    Thread Retrieval - Returning User Flow\n      \u221a retrieves specific thread successfully\n      \u221a handles thread not found gracefully (1 ms)\n      \u221a handles malformed thread ID\n    Thread Creation - Activation Moment\n      \u00d7 creates thread with title only (3 ms)\n      \u00d7 creates thread with title and metadata (2 ms)\n      \u00d7 creates thread without title (1 ms)\n      \u221a handles creation failures (52 ms)\n    Thread Updates - User Engagement\n      \u00d7 updates thread title (3 ms)\n      \u00d7 updates thread with metadata only (1 ms)\n      \u00d7 updates thread with both title and metadata (1 ms)\n      \u221a handles update failures (1 ms)\n    Thread Deletion - Data Integrity\n      \u221a deletes thread successfully (1 ms)\n      \u221a handles deletion of non-existent thread\n      \u221a handles deletion permissions error (1 ms)\n    Thread Messages - Content Loading Critical\n      \u00d7 retrieves messages with default pagination (2 ms)\n      \u00d7 retrieves messages with custom pagination (66 ms)\n      \u00d7 handles empty message history (1 ms)\n      \u221a handles messages API failures (1 ms)\n    Concurrent Operations - System Resilience\n      \u221a handles multiple thread operations simultaneously\n      \u221a isolates failures in concurrent operations (1 ms)\n      \u221a handles network timeout during concurrent operations\n    Edge Cases and Error Resilience\n      \u221a handles malformed API responses (1 ms)\n      \u221a handles invalid thread ID formats\n      \u221a handles extremely large pagination values (1 ms)\n      \u221a handles rate limiting on operations\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"New Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:121:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {},\n          \"participants\": Array [\n            \"user1\",\n          ],\n    @@ -12,7 +11,6 @@\n            \"test\",\n          ],\n          \"title\": \"Test Thread\",\n        },\n        \"title\": \"Priority Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:131:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread without title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:144:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"Updated Title\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:162:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with metadata only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"bookmarked\": true,\n        },\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:176:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with both title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {\n            \"urgency\": \"high\",\n          },\n          \"participants\": Array [\n    @@ -16,7 +15,6 @@\n            \"important\",\n          ],\n          \"title\": \"Urgent Thread\",\n        },\n        \"title\": \"Urgent Task\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:189:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with default pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"limit\": 50}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 50, \"offset\": 0}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:232:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with custom pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"cursor\": 20, \"limit\": 10}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 10, \"offset\": 20}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:242:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a handles empty message history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 0\n    Received: undefined\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m\n     \u001b[90m 256 |\u001b[39m     test(\u001b[32m'handles messages API failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/services/threadService.test.ts:253:28)\n\nFAIL Integration Tests __tests__/integration/database-integration.test.tsx\n  Database Repository Pattern Integration\n    \u221a should perform CRUD operations through repositories (14 ms)\n    \u221a should handle repository read operations (14 ms)\n    \u221a should handle repository update operations (15 ms)\n    \u221a should handle repository delete operations (118 ms)\n  Database Transaction Integration\n    \u00d7 should handle database transactions (1 ms)\n    \u00d7 should handle transaction rollbacks (1 ms)\n\n  \u25cf Database Transaction Integration \u203a should handle database transactions\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mtrue\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     \n     \u001b[90m 260 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 261 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:258:49)\n\n  \u25cf Database Transaction Integration \u203a should handle transaction rollbacks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 306 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 308 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mfalse\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 309 |\u001b[39m     \n     \u001b[90m 310 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 311 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:308:49)\n\nFAIL Integration Tests __tests__/integration/error-context-tracing.test.tsx\n  Error Context and Tracing\n    \u00d7 should capture and display error context\n    \u221a should track error propagation across services (200 ms)\n    \u221a should collect error metrics and analytics (61 ms)\n    \u221a should implement error correlation and grouping (120 ms)\n    \u221a should maintain error audit trails (65 ms)\n    \u221a should handle error fingerprinting for deduplication (105 ms)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: (0 , _infrastructuretestutils.createMockErrorResponse) is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     setupFetchMock(createMockErrorResponse(\u001b[32m'Internal server error'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'trace-789'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m     \n     \u001b[90m 67 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 68 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/error-context-tracing.test.tsx:65:43)\n\nPASS Integration Tests __tests__/integration/task-retry-mechanisms.test.tsx\n  Task Failure and Retry Mechanisms\n    \u221a should handle task failures and retries (258 ms)\n    \u221a should implement exponential backoff for retries (248 ms)\n    \u221a should handle dead letter queue for failed tasks (17 ms)\n    \u221a should reprocess tasks from dead letter queue (13 ms)\n    \u221a should handle retry with jitter to prevent thundering herd (239 ms)\n    \u221a should track failure patterns and adjust retry strategy (24 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/form-validation.test.tsx\n  Complex Form Validation Integration\n    \u221a should validate multi-step forms with dependencies (36 ms)\n    \u221a should handle async validation with debouncing (452 ms)\n    \u221a should handle conditional field validation (36 ms)\n    \u221a should validate forms with file uploads (130 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/search-ui-interactions.test.tsx\n  Search and UI Interactions Integration\n    Advanced Search\n      \u221a should implement fuzzy search with highlighting (273 ms)\n      \u221a should implement search with filters and facets (18 ms)\n    Drag and Drop\n      \u221a should handle file drag and drop with preview (18 ms)\n      \u221a should reorder items with drag and drop (11 ms)\n    Infinite Scroll\n      \u221a should load more content on scroll (140 ms)\n      \u221a should implement virtual scrolling for large lists (9 ms)\n    Complex Animations\n      \u221a should chain animations with proper timing (256 ms)\n      \u221a should handle gesture-based animations (27 ms)\n\nPASS Integration Tests __tests__/integration/navigation-complete.test.tsx\n  Complete Navigation Integration Tests\n    Basic Navigation Between Routes\n      \u221a should navigate to all main routes (243 ms)\n      \u221a should handle navigation component interactions (137 ms)\n      \u221a should maintain navigation call history (2 ms)\n      \u221a should handle rapid navigation clicks (77 ms)\n    Browser Navigation Controls\n      \u221a should trigger browser back navigation (1 ms)\n      \u221a should trigger browser forward navigation\n      \u221a should handle page refresh (1 ms)\n      \u221a should simulate popstate events (1 ms)\n    Concurrent Navigation Requests\n      \u221a should handle multiple navigation calls (62 ms)\n      \u221a should handle navigation with debouncing simulation (1 ms)\n      \u221a should queue navigation requests (57 ms)\n      \u221a should handle navigation interruption (110 ms)\n    Navigation Cleanup and Memory Management\n      \u221a should handle component unmounting (5 ms)\n      \u221a should prevent memory leaks during navigation (808 ms)\n      \u221a should handle navigation with state cleanup (1 ms)\n      \u221a should handle unsaved changes confirmation\n    URL State Synchronization\n      \u221a should synchronize navigation with URL state (1 ms)\n      \u221a should handle query parameters in navigation (1 ms)\n      \u221a should preserve hash navigation (1 ms)\n      \u221a should handle URL encoding correctly (1 ms)\n    Error Handling and Edge Cases\n      \u221a should handle invalid routes gracefully (1 ms)\n      \u221a should handle network errors during navigation (1 ms)\n      \u221a should prevent infinite redirect loops (1 ms)\n      \u221a should handle malformed URL parameters (1 ms)\n    Performance and Optimization\n      \u221a should preload routes for better performance\n      \u221a should implement navigation caching\n      \u221a should optimize navigation for large datasets (149 ms)\n      \u221a should handle virtual navigation for performance (1 ms)\n\nPASS Integration Tests __tests__/integration/basic-integration-ui.test.tsx\n  UI Interaction Integration Tests\n    Navigation and Routing\n      \u221a should handle navigation between views (81 ms)\n    Performance and Optimization\n      \u221a should debounce rapid input changes (457 ms)\n      \u221a should implement virtual scrolling for large lists (11 ms)\n    Form Interactions\n      \u221a should handle form validation and submission (58 ms)\n      \u221a should handle keyboard interactions (135 ms)\n\nPASS Integration Tests __tests__/integration/session-management.test.tsx\n  Session Management Integration\n    Session Persistence\n      \u221a should persist session across page reloads (9 ms)\n      \u221a should restore user state from localStorage (17 ms)\n      \u221a should handle corrupted session data gracefully (14 ms)\n    Token Refresh\n      \u221a should refresh tokens before expiration (49 ms)\n      \u221a should handle refresh failures (65 ms)\n      \u221a should queue operations during refresh (97 ms)\n    Multi-Tab Synchronization\n      \u25cb skipped should sync login across tabs\n      \u25cb skipped should sync logout across tabs\n      \u25cb skipped should handle conflicting session states\n    Session Timeout\n      \u221a should detect session timeout (200 ms)\n      \u221a should provide timeout warnings (98 ms)\n      \u221a should handle session extension (154 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/index.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (34 ms)\n      \u221a should handle presence and activity status (43 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (15 ms)\n      \u221a should maintain operation history for undo/redo (15 ms)\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (51 ms)\n      \u221a should use local storage for offline persistence (13 ms)\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (13 ms)\n      \u221a should handle protected route redirects (12 ms)\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (251 ms)\n      \u221a should implement search with filters and facets (19 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (11 ms)\n      \u221a should reorder items with drag and drop (17 ms)\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (140 ms)\n      \u221a should implement virtual scrolling for large lists (6 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (276 ms)\n      \u221a should handle gesture-based animations (67 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (3 ms)\n      \u221a should manage large data sets efficiently (64 ms)\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (40 ms)\n      \u221a should report errors to monitoring service (18 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (14 ms)\n      \u221a should handle RTL languages correctly (21 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (136 ms)\n      \u221a should implement exponential backoff for reconnection (23 ms)\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (404 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (32 ms)\n      \u221a should handle presence and activity status (48 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (18 ms)\n      \u221a should maintain operation history for undo/redo (17 ms)\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (41 ms)\n      \u221a should use local storage for offline persistence (16 ms)\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (12 ms)\n      \u221a should handle protected route redirects (19 ms)\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (250 ms)\n      \u221a should implement search with filters and facets (26 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (15 ms)\n      \u221a should reorder items with drag and drop (18 ms)\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (155 ms)\n      \u221a should implement virtual scrolling for large lists (9 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (269 ms)\n      \u221a should handle gesture-based animations (45 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (5 ms)\n      \u221a should manage large data sets efficiently (41 ms)\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (18 ms)\n      \u221a should report errors to monitoring service (17 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (18 ms)\n      \u221a should handle RTL languages correctly (17 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (150 ms)\n      \u221a should implement exponential backoff for reconnection (30 ms)\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (401 ms)\n\nPASS Integration Tests __tests__/integration/store-sync.test.tsx\n  Store Synchronization Integration Tests\n    Cross-Component Store Synchronization\n      \u221a synchronizes store updates across components (76 ms)\n      \u221a prevents unnecessary re-renders with selective subscriptions (61 ms)\n      \u221a handles rapid state updates without race conditions (67 ms)\n    Store State Isolation\n      \u221a maintains state isolation between different stores (210 ms)\n      \u221a handles store reset without affecting other stores (455 ms)\n    Complex State Transactions\n      \u221a handles complex multi-store state updates atomically (84 ms)\n      \u221a maintains state consistency during concurrent updates (15 ms)\n    Memory Management\n      \u221a prevents memory leaks with large state objects (3 ms)\n      \u221a handles subscription cleanup properly (2 ms)\n    DevTools Integration\n      \u221a maintains devtools integration with store updates (1 ms)\n      \u221a supports time-travel debugging through state snapshots (1 ms)\n\nPASS Integration Tests __tests__/integration/critical/error-recovery.test.tsx\n  Error Recovery Integration\n    Connection Recovery\n      \u221a should recover from WebSocket disconnection (49 ms)\n      \u221a should retry failed API calls with exponential backoff (364 ms)\n      \u221a should handle session expiration gracefully (6 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-subprotocol-auth.test.tsx\n  WebSocket Subprotocol Authentication (CRITICAL)\n    Sec-WebSocket-Protocol Header Implementation\n      \u221a should include JWT token in Sec-WebSocket-Protocol header (58 ms)\n      \u221a should support multiple protocol negotiation (55 ms)\n      \u221a should handle protocol selection from backend (61 ms)\n    Security and Error Handling\n      \u221a should not send token if not authenticated (127 ms)\n      \u221a should clean up protocols on disconnect (85 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/error-i18n-websocket.test.tsx\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (55 ms)\n      \u221a should report errors to monitoring service (19 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (26 ms)\n      \u221a should handle RTL languages correctly (12 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (146 ms)\n      \u221a should implement exponential backoff for reconnection (9 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/infinite-scroll-animations.test.tsx\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (207 ms)\n      \u221a should implement virtual scrolling for large lists (11 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (271 ms)\n      \u221a should handle gesture-based animations (31 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (4 ms)\n      \u221a should manage large data sets efficiently (27 ms)\n\nPASS Integration Tests __tests__/integration/websocket-setup.test.tsx\n  WebSocket Setup Integration Tests - Agent 6\n    WebSocket Connection with Authentication\n      \u221a should connect with valid auth token within 500ms (143 ms)\n      \u221a should handle auth token validation correctly (76 ms)\n      \u221a should reject invalid auth tokens (41 ms)\n    Auto-Reconnection with Exponential Backoff\n      \u221a should automatically reconnect after unexpected disconnect (55 ms)\n    Message Queue During Disconnection\n      \u221a should queue messages when disconnected and send on reconnect (129 ms)\n    Connection State Management\n      \u221a should accurately track connection state transitions (62 ms)\n    Concurrent Message Handling\n      \u221a should handle multiple simultaneous messages (23 ms)\n    Connection Cleanup\n      \u221a should cleanup connection properly (54 ms)\n\nPASS Integration Tests __tests__/integration/thread-switching-simple.test.tsx\n  Simple Thread Switching\n    \u221a should switch threads correctly (312 ms)\n    \u221a should handle rapid switching (313 ms)\n    \u221a should show active state correctly (39 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/search-drag-drop.test.tsx\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (246 ms)\n      \u221a should implement search with filters and facets (14 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (14 ms)\n      \u221a should reorder items with drag and drop (17 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/error-handling-edge-cases.test.tsx\n  Error Handling and Edge Cases Integration\n    Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (19 ms)\n      \u221a should report errors to monitoring service (25 ms)\n    Memory Management\n      \u221a should cleanup resources on unmount (2 ms)\n      \u221a should manage large data sets efficiently (49 ms)\n    Multi-language Support\n      \u221a should switch languages dynamically (13 ms)\n      \u221a should handle RTL languages correctly (20 ms)\n    WebSocket Resilience\n      \u221a should handle WebSocket message buffering during reconnection (139 ms)\n      \u221a should implement exponential backoff for reconnection (15 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/collaboration.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (29 ms)\n      \u221a should handle presence and activity status (42 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (14 ms)\n      \u221a should maintain operation history for undo/redo (12 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/end-to-end-journey.test.tsx\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (296 ms)\n\nPASS Integration Tests __tests__/integration/data-fetching-core.test.tsx\n  Data Fetching - Core Caching\n    \u221a fetches data on initial load (17 ms)\n    \u221a caches fetched data for subsequent requests (10 ms)\n    \u221a bypasses cache when explicitly requested (75 ms)\n    \u221a handles cache misses gracefully (6 ms)\n    \u221a implements request deduplication (21 ms)\n    \u221a handles large datasets efficiently (31 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/theme-preferences.test.tsx\n  Theme and Preferences Synchronization\n    \u221a should sync theme preferences across components (14 ms)\n    \u221a should persist user preferences across sessions (2 ms)\n    \u221a should handle theme changes with animation transitions (136 ms)\n    \u221a should sync preferences with server (139 ms)\n\nPASS Integration Tests __tests__/integration/error-remediation.test.tsx\n  Error Alerting and Notifications\n    \u221a should support error alerting and notifications (24 ms)\n    \u221a should handle escalation workflows for critical errors (18 ms)\n    \u221a should implement smart alerting with noise reduction (15 ms)\n  Automated Remediation Workflows\n    \u221a should handle error remediation workflows (15 ms)\n    \u221a should implement rollback mechanisms for failed deployments (17 ms)\n    \u221a should handle auto-scaling for resource exhaustion errors (18 ms)\n    \u221a should implement circuit breaker remediation (17 ms)\n    \u221a should track remediation effectiveness (4 ms)\n\nPASS Integration Tests __tests__/integration/deep-linking.test.tsx\n  Deep Linking Integration Tests\n    Thread Deep Linking\n      \u221a should navigate to specific thread via deep link (12 ms)\n      \u221a should handle thread deep links with query parameters (1 ms)\n      \u221a should restore thread state from URL parameters (1 ms)\n      \u221a should handle invalid thread IDs in deep links gracefully (13 ms)\n    Query Parameter Handling\n      \u221a should parse and apply search query parameters (3 ms)\n      \u221a should handle multiple filter parameters (3 ms)\n      \u221a should preserve query parameters during navigation\n      \u221a should handle URL encoding and special characters\n    Hash Navigation and Anchors\n      \u221a should navigate to page sections via hash (1 ms)\n      \u221a should update hash on section navigation (69 ms)\n      \u221a should handle smooth scrolling to hash targets (1 ms)\n      \u221a should fallback gracefully for invalid hash targets (1 ms)\n    Complex URL State Management\n      \u221a should handle URLs with multiple parameter types (2 ms)\n      \u221a should maintain state consistency across complex navigation\n      \u221a should handle URL state conflicts gracefully (1 ms)\n      \u221a should optimize URL structure for SEO and sharing (1 ms)\n    Browser History and State Restoration\n      \u221a should restore application state from browser history\n      \u221a should handle popstate events correctly (2 ms)\n      \u221a should preserve scroll position in browser history (1 ms)\n      \u221a should limit browser history size for performance\n    URL Validation and Security\n      \u221a should validate URL parameters for security\n      \u221a should handle malformed URLs gracefully (1 ms)\n      \u221a should prevent URL manipulation attacks (1 ms)\n      \u221a should enforce URL length limits\n\nPASS Integration Tests __tests__/integration/critical/message-streaming.test.tsx\n  Real-time Message Streaming\n    Streaming Integration\n      \u221a should stream agent responses to chat (57 ms)\n      \u221a should handle message interruption gracefully (7 ms)\n\nPASS Integration Tests __tests__/integration/logger-integration.test.tsx\n  Logger Integration - Cross-Component Usage\n    Component Logger Usage\n      \u221a logs user actions from components (31 ms)\n      \u221a logs API calls from components (8 ms)\n      \u221a logs WebSocket events from components (4 ms)\n      \u221a logs performance metrics from components (7 ms)\n    Layer Visibility Manager Integration\n      \u221a uses logger group methods for debugging (28 ms)\n    Error Handling Integration\n      \u221a logs errors with proper context (23 ms)\n    Log Buffer Verification\n      \u221a accumulates logs from multiple sources (22 ms)\n    Production Safety\n      \u221a sanitizes sensitive data in logs (9 ms)\n    Multi-Component Orchestration\n      \u221a tracks logs across component hierarchy (11 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-auth-rejection.test.tsx\n  WebSocket Authentication Rejection (SECURITY)\n    Secure Authentication Verification\n      \u221a should use secure authentication methods and avoid query parameters (40 ms)\n      \u221a should handle authentication errors gracefully when they occur (44 ms)\n      \u221a should use consistent secure authentication method (18 ms)\n    Enhanced Error Handling\n      \u221a should not expose sensitive token data in error messages (20 ms)\n    Migration from Insecure to Secure Authentication\n      \u221a should detect when using deprecated query param method (27 ms)\n      \u221a should attempt upgrade to secure authentication (17 ms)\n\nPASS Integration Tests __tests__/integration/system-management.test.tsx\n  LLM Cache Management Integration\n    \u221a should clear LLM cache and update UI (32 ms)\n    \u221a should update cache TTL settings (31 ms)\n  Supply Catalog Integration\n    \u221a should load and display supply catalog (14 ms)\n    \u221a should switch between different model providers (20 ms)\n  Configuration Management\n    \u221a should load and display configuration (15 ms)\n    \u221a should update nested configuration values (14 ms)\n  Health Check Monitoring\n    \u221a should fetch and display system health status (30 ms)\n\nPASS Integration Tests __tests__/integration/auth-complete.test.tsx\n  Complete Authentication Flow Integration\n    OAuth Login Flow\n      \u221a should complete OAuth login with token validation (43 ms)\n      \u221a should handle OAuth callback with state validation (15 ms)\n      \u221a should reject invalid OAuth state (33 ms)\n    Development Mode Authentication\n      \u221a should auto-login in development mode (18 ms)\n      \u221a should respect dev logout flag (7 ms)\n    Logout Flow\n      \u221a should complete logout with full cleanup (32 ms)\n      \u221a should handle logout during active session (15 ms)\n    Token Management\n      \u221a should validate token format and claims (18 ms)\n      \u221a should handle malformed tokens (16 ms)\n      \u221a should handle expired tokens (46 ms)\n\nPASS Integration Tests __tests__/integration/message-reception.test.tsx\n  Message Reception Integration Tests\n    WebSocket Message Parsing\n      \u221a should parse structured WebSocket messages correctly (18 ms)\n      \u221a should handle malformed WebSocket messages gracefully (16 ms)\n    First Token Display Performance\n      \u221a should display first token within 1 second (170 ms)\n      \u221a should measure and record token display metrics (360 ms)\n    Streaming Text Accumulation\n      \u221a should accumulate text progressively without jumps (112 ms)\n      \u221a should handle very long messages without performance degradation (2203 ms)\n    Markdown Real-time Rendering\n      \u221a should render markdown during streaming (1048 ms)\n    Auto-scroll Behavior\n      \u221a should auto-scroll during message streaming (61 ms)\n    Stream Completion Detection\n      \u221a should detect when streaming is complete (82 ms)\n      \u221a should enable message actions after completion (152 ms)\n    Network Disconnection Recovery\n      \u221a should handle WebSocket disconnection during streaming (150 ms)\n\nPASS Integration Tests __tests__/integration/security-auth.test.tsx\n  OAuth Secrets Management\n    \u221a should handle OAuth token refresh (23 ms)\n    \u221a should manage secrets securely (28 ms)\n  Security Service Integration\n    \u221a should validate user permissions for protected resources (31 ms)\n    \u221a should handle security token rotation (31 ms)\n  Key Manager Integration\n    \u221a should manage API keys lifecycle (33 ms)\n    \u221a should revoke compromised keys (28 ms)\n  Admin Functionality Integration\n    \u221a should manage user roles and permissions (32 ms)\n    \u221a should access admin-only endpoints with proper auth (31 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/collaborative-features.test.tsx\n  Collaborative Features Integration\n    \u221a should sync cursor positions in real-time (42 ms)\n    \u221a should handle presence and activity status (44 ms)\n    \u221a should handle conflict resolution in collaborative editing (16 ms)\n    \u221a should maintain operation history for undo/redo (8 ms)\n    \u221a should handle collaborative document versioning (22 ms)\n\nPASS Integration Tests __tests__/integration/route-guards.test.tsx\n  Route Guards Integration Tests\n    Authentication-Required Routes\n      \u221a should redirect unauthenticated users to login (6 ms)\n      \u221a should allow authenticated users access to basic routes (2 ms)\n      \u221a should maintain auth state across route changes (12 ms)\n      \u221a should handle auth token expiration during navigation (15 ms)\n    Tier-Based Access Control\n      \u221a should block Free users from Early tier features (2 ms)\n      \u221a should allow Early users access to Early tier features (2 ms)\n      \u221a should block Early users from Mid tier features (2 ms)\n      \u221a should allow Mid users access to Mid tier features (2 ms)\n      \u221a should block Mid users from Enterprise features (2 ms)\n      \u221a should allow Enterprise users access to all features (2 ms)\n    Dynamic Route Protection\n      \u221a should protect dynamic thread routes (2 ms)\n      \u221a should allow access to user-owned threads (1 ms)\n      \u221a should block access to threads from higher tiers (2 ms)\n      \u221a should handle invalid thread IDs gracefully\n    Route Redirect Flows\n      \u221a should redirect to intended page after login (1 ms)\n      \u221a should redirect to appropriate home based on user tier (1 ms)\n      \u221a should handle logout redirects properly\n      \u221a should preserve query parameters during redirects\n    Error Handling and Edge Cases\n      \u221a should handle network errors during auth checks (1 ms)\n      \u221a should handle concurrent auth state changes (60 ms)\n      \u221a should handle malformed auth tokens gracefully (1 ms)\n      \u221a should prevent infinite redirect loops (2 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/offline-navigation.test.tsx\n  Offline Mode and Navigation Integration\n    Offline Mode\n      \u221a should queue actions when offline and sync when online (54 ms)\n      \u221a should use local storage for offline persistence (15 ms)\n    Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (15 ms)\n      \u221a should handle protected route redirects (16 ms)\n      \u221a should handle navigation with query parameters (11 ms)\n\nPASS Integration Tests __tests__/auth/auth-components-features.test.tsx\n  Auth Components Features\n    Edge Cases\n      \u221a should handle user with no name or email (10 ms)\n      \u221a should handle undefined auth config gracefully (3 ms)\n      \u221a should handle rapid state changes (7 ms)\n      \u221a should handle empty string user names (3 ms)\n    Accessibility\n      \u221a should have accessible button roles (29 ms)\n      \u221a should properly disable button when loading (6 ms)\n      \u221a should have proper button text for screen readers (5 ms)\n    Layout and Styling\n      \u221a should apply correct layout classes for logged in state (3 ms)\n      \u221a should apply correct text styling for user name (6 ms)\n      \u221a should apply correct layout for dev mode buttons (5 ms)\n    Integration Tests\n      \u221a should handle complete login flow (5 ms)\n      \u221a should handle complete logout flow (4 ms)\n\nPASS Integration Tests __tests__/integration/basic-integration-auth.test.tsx\n  Authentication Integration Tests\n    Authentication Flow\n      \u221a should handle login and authentication (30 ms)\n      \u221a should handle logout and cleanup (30 ms)\n    Error Handling\n      \u221a should handle network errors gracefully (20 ms)\n      \u221a should handle WebSocket disconnection (57 ms)\n\nPASS Integration Tests __tests__/services/reconciliation-cleanup.test.ts\n  Reconciliation Cleanup Fix\n    \u221a should execute cleanup without \"this.cleanup is not a function\" error (16 ms)\n    \u221a should handle multiple cleanup cycles without errors (21 ms)\n    \u221a should properly clean up expired messages (10 ms)\n    \u221a should maintain proper context binding in cleanup callback (6 ms)\n\nPASS Integration Tests __tests__/auth/auth-logout.test.ts\n  Auth Logout Flow\n    handleLogout\n      \u221a should perform logout successfully with token (4 ms)\n      \u221a should handle logout without token\n      \u221a should handle logout failure and still clear token (1 ms)\n      \u221a should handle logout network error and still clear token (1 ms)\n      \u221a should handle concurrent logout operations (1 ms)\n    Dev Logout Flag Management\n      getDevLogoutFlag\n        \u221a should return true when flag is set (2 ms)\n        \u221a should return false when flag is not set\n        \u221a should return false when flag is not \"true\"\n        \u221a should return false for other string values (1 ms)\n      setDevLogoutFlag\n        \u221a should set dev logout flag (1 ms)\n        \u221a should handle multiple flag sets (1 ms)\n      clearDevLogoutFlag\n        \u221a should clear dev logout flag (1 ms)\n        \u221a should handle clearing non-existent flag\n      Dev Flag Integration\n        \u221a should handle complete dev flag cycle\n        \u221a should handle rapid flag operations\n    Logout Flow Integration\n      \u221a should handle logout with dev flag management (1 ms)\n      \u221a should handle logout failure with dev flag management (1 ms)\n\nPASS Integration Tests __tests__/integration/analytics-clickhouse.test.tsx\n  ClickHouse Analytics Integration\n    \u221a should query analytics data from ClickHouse (14 ms)\n    \u221a should query time-series analytics data (14 ms)\n    \u221a should perform aggregation queries (12 ms)\n    \u221a should handle complex analytical queries (15 ms)\n    \u221a should handle data compression and optimization queries (9 ms)\n    \u221a should handle materialized view queries (22 ms)\n\nPASS Integration Tests __tests__/integration/critical/file-upload.test.tsx\n  File Upload Integration\n    Upload Functionality\n      \u221a should upload file and process with agent (2 ms)\n      \u221a should track upload progress (151 ms)\n\nPASS Integration Tests __tests__/integration/critical/performance-monitoring.test.tsx\n  Performance Monitoring Integration\n    Metrics Tracking\n      \u221a should track and report performance metrics (81 ms)\n      \u221a should detect and report performance degradation (1 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/navigation.test.tsx\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (8 ms)\n      \u221a should handle protected route redirects (15 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/offline-mode.test.tsx\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (40 ms)\n      \u221a should use local storage for offline persistence (17 ms)\n\nPASS Integration Tests __tests__/auth/auth-login.test.ts\n  Auth Login Flow\n    getAuthConfig\n      \u221a should fetch auth config successfully (2 ms)\n      \u221a should handle error when fetch fails (1 ms)\n      \u221a should handle network errors (1 ms)\n      \u221a should handle empty auth config response\n      \u221a should handle malformed JSON response\n    handleDevLogin\n      \u221a should perform dev login successfully (1 ms)\n      \u221a should handle dev login with different config (1 ms)\n      \u221a should handle dev login with development config (1 ms)\n      \u221a should handle dev login multiple times\n      \u221a should sanitize email input in dev login (1 ms)\n    handleLogin\n      \u221a should call handleLogin with correct config (1 ms)\n      \u221a should handle login with development mode config (1 ms)\n      \u221a should handle login with production config\n      \u221a should handle login with missing config (2 ms)\n    Login Flow Integration\n      \u221a should handle complete login flow (2 ms)\n      \u221a should handle dev login flow (1 ms)\n      \u221a should handle concurrent config requests (1 ms)\n\nPASS Integration Tests __tests__/integration/critical/agent-provider.test.tsx\n  Agent Provider Integration\n    Agent State Coordination\n      \u221a should coordinate agent state with WebSocket messages (12 ms)\n      \u221a should sync agent reports with chat messages (6 ms)\n\nPASS Integration Tests __tests__/services/messageService.test.ts\n  MessageService\n    Thread Management\n      \u221a should create a new thread (2 ms)\n      \u221a should fetch threads for a user (5 ms)\n      \u221a should handle thread fetch errors (24 ms)\n    Message Persistence\n      \u221a should save a message to the server (1 ms)\n      \u221a should fetch messages for a thread (1 ms)\n      \u221a should handle pagination for large message lists (2 ms)\n    Local Cache Management\n      \u221a should cache messages locally\n      \u221a should sync local cache with server (2 ms)\n      \u221a should handle offline mode (1 ms)\n      \u221a should retry failed message sends (16 ms)\n    Thread State Management\n      \u221a should save thread state\n      \u221a should update thread metadata (1 ms)\n\nPASS Integration Tests __tests__/services/tool-tracking-service.test.ts\n  ToolTrackingService\n    startTool\n      \u221a should start a new tool and notify listeners (4 ms)\n      \u221a should not add duplicate tools (1 ms)\n      \u221a should respect max active tools limit (2 ms)\n    completeTool\n      \u221a should complete a tool and notify listeners (1 ms)\n      \u221a should handle completing non-existent tool gracefully (1 ms)\n    auto-removal timeout\n      \u221a should auto-remove tools after timeout (2 ms)\n      \u221a should not auto-remove manually completed tools (1 ms)\n    cleanup interval\n      \u221a should periodically cleanup expired tools (1 ms)\n    service cleanup\n      \u221a should cleanup all timeouts on service cleanup (1 ms)\n    configuration\n      \u221a should use default configuration when not provided (1 ms)\n      \u221a should merge partial configuration with defaults (1 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-token-refresh.test.tsx\n  WebSocket Token Refresh Management (CRITICAL)\n    WebSocket Service Token Functionality\n      \u221a should handle token updates via updateToken method (20 ms)\n      \u221a should validate JWT token parsing functionality (3 ms)\n      \u221a should provide secure URL generation (3 ms)\n      \u221a should handle message queuing functionality (8 ms)\n    Token Lifecycle Management\n      \u221a should handle connection state management (3 ms)\n      \u221a should handle token validation and expiry detection (6 ms)\n      \u221a should support rate limiting and connection management (3 ms)\n\nPASS Integration Tests __tests__/services/messageFormatter.test.ts\n  MessageFormatter Service\n    Content Type Detection\n      \u221a detects markdown content correctly (2 ms)\n      \u221a detects code blocks correctly (1 ms)\n      \u221a detects mixed content correctly (1 ms)\n      \u221a detects plain text correctly (1 ms)\n    Formatting Metadata Creation\n      \u221a creates metadata for markdown content (1 ms)\n      \u221a creates metadata for plain content\n    Content Processing\n      \u221a processes markdown content correctly (1 ms)\n      \u221a handles content normalization\n    Message Enhancement\n      \u221a enhances message with formatting metadata\n    MessageFormatterService\n      \u221a formats single message (1 ms)\n      \u221a formats multiple messages (1 ms)\n      \u221a gets render configuration (1 ms)\n      \u221a validates formatting integrity\n\nPASS Integration Tests __tests__/integration/critical/accessibility.test.tsx\n  Accessibility Integration\n    Focus Management\n      \u221a should maintain focus management during navigation (24 ms)\n      \u221a should announce dynamic content updates to screen readers (8 ms)\n\nPASS Integration Tests __tests__/integration/critical/keyboard-shortcuts.test.tsx\n  Keyboard Shortcuts Integration\n    Global Shortcuts\n      \u221a should handle global keyboard shortcuts (8 ms)\n      \u221a should prevent shortcut conflicts in input fields (5 ms)\n\nPASS Integration Tests __tests__/integration/tool-lifecycle-integration-simple.test.ts\n  Tool Lifecycle Integration - Simplified\n    Tool Status Management\n      \u221a should create and track tool status (2 ms)\n      \u221a should update tool statuses array correctly (1 ms)\n      \u221a should remove tools correctly (1 ms)\n      \u221a should convert to active tools array for legacy support (1 ms)\n    Tool Deduplication\n      \u221a should prevent duplicate tools in statuses\n      \u221a should handle similar but different tool names correctly (1 ms)\n\nPASS Integration Tests __tests__/integration/error-tracing-integration.test.tsx\n  Error Tracing Integration Test Suite\n    \u221a should reference modular error tracing architecture (1 ms)\n    \u221a should maintain Enterprise observability standards (1 ms)\n\nPASS Integration Tests __tests__/integration/critical/state-sync.test.tsx\n  State Synchronization\n    Server State Sync\n      \u221a should sync local state with server state (3 ms)\n      \u221a should handle concurrent state updates (28 ms)\n\nPASS Integration Tests __tests__/integration/critical/notifications.test.tsx\n  Notification System Integration\n    Notification Display\n      \u221a should show notifications for important events (5 ms)\n      \u221a should queue notifications when offline\n\nPASS Integration Tests __tests__/integration/infrastructure.test.tsx\n  Infrastructure Integration Test Suite\n    \u221a should reference modular test architecture (2 ms)\n    \u221a should maintain Enterprise reliability standards (1 ms)\n\nPASS Integration Tests __tests__/integration/task-processing-integration.test.tsx\n  Task Processing Integration Test Suite\n    \u221a should reference modular task processing architecture (1 ms)\n    \u221a should maintain Enterprise background processing standards (1 ms)\n\nPASS Integration Tests __tests__/integration/analytics-integration.test.tsx\n  Analytics Integration Test Suite\n    \u221a should reference modular analytics architecture (2 ms)\n    \u221a should maintain Enterprise data insights standards (2 ms)\n\nPASS Integration Tests __tests__/integration/critical/thread-management.test.tsx\n  Thread Management Integration\n    Thread Creation and Message Sync\n      \u221a should create thread and sync with messages (3 ms)\n      \u221a should switch threads and load messages (3 ms)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testInteractionDebouncing\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n      __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/index.test.tsx:11:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/websocket-resilience.test.tsx'\n\n    \u001b[0m \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./components/websocket-components'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 30 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/websocket-resilience.test.tsx:27:20)\n\nFAIL Integration Tests __tests__/integration/critical/error-recovery-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/test-mock-helpers' from '__tests__/integration/critical/error-recovery-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[90m// Import test utilities\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/setup/test-providers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m \u001b[36mimport\u001b[39m { setupTestEnvironment\u001b[33m,\u001b[39m cleanupTestEnvironment\u001b[33m,\u001b[39m resetTestStores\u001b[33m,\u001b[39m clearTestStorage } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-setup-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m \u001b[36mimport\u001b[39m { createExpiredToken\u001b[33m,\u001b[39m setupRetryFetchMock } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-mock-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m { retryWithBackoff } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-async-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mConnectionRecoveryComponent\u001b[39m\u001b[33m,\u001b[39m \u001b[33mAuthStatusComponent\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-component-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/critical/error-recovery-refactored.test.tsx:16:26)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-memory.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/performance-memory.test.tsx'\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     back\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 30 |\u001b[39m     forward\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 34 |\u001b[39m   })\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-memory.test.tsx:31:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m createWebSocketMessage\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   handleUserJoined\u001b[33m,\u001b[39m handleVoteCast\u001b[33m,\u001b[39m handleStepChange\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey-workflow.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-workflow.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   validateFileType\u001b[33m,\u001b[39m validateFileSize\u001b[33m,\u001b[39m parseFileContent\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   createMockOptimizations\u001b[33m,\u001b[39m simulateAnalysisPhases\u001b[33m,\u001b[39m calculateTotalImpact\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   createResults\u001b[33m,\u001b[39m simulateOptimizationApplication\u001b[33m,\u001b[39m createWorkloadConfigFile\u001b[33m,\u001b[39m\n     \u001b[90m 12 |\u001b[39m   expectSuccessfulUpload\u001b[33m,\u001b[39m expectSuccessfulAnalysis\u001b[33m,\u001b[39m expectCompletedWorkflow\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-workflow.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey-errors.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-errors.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m createValidJsonFile\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m describe(\u001b[32m'Error Scenarios in User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-errors.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/theme-preferences.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/theme-preferences.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/theme-preferences.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/navigation-search.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/navigation-search.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m   act\u001b[33m,\u001b[39m\n     \u001b[90m 15 |\u001b[39m   setupTestEnvironment\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m   cleanupTestEnvironment\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m\n     \u001b[90m 19 |\u001b[39m   \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/navigation-search.test.tsx:16:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/memory-management.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/memory-management.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   addTimer\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   addListener\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   cleanupResources\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   generateDataChunk\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m   calculateProgress\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m   estimateMemoryUsage\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/memory-management.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   waitForUserInteraction\u001b[33m,\u001b[39m getMovementDirection\u001b[33m,\u001b[39m calculateNewPosition\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectAnimationStage\u001b[33m,\u001b[39m expectAnimationStatus\u001b[33m,\u001b[39m expectGesturePosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateDragStart\u001b[33m,\u001b[39m reorderItems\u001b[33m,\u001b[39m generateItems\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectItemOrder\u001b[33m,\u001b[39m simulateDropValidation\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   generateScrollItems\u001b[33m,\u001b[39m saveScrollPosition\u001b[33m,\u001b[39m restoreScrollPosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll.test.tsx:12:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/index.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m testUtils \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m \u001b[90m// Import all test modules - commented out temporarily to prevent import errors\u001b[39m\n     \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m \u001b[90m// These modules need fixing to work with the current test-utils structure\u001b[39m\n     \u001b[90m 40 |\u001b[39m \u001b[90m// import './theme-preferences.test';\u001b[39m\n     \u001b[90m 41 |\u001b[39m \u001b[90m// import './collaboration-features.test';\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/index.test.tsx:38:60)\n\nFAIL Integration Tests __tests__/integration/comprehensive/i18n-tests.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/i18n-tests.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/i18n-tests.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx:12:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/collaboration-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/collaboration-features.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 25 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     refresh\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/collaboration-features.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/error-recovery.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/error-recovery.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/optimization-workflow-helpers' from '__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[36mimport\u001b[39m { assertElementText\u001b[33m,\u001b[39m waitForElementText\u001b[33m,\u001b[39m assertOptimizationResults } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-assertion-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests - End-to-End Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \n     \u001b[90m 16 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx:13:38)\n\nFAIL Integration Tests __tests__/integration/websocket-messaging.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-messaging.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | describe('WebSocket Message Processing Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/websocket-stress.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-stress.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | \n     \u001b[2m12\u001b[0m | describe('WebSocket Stress Testing', () => {\n     \u001b[2m13\u001b[0m |   let wsManager: WebSocketTestManager;\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-resilience.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import { webSocketService } from '@/services/webSocketService';\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Mock dependencies\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/websocket-complete-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-complete-refactored.test.tsx\u001b[0m:24:1]\n     \u001b[2m21\u001b[0m | import { render, waitFor } from '@testing-library/react';\n     \u001b[2m22\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m23\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m24\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m25\u001b[0m | import {\n     \u001b[2m26\u001b[0m |   ConnectionStateManager,\n     \u001b[2m27\u001b[0m |   MessageBuffer,\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/tool-lifecycle-integration.test.ts\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseUnifiedChatStore' before initialization\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 12 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseUnifiedChatStore (__tests__/integration/tool-lifecycle-integration.test.ts:13:24)\n      at Object.<anonymous> (__tests__/integration/tool-lifecycle-integration.test.ts:31:22)\n\nFAIL Integration Tests __tests__/integration/websocket-large-messages.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-large-messages.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m12\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-large-messages.test.tsx\u001b[0m:11:1]\n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m12\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | describe('WebSocket Large Message Handling Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/websocket-complete.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-messaging.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | describe('WebSocket Message Processing Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 44 |\u001b[39m \u001b[90m * - Better test organization by functional area\u001b[39m\n     \u001b[90m 45 |\u001b[39m \u001b[90m * - Faster test execution (can run specific modules)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 46 |\u001b[39m \u001b[90m * - Clearer separation of concerns\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[90m * - Easier debugging and development\u001b[39m\n     \u001b[90m 48 |\u001b[39m \u001b[90m * \u001b[39m\n     \u001b[90m 49 |\u001b[39m \u001b[90m * All original test functionality preserved across modules.\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/integration/websocket-complete.test.tsx:46:1)\n\nFAIL Integration Tests __tests__/integration/thread-switching.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\thread-switching.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import { render, screen, waitFor, fireEvent, act } from '@testing-library/react';\n     \u001b[2m10\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m11\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m14\u001b[0m | \n     \u001b[2m15\u001b[0m | // Mock router for navigation testing\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/message-streaming-core.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Core streaming test component\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:14:1]\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Core streaming test component\n     \u001b[2m17\u001b[0m | const StreamingCoreTest: React.FC = () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/offline-mode.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\offline-mode.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | \n     \u001b[2m15\u001b[0m | // Mock dependencies\n     \u001b[2m16\u001b[0m | jest.mock('@/services/webSocketService');\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/login-complete.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/MainChat mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMockMessageInput\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33minput\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-input\"\u001b[39m placeholder\u001b[33m=\u001b[39m\u001b[32m\"Type message...\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/MainChat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m   \u001b[33mMainChat\u001b[39m\u001b[33m:\u001b[39m \u001b[33mMockChatInterface\u001b[39m\n     \u001b[90m 34 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete.test.tsx:32:6)\n\nFAIL Integration Tests __tests__/integration/login-token-management.test.tsx\n  \u25cf Test suite failed to run\n\n    TypeError: (0 , _utils.createMockExpiredToken) is not a function\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m\n     \u001b[90m 65 |\u001b[39m \u001b[36mconst\u001b[39m validToken \u001b[33m=\u001b[39m createMockToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m \u001b[36mconst\u001b[39m expiredToken \u001b[33m=\u001b[39m createMockExpiredToken(testUser\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m \u001b[36mconst\u001b[39m expiringToken \u001b[33m=\u001b[39m createMockExpiringToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m300\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m \u001b[90m// ============================================================================\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/login-token-management.test.tsx:66:44)\n\nFAIL Integration Tests __tests__/integration/integration-tasks.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-tasks.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Declare mocks first (Jest Module Hoisting)\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-tasks.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/integration-corpus.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-corpus.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 37 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n     \u001b[90m 40 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 41 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-corpus.test.tsx:38:37)\n\nFAIL Integration Tests __tests__/integration/integration-data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-data-generation.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   setupLoadingMocks\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseUnifiedChatStore\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-data-generation.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/integration-health.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-health.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-health.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/login-complete-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/services/websocket mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/services\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m \u001b[90m// Mock implementations\u001b[39m\n     \u001b[90m 66 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/services/websocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useRouter\u001b[33m:\u001b[39m mockUseRouter }))\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/auth/service'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ authService\u001b[33m:\u001b[39m mockAuthService }))\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete-flow.test.tsx:67:6)\n\nFAIL Integration Tests __tests__/integration/initial-state.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\initial-state.test.tsx\u001b[0m:21:1]\n     \u001b[2m18\u001b[0m |   InitialStateTestComponent,\n     \u001b[2m19\u001b[0m |   WebSocketConnectionComponent\n     \u001b[2m20\u001b[0m | } from '../helpers/initial-state-helpers';\n     \u001b[2m21\u001b[0m | import.*from '@/__tests__/helpers/initial-state-storage-helpers';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m22\u001b[0m | import.*from '@/__tests__/helpers/initial-state-mock-components';\n     \u001b[2m23\u001b[0m | \n     \u001b[2m24\u001b[0m | // Setup all mocks\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\initial-state.test.tsx\u001b[0m:22:1]\n     \u001b[2m19\u001b[0m |   WebSocketConnectionComponent\n     \u001b[2m20\u001b[0m | } from '../helpers/initial-state-helpers';\n     \u001b[2m21\u001b[0m | import.*from '@/__tests__/helpers/initial-state-storage-helpers';\n     \u001b[2m22\u001b[0m | import.*from '@/__tests__/helpers/initial-state-mock-components';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m23\u001b[0m | \n     \u001b[2m24\u001b[0m | // Setup all mocks\n     \u001b[2m25\u001b[0m | setupInitialStateMockComponents();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/first-load.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\first-load.test.tsx\u001b[0m:23:1]\n     \u001b[2m20\u001b[0m |   checkPageInteractive,\n     \u001b[2m21\u001b[0m |   FirstLoadTestComponent \n     \u001b[2m22\u001b[0m | } from '../helpers/first-load-helpers';\n     \u001b[2m23\u001b[0m | import.*from '@/__tests__/helpers/first-load-mock-setup';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m24\u001b[0m | \n     \u001b[2m25\u001b[0m | setupFirstLoadMockComponents();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/connection-management-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-management-advanced.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | // Reconnection manager with React synchronization\n     \u001b[2m15\u001b[0m | class ReconnectionManager {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\error-recovery.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import { webSocketService } from '@/services/webSocketService';\n     \u001b[2m15\u001b[0m | import { logger } from '@/lib/logger';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/integration-comprehensive-core.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-comprehensive-helpers' from '__tests__/integration/integration-comprehensive-core.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   setupComprehensiveLLMCacheResponseMocks\u001b[33m,\u001b[39m\n     \u001b[90m 37 |\u001b[39m   setupComprehensiveHealthMock\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   setupComprehensiveDegradedHealthMock\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   createComprehensiveMockTask\u001b[33m,\u001b[39m\n     \u001b[90m 40 |\u001b[39m   queueComprehensiveTask\n     \u001b[90m 41 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-comprehensive-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-comprehensive-core.test.tsx:38:42)\n\nFAIL Integration Tests __tests__/integration/data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\data-generation.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/integration-cache.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-cache.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-cache.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/corpus-management.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\corpus-management.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, screen, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { AgentProvider } from '@/providers/AgentProvider';\n     \u001b[2m12\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/connection-performance.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-performance.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | // Multi-connection manager for performance testing\n     \u001b[2m15\u001b[0m | class MultiConnectionManager {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/comprehensive-integration-elite.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive-integration-elite.test.tsx\u001b[0m:73:1]\n     \u001b[2m70\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n     \u001b[2m71\u001b[0m | \n     \u001b[2m72\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m73\u001b[0m | import.*from '@/__tests__/helpers/test-setup-helpers';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m74\u001b[0m | import {\n     \u001b[2m75\u001b[0m |   createMockDocument,\n     \u001b[2m76\u001b[0m |   createMockSearchResults,\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/comprehensive-integration.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\corpus-management.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, screen, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { AgentProvider } from '@/providers/AgentProvider';\n     \u001b[2m12\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./corpus-management.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./data-generation.test'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./system-management.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./security-auth.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./infrastructure.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./advanced-features.test'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:20:1)\n\nFAIL Integration Tests __tests__/integration/connection-management-core.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-management-core.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | interface ConnectionState {\n     \u001b[2m15\u001b[0m |   status: 'disconnected' | 'connecting' | 'connected' | 'reconnecting' | 'error';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/collaboration-state.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\collaboration-state.test.tsx\u001b[0m:53:1]\n     \u001b[2m50\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m51\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m52\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m53\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m54\u001b[0m | \n     \u001b[2m55\u001b[0m | // Mock fetch\n     \u001b[2m56\u001b[0m | global.fetch = jest.fn();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/auth-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseAuthStore' before initialization\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m   useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseAuthStore (__tests__/integration/auth-flow.test.tsx:17:17)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:52:20)\n\nFAIL Integration Tests __tests__/integration/advanced-features.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\advanced-features.test.tsx\u001b[0m:11:1]\n     \u001b[2m 8\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 9\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m10\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | // Mock fetch\n     \u001b[2m14\u001b[0m | global.fetch = jest.fn();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL Integration Tests __tests__/integration/auth-flow-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/auth-flow-utils' from '__tests__/integration/auth-flow-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 50 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[90m// Now imports\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/auth-flow-refactored.test.tsx:51:24)\n\nFAIL Integration Tests __tests__/auth/login-to-chat-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m The left-hand side of an assignment expression must be a variable or a property access.\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m53\u001b[0m |     token: mockToken\n        `----\n      \u001b[31mx\u001b[0m Invalid assignment target\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m53\u001b[0m |     token: mockToken\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   performLogin\u001b[33m,\u001b[39m\n     \u001b[90m 23 |\u001b[39m   mockUser\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m   mockToken\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./login-to-chat-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Mock dependencies for isolated auth testing\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/auth/login-to-chat-advanced.test.tsx:24:27)\n\nPASS Integration Tests __tests__/integration/message-sending.test.tsx (9.962 s)\n  Message Sending Integration Tests\n    Send Button Interactions\n      \u221a should handle send button click with immediate UI feedback (859 ms)\n      \u221a should handle Enter key sending with same performance (320 ms)\n      \u221a should not send on Shift+Enter (multiline) (474 ms)\n    Optimistic UI Updates\n      \u221a should show message immediately in UI (363 ms)\n      \u221a should clear input field immediately after send (339 ms)\n      \u221a should show sending indicator during transmission (716 ms)\n    Message ID Generation\n      \u221a should generate unique message IDs (784 ms)\n    WebSocket Message Dispatch\n      \u221a should dispatch properly formatted WebSocket message (312 ms)\n      \u221a should include thread ID in WebSocket message (319 ms)\n      \u221a should handle WebSocket connection failures gracefully (289 ms)\n    Success Confirmation\n      \u221a should handle successful message confirmation (310 ms)\n      \u221a should re-enable input after successful send (406 ms)\n    Concurrent Message Handling\n      \u221a should handle rapid successive sends (2321 ms)\n      \u221a should handle concurrent sends from multiple tabs simulation (619 ms)\n    Performance Requirements\n      \u221a should meet latency requirements for send action (328 ms)\n      \u221a should handle large messages efficiently (145 ms)\n      \u221a should maintain 60 FPS during typing simulation (719 ms)\n\nFAIL Integration Tests __tests__/integration/data-fetching-optimistic.test.tsx (62.149 s)\n  Data Fetching - Optimistic Updates\n    \u00d7 immediately shows optimistic update before server confirmation (60115 ms)\n    \u00d7 reverts optimistic update on server error (16 ms)\n    \u00d7 handles optimistic updates for edit operations (4 ms)\n    \u221a handles multiple concurrent optimistic updates (286 ms)\n    \u00d7 maintains order during optimistic operations (3 ms)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a immediately shows optimistic update before server confirmation\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m\n     \u001b[90m 270 |\u001b[39m describe(\u001b[32m'Data Fetching - Optimistic Updates'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m   it(\u001b[32m'immediately shows optimistic update before server confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mOptimisticThreadManager\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 273 |\u001b[39m     \n     \u001b[90m 274 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at it (__tests__/integration/data-fetching-optimistic.test.tsx:271:3)\n      at Object.describe (__tests__/integration/data-fetching-optimistic.test.tsx:270:1)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a reverts optimistic update on server error\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"add-thread\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 300 |\u001b[39m     \n     \u001b[90m 301 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 302 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'add-thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 303 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 304 |\u001b[39m     \n     \u001b[90m 305 |\u001b[39m     \u001b[90m// Should initially show optimistic update\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:302:36)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/integration/data-fetching-optimistic.test.tsx:301:14)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a handles optimistic updates for edit operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"thread-title\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'thread-title'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Original Title'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m     \n     \u001b[90m 352 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 353 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'update-button'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:350:19)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a maintains order during optimistic operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"add-new\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m     \n     \u001b[90m 417 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'add-new'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \n     \u001b[90m 421 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:418:36)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/integration/data-fetching-optimistic.test.tsx:417:14)\n\nFAIL Integration Tests __tests__/auth/auth-token-refresh-auto.test.tsx (61.695 s)\n  Auth Token Refresh Automatic\n    Automatic Token Refresh\n      \u00d7 should refresh token before expiry threshold (44 ms)\n      \u00d7 should update auth store with refreshed token (3 ms)\n      \u00d7 should refresh token on user activity near expiry (60009 ms)\n      \u00d7 should not refresh if token has sufficient time remaining (7 ms)\n    Token Refresh on API Calls\n      \u00d7 should refresh token before making authenticated API calls (19 ms)\n      \u00d7 should retry API call with refreshed token (7 ms)\n      \u00d7 should handle 401 responses by triggering token refresh (7 ms)\n      \u00d7 should prevent multiple concurrent refresh attempts (9 ms)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:131:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:130:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:156:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:154:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 162 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 163 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 164 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 165 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m       createExpiringToken(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 3 minutes until expiry\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:164:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:114:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:35:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:197:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:195:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should refresh token before making authenticated API calls\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 233 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:230:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m         expect(mocks\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 256 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token-refresh-auto.test.tsx:253:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 276 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 277 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:276:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 294 |\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 296 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 297 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 299 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token-refresh-auto.test.tsx:296:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nSummary of all failing tests\nFAIL __tests__/auth/context.token-management.test.tsx\n  \u25cf AuthContext - Token Management \u203a should use existing token from storage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 54 |\u001b[39m   \u001b[36mconst\u001b[39m waitForTokenProcessing \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 55 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 57 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:56:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Token Management \u203a should handle invalid token gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, {\"action\": \"token_validation_failed\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   \u001b[36mconst\u001b[39m expectInvalidTokenHandling \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 74 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m       expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m         \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m \n     \u001b[90m 77 |\u001b[39m         expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 78 |\u001b[39m         {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:75:28)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/auth/auth-session-detection.test.tsx\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should detect expired token on initialization\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mremoveToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:101:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should handle invalid expiry dates gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, ObjectContaining {\"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m         expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m           \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 121 |\u001b[39m           expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:118:30)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should validate token expiry on every check\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:138:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:137:16)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should start session timeout monitoring after login\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 155 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:156:37)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should warn user before session expires\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:172:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:171:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should provide session extension option\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:192:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:190:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should handle session extension failures\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:211:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:209:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should count down remaining session time\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:229:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:227:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle system clock changes gracefully\n\n    TypeError: Date.now.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         renderWithSession()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m         (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m (\u001b[35m24\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1000\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m         advanceTimeBy(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/auth-session-detection.test.tsx:249:33)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:247:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle network failures during session validation\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:272:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:270:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle missing token expiry gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringMatching /missing.*expiry/i, Any<Object>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m         expect(logger\u001b[33m.\u001b[39mwarn)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m           expect\u001b[33m.\u001b[39mstringMatching(\u001b[35m/missing.*expiry/i\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m)\n     \u001b[90m 298 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:295:29)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle browser tab visibility changes\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:315:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:314:16)\n\nFAIL __tests__/integration/comprehensive/collaboration-sync.test.tsx\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:540:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:541:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:542:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      4 of 4 states\n    Received:\n      1 of 1 states\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mInitial state\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"history-info\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m of \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m states\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mPerform Action\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mUndo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mRedo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mClear History\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-undo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-redo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 543 |\u001b[39m   \n     \u001b[90m 544 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 545 |\u001b[39m     expect(getByTestId(\u001b[32m'history-info'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'4 of 4 states'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 546 |\u001b[39m     expect(getByTestId(\u001b[32m'can-undo'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'yes'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 547 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 548 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:545:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should limit history size to prevent memory bloat\n\n    TypeError: Cannot read properties of undefined (reading 'length')\n\n    \u001b[0m \u001b[90m 439 |\u001b[39m \u001b[36mconst\u001b[39m renderHistoryLimitComponent \u001b[33m=\u001b[39m (history\u001b[33m:\u001b[39m string[]\u001b[33m,\u001b[39m limitReached\u001b[33m:\u001b[39m boolean\u001b[33m,\u001b[39m addMany\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 440 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 441 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"history-size\"\u001b[39m\u001b[33m>\u001b[39m{history\u001b[33m.\u001b[39mlength} items\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 442 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"limit-reached\"\u001b[39m\u001b[33m>\u001b[39m{limitReached \u001b[33m?\u001b[39m \u001b[32m'yes'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'no'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 443 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{addMany}\u001b[33m>\u001b[39m\u001b[33mAdd\u001b[39m \u001b[33mMany\u001b[39m \u001b[33mActions\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 444 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at length (__tests__/integration/comprehensive/collaboration-sync.test.tsx:441:46)\n      at renderHistoryLimitComponent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:202:12)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:569:13)\n      at Object.testHistoryLimit (__tests__/integration/comprehensive/collaboration-sync.test.tsx:106:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Real-time Synchronization \u203a should handle network interruptions gracefully\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      0 queued\n    Received:\n      3 queued\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"network-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mdisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queued-changes\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m queued\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSimulate Network Issue\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 603 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 604 |\u001b[39m     expect(getByTestId(\u001b[32m'network-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 605 |\u001b[39m     expect(getByTestId(\u001b[32m'queued-changes'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0 queued'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 606 |\u001b[39m   }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mSHORT\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 607 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:605:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/auth/context.auth-operations.test.tsx\n  \u25cf AuthContext - Auth Operations \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[90m// Wait for the login action to complete\u001b[39m\n     \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     expect(mockAuthService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:134:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 179 |\u001b[39m     \u001b[90m// Wait for logout methods to be called\u001b[39m\n     \u001b[90m 180 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 181 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 182 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 184 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.auth-operations.test.tsx:181:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 205 |\u001b[39m     \u001b[90m// Wait for dev logout flag and logout methods to be called\u001b[39m\n     \u001b[90m 206 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 208 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 210 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:207:48)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/api-calls-advanced.test.tsx\n  \u25cf API Calls - Request Interceptors \u203a retries spec fetching on failure\n\n    expect(received).resolves.toBeDefined()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: response.clone is not a function]\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m     \u001b[90m// Should eventually succeed after retry\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       apiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'retry_test'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\n     \u001b[90m 239 |\u001b[39m     )\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:2116:15)\n      at Object.expect (__tests__/integration/api-calls-advanced.test.tsx:237:11)\n\nFAIL __tests__/services/apiClient.test.ts (5.405 s)\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a includes auth token from localStorage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:68:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a falls back to sessionStorage when localStorage empty\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer session-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:76:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a handles missing auth tokens gracefully\n\n    expect(received).toBeUndefined()\n\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 501 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 502 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 503 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 504 |\u001b[39m }\n     \u001b[90m 505 |\u001b[39m\n     \u001b[90m 506 |\u001b[39m \u001b[36mfunction\u001b[39m expectMethodCall(method\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedUrl\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m data\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) {\u001b[0m\n\n      at toBeUndefined (__tests__/services/apiClient.test.ts:503:33)\n      at Object.expectNoAuthHeaders (__tests__/services/apiClient.test.ts:84:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Retry Logic with Exponential Backoff \u203a handles intermittent network failures gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m\n     \u001b[90m 322 |\u001b[39m     \u001b[36mfunction\u001b[39m verifyIntermittentFailureRecovery(result\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(result\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mrecovered)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m     }\n     \u001b[90m 325 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:323:37)\n      at Object.verifyIntermittentFailureRecovery (__tests__/services/apiClient.test.ts:304:7)\n\nFAIL __tests__/integration/store-persistence.test.tsx\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a handles large message history persistence efficiently\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       \n     \u001b[90m 219 |\u001b[39m       \u001b[90m// Verify localStorage can handle large data\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockLocalStorage\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n     \u001b[90m 222 |\u001b[39m       \u001b[90m// Check performance of persistence operation\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/store-persistence.test.tsx:220:40)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a implements storage quota management\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1\n    Received:\n      0\n\n    \u001b[0m \u001b[90m 245 |\u001b[39m       \n     \u001b[90m 246 |\u001b[39m       \u001b[90m// Verify graceful handling of quota issues\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 247 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 250 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:247:52)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a synchronizes state changes across browser tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \n     \u001b[90m 261 |\u001b[39m       \u001b[90m// Simulate storage event from another tab\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 264 |\u001b[39m         newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 265 |\u001b[39m           state\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:262:28)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a prevents infinite sync loops between tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \u001b[90m// Simulate multiple rapid storage events\u001b[39m\n     \u001b[90m 300 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m         \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m           key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m           newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 304 |\u001b[39m             state\u001b[33m:\u001b[39m { user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m`user-${i}`\u001b[39m }\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m`token-${i}`\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:301:30)\n\n  \u25cf Store Persistence Integration Tests \u203a Migration and Versioning \u203a handles legacy state format migration\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      none\n    Received:\n      test-thread-123\n\n    \u001b[0m \u001b[90m 331 |\u001b[39m       \u001b[90m// Verify app handles legacy format gracefully\u001b[39m\n     \u001b[90m 332 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 333 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-thread'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'none'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 334 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 335 |\u001b[39m\n     \u001b[90m 336 |\u001b[39m     it(\u001b[32m'maintains backwards compatibility with older versions'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:333:51)\n\nFAIL __tests__/integration/critical/websocket-auth-headers.test.tsx\n  \u25cf WebSocket Authentication Headers (SECURITY VERIFICATION) \u203a Secure Connection Endpoint \u203a should handle authentication errors from secure endpoint\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      CLOSED\n    Received:\n      OPEN\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m\n     \u001b[90m 323 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'ws-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Frontend should properly handle auth errors\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/critical/websocket-auth-headers.test.tsx:324:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/task-processing-basic.test.tsx\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 71 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 73 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-456'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 74 |\u001b[39m     \n     \u001b[90m 75 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 76 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:73:42)\n\n  \u25cf Background Task Processing \u203a should handle priority task queuing\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-high-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-normal-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     \n     \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:120:42)\n\nFAIL __tests__/integration/login-websocket-setup.test.tsx\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should handle WebSocket authentication rejection\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should validate token format before WebSocket connection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:280:47)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should validate token format before WebSocket connection\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"ws://localhost:8082/ws?token=invalid.token.format\", {\"token\": \"invalid.token.format\", \"userId\": \"user_1755878488668_s66k3mfe6\"}\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m       \n     \u001b[90m 289 |\u001b[39m       \u001b[90m// Should not attempt WebSocket connection with invalid token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'auth-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:290:48)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should track connection states accurately\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      disconnected\n    Received:\n      connecting\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \n     \u001b[90m 300 |\u001b[39m       \u001b[90m// Initial state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'connection-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m       \n     \u001b[90m 303 |\u001b[39m       \u001b[90m// During connection\u001b[39m\n     \u001b[90m 304 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/login-websocket-setup.test.tsx:301:54)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should maintain auth state during WebSocket operations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: {\"access_token\": \"token_1755878488668_bdc5sgvdg\", \"expires_in\": 3600, \"refresh_token\": \"refresh_1755878488668\", \"token_type\": \"bearer\", \"user\": \"user_1755878488668_s66k3mfe6\"}\n    Received: \"[object Object]\"\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m       \n     \u001b[90m 348 |\u001b[39m       \u001b[90m// Verify auth state persists through WebSocket connection\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m       expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'jwt_token'\u001b[39m))\u001b[33m.\u001b[39mtoBe(validToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/login-websocket-setup.test.tsx:349:49)\n\nFAIL __tests__/integration/error-handling-core.test.tsx\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 404 Not Found errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Resource not found\n    Received:\n      Error: HTTP 404: Not Found\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Resource not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'404'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:376:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 401 Unauthorized errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Unauthorized access\n    Received:\n      Error: HTTP 401: Unauthorized\n\n    \u001b[0m \u001b[90m 385 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 386 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 387 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Unauthorized access'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 388 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m\n     \u001b[90m 390 |\u001b[39m   it(\u001b[32m'handles 403 Forbidden errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:387:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 422 Validation errors with details\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Validation failed\n    Received:\n      Error: HTTP 422: Unprocessable Entity\n\n    \u001b[0m \u001b[90m 403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 404 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 405 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Validation failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 406 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m\n     \u001b[90m 408 |\u001b[39m   it(\u001b[32m'handles 429 Rate Limiting errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:405:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 429 Rate Limiting errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'429'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 426 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:424:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 500 Internal Server errors with retry\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 449 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 450 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 451 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 452 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'500'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 454 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:451:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 502 Bad Gateway errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/bad-gateway`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'502'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:459:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 503 Service Unavailable errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 465 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/service-unavailable`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 466 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 467 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 468 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'503'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:467:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a allows manual retry after failure\n\n    Unable to find an element by: [data-testid=\"error-display\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 473 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/server-error`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 475 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 476 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-display'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 478 |\u001b[39m     \u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:475:18)\n\nFAIL __tests__/integration/error-handling-retry.test.tsx\n  \u25cf Error Handling - Retry Logic \u203a retries failed requests with exponential backoff\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Retry 1\n    Received:\n      Retry 2\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-test-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStart Request\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mRetry \u001b[0m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m     \n     \u001b[90m 394 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Retry 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     \n     \u001b[90m 398 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:395:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Error Handling - Request Cancellation \u203a cancels ongoing requests\n\n    Unable to find an element by: [data-testid=\"error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancellable-request\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mStart Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancel-request\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCancel Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLoading...\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cancel-request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Request cancelled'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 512 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-retry.test.tsx:510:18)\n\n  \u25cf Error Handling - Timeout Handling \u203a handles request timeouts correctly\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Timeout\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"timeout-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"fast-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFast Timeout (100ms)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"slow-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSlow Timeout (10s)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"result\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m     \n     \u001b[90m 586 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'result'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Timeout'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 590 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:587:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/integration/data-fetching-pagination.test.tsx\n  \u25cf Data Fetching - Pagination \u203a disables navigation buttons appropriately\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"next-page\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 325 |\u001b[39m     }\n     \u001b[90m 326 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 327 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'next-page'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 328 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m   it(\u001b[32m'jumps to first page correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-pagination.test.tsx:327:19)\n\nFAIL __tests__/auth/context.dev-mode.test.tsx (6.587 s)\n  \u25cf AuthContext - Development Mode \u203a should auto-login in development mode when not logged out\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m   \u001b[36mconst\u001b[39m expectDevLogin \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (devConfig\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n     \u001b[90m 62 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m     }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[35m3000\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.dev-mode.test.tsx:63:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Development Mode \u203a should skip auto-login if user has logged out in dev mode\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Skipping auto dev login - user has logged out\", {\"action\": \"auto_dev_login_skipped\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m   \u001b[36mconst\u001b[39m expectSkipMessage \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m       expect(logger\u001b[33m.\u001b[39minfo)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m         \u001b[32m'Skipping auto dev login - user has logged out'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 92 |\u001b[39m         {\n     \u001b[90m 93 |\u001b[39m           component\u001b[33m:\u001b[39m \u001b[32m'AuthContext'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.dev-mode.test.tsx:90:27)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Development Mode \u203a should handle dev login failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m   \u001b[36mconst\u001b[39m expectNoAuthUpdate \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 114 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.dev-mode.test.tsx:115:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/basic-integration-data.test.tsx (7.02 s)\n  \u25cf Data Flow Integration Tests \u203a WebSocket Connection \u203a should establish WebSocket connection\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:56:30)\n\n  \u25cf Data Flow Integration Tests \u203a WebSocket Connection \u203a should handle WebSocket messages\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:78:30)\n\n  \u25cf Data Flow Integration Tests \u203a Chat Functionality \u203a should handle streaming messages\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the websocket server to receive a message,\n    but it didn't receive anything in 1000ms.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:121:30)\n\n  \u25cf Data Flow Integration Tests \u203a Thread Management \u203a should delete threads\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 threads\n    Received:\n      2 threads\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m2\u001b[0m\n              \u001b[0m threads\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<span>\u001b[39m\n                \u001b[0mNew Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mDelete\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<span>\u001b[39m\n                \u001b[0mTest Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mDelete\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Data Flow Integration Tests \u203a Agent Integration \u203a should handle agent messages through WebSocket\n\n    expect(WS).toReceiveMessage(expected)\n\n    Expected the next received message to equal:\n      Any<Object>\n    Received:\n      \"{\\\"type\\\":\\\"start_agent\\\",\\\"task\\\":\\\"analyze\\\"}\"\n\n    Difference:\n\n      Comparing two different types of values. Expected object but received string.\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m waitForConnection(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m)\u001b[33m:\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[36mvoid\u001b[39m\u001b[33m>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m expect(server)\u001b[33m.\u001b[39mtoReceiveMessage(expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m }\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m sendMessage(server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string \u001b[33m=\u001b[39m \u001b[32m'test-thread'\u001b[39m)\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\u001b[0m\n\n      at toReceiveMessage (__tests__/integration/helpers/websocket-helpers.ts:9:24)\n      at Object.<anonymous> (__tests__/integration/basic-integration-data.test.tsx:220:30)\n\n  \u25cf Data Flow Integration Tests \u203a State Synchronization \u203a should sync state between components\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 messages\n    Received:\n      2 messages\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<button>\u001b[39m\n                \u001b[0mSend from A\u001b[0m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"messages-a\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m2\u001b[0m\n                \u001b[0m messages\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"messages-b\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mTest message\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mFrom Component A\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/first-load-edge-cases.test.tsx\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\nFAIL __tests__/integration/first-load-performance.test.tsx\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\nFAIL __tests__/integration/thread-navigation.test.tsx (7.583 s)\n  \u25cf Thread Navigation Integration Tests \u203a Thread Switching Performance \u203a should handle rapid thread switching without state corruption\n\n    expect(element).toHaveClass(\"bg-emerald-50\")\n\n    Expected the element to have class:\n      bg-emerald-50\n    Received:\n      w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m       \n     \u001b[90m 91 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m         expect(thread3)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-emerald-50'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m\u001b[0m\n\n      at toHaveClass (__tests__/integration/thread-navigation.test.tsx:92:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should update URL when thread is selected\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m         expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 139 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:136:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should preserve URL state across navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m       \u001b[36mawait\u001b[39m user\u001b[33m.\u001b[39mclick(thread2)\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 171 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:168:31)\n\n  \u25cf Thread Navigation Integration Tests \u203a Multi-Session Synchronization \u203a should handle concurrent thread modifications\n\n    Unable to find an element with the text: /bg-emerald-50/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n          \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNew Chat\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<circle\u001b[39m\n                  \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mAI Optimization Discussion\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m15\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mPerformance Analysis\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m8\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mData Processing Pipeline\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m32\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<p\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m conversation\u001b[0m\n              \u001b[0ms\u001b[0m\n            \u001b[36m</p>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m       \n     \u001b[90m 323 |\u001b[39m       \u001b[90m// Should resolve to a consistent state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         \u001b[36mconst\u001b[39m activeThreads \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByText(\u001b[35m/bg-emerald-50/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m         expect(activeThreads\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-navigation.test.tsx:324:20)\n\nFAIL __tests__/integration/analytics-realtime.test.tsx\n  \u25cf Real-time Metrics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m         simulateWebSocketMessage(handleMessage\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metrics_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 45 |\u001b[39m           metrics\u001b[33m:\u001b[39m { requests_per_second\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m }\n     \u001b[90m 46 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:43:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:58:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle metric streaming\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m         simulateWebSocketMessage(handleStreamUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_stream'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 82 |\u001b[39m           metric\u001b[33m:\u001b[39m { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m value\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m }\n     \u001b[90m 83 |\u001b[39m         }\u001b[33m,\u001b[39m \u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:80:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:98:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle real-time dashboard updates\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 213 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 215 |\u001b[39m         simulateWebSocketMessage(handleDashboardUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 216 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'dashboard_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m           dashboard\u001b[33m:\u001b[39m {\n     \u001b[90m 218 |\u001b[39m             active_users\u001b[33m:\u001b[39m \u001b[35m1250\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:215:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:237:35)\n\n  \u25cf Real-time Metrics Integration \u203a should implement metric alerting thresholds\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 258 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 260 |\u001b[39m         simulateWebSocketMessage(handleAlert\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 261 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_alert'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 262 |\u001b[39m           alert\u001b[33m:\u001b[39m {\n     \u001b[90m 263 |\u001b[39m             metric\u001b[33m:\u001b[39m \u001b[32m'error_rate'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:260:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:278:35)\n\nFAIL __tests__/integration/first-load-bundle.test.tsx\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m\n     \u001b[90m 92 |\u001b[39m     \u001b[36mfunction\u001b[39m expectAuthTokenSent() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m })\n     \u001b[90m 95 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m     }\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:93:34)\n      at expectAuthTokenSent (__tests__/services/webSocketService.test.ts:89:7)\n      at Object.expectSuccessfulConnection (__tests__/services/webSocketService.test.ts:67:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: Connection failed]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755878491931,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m     \u001b[36mfunction\u001b[39m expectErrorHandling(statusHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m errorHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m error\u001b[33m:\u001b[39m \u001b[33mError\u001b[39m) {\n     \u001b[90m 123 |\u001b[39m       expect(statusHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       expect(errorHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     }\n     \u001b[90m 126 |\u001b[39m\n     \u001b[90m 127 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:124:28)\n      at Object.expectErrorHandling (__tests__/services/webSocketService.test.ts:102:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39mclose)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m\n     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/services/webSocketService.test.ts:133:35)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:170:28)\n      at Object.simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:148:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m       \u001b[90m// Should send auth token and queued messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message1))\u001b[33m;\u001b[39m\n     \u001b[90m 245 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message2))\u001b[33m;\u001b[39m\n     \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:243:34)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: [0, 0, 0, 0, 0, 0, 0, 0]\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 302 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monmessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(messageEvent)\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 304 |\u001b[39m       expect(onBinaryMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(binaryData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 305 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 306 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:304:31)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should attempt reconnection when onReconnect is provided\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:317:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should not attempt reconnection without onReconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:331:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should cancel reconnection on explicit disconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:348:28)\n\n  \u25cf webSocketService \u203a Heartbeat Mechanism \u203a should send heartbeat messages at configured interval\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n    Received: \"{\\\"type\\\":\\\"ping\\\",\\\"timestamp\\\":1755878522099}\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:372:34)\n\n  \u25cf webSocketService \u203a Rate Limiting \u203a should reset rate limit window over time\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msendMessage({ type\u001b[33m:\u001b[39m \u001b[32m'test2'\u001b[39m\u001b[33m,\u001b[39m payload\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \n     \u001b[90m 433 |\u001b[39m       \u001b[90m// Advance time past window\u001b[39m\n     \u001b[90m 434 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m1100\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/services/webSocketService.test.ts:431:34)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle WebSocket errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: WebSocket error]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755878492121,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monerror\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(error \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       expect(onStatusChange)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:454:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle connection failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: Any<Error>\n    Received: {\"code\": 1000, \"message\": \"Failed to create WebSocket\", \"recoverable\": true, \"timestamp\": 1755878492125, \"type\": \"connection\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 466 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m\u001b[33m,\u001b[39m { onError })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 468 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:468:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle message sending errors\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Send failed\"\n\n        \u001b[0m \u001b[90m 476 |\u001b[39m       \u001b[90m// Make send throw an error\u001b[39m\n         \u001b[90m 477 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 479 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 480 |\u001b[39m       \n         \u001b[90m 481 |\u001b[39m       \u001b[90m// Should not throw when sending message\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:478:15)\n      at WebSocketService.send (services/webSocketService.ts:886:15)\n      at WebSocketService.send [as sendMessage] (services/webSocketService.ts:894:10)\n      at sendMessage (__tests__/services/webSocketService.test.ts:483:26)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n\n  \u25cf webSocketService \u203a State Management \u203a should track connection state accurately\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:499:28)\n\n  \u25cf webSocketService \u203a State Management \u203a should track reconnecting state\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:511:28)\n\nFAIL __tests__/integration/role-based-access.test.tsx\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should redirect unauthorized users from admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 151 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupUnauthorizedUserRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 153 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m attemptAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \n     \u001b[90m 156 |\u001b[39m       expectAccessDenied()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:153:13)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should allow enterprise users to access admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupAuthorizedAdminRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m verifyAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m       expectAdminInterfaceRendered()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:163:13)\n\nFAIL __tests__/auth/logout-state-cleanup-complete.test.tsx\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should clear refresh token completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove session tokens from sessionStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear user object from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear token from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset all auth store state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove user preferences from storage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should clear cached user data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove remember me settings\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should preserve non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear all user-specific data from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset error states to prevent leaks\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset loading states completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear cached API responses\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should complete cleanup within 100ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should not block UI during cleanup\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should handle rapid logout requests efficiently\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should maintain consistent cleanup time under load\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\nFAIL __tests__/integration/api-calls-basic.test.tsx\n  \u25cf API Calls - POST Requests \u203a includes correct headers in POST requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 204 |\u001b[39m     \u001b[36mawait\u001b[39m apiClient\u001b[33m.\u001b[39mpost(\u001b[32m'create_thread'\u001b[39m\u001b[33m,\u001b[39m { title\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m }\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 206 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 207 |\u001b[39m     expect(capturedHeaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/json'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:206:46)\n\n  \u25cf API Calls - PUT Requests \u203a handles PUT request with complex data\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"metadata\": {\"priority\": 1, \"settings\": {\"auto_save\": true}, \"tags\": [\"test\", \"integration\"]}, \"title\": \"Complex Update\"}\n    Received: null\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m     expect(capturedBody)\u001b[33m.\u001b[39mtoEqual(complexData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/integration/api-calls-basic.test.tsx:283:26)\n\n  \u25cf API Calls - DELETE Requests \u203a includes auth header in DELETE requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer delete-token\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 315 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 316 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 317 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer delete-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 318 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:317:46)\n\nFAIL __tests__/auth/logout-security.test.tsx\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove refresh token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove session ID from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove user preferences from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove cached user data from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove remember me flag from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should not affect non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove session cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove remember me cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should preserve non-auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should replace history state after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should prevent navigation to authenticated pages\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should clear browser navigation state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should ensure no cached authenticated state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should not leave sensitive data in memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear all authentication artifacts\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should ensure complete session termination\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear permissions and role data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset all error states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset loading states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should clear any cached authentication state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should ensure fresh authentication flow on next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should set authenticated status to false\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear user identity information\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear role and permissions\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should ensure no sensitive data remains in DOM\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\nFAIL __tests__/integration/critical/websocket-auth.test.tsx\n  \u25cf WebSocket and Authentication Integration \u203a WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"new-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 59 |\u001b[39m       \n     \u001b[90m 60 |\u001b[39m       \u001b[36mawait\u001b[39m flushPromises()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 61 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'new-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 62 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical/websocket-auth.test.tsx:61:45)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:73:7)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:84:7)\n\nFAIL __tests__/integration/thread-creation-advanced.test.tsx\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a focuses message input after thread creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a positions cursor at start of input\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a clears any existing draft content\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a maintains focus after thread switch\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents duplicate threads on double-click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents rapid clicking during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a uses unique thread IDs for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a handles race conditions correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a allows retry after network failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a handles timeout errors gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a shows appropriate error messages\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a preserves user context after error\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles creation during high CPU load\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a works with slow network conditions\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles memory constraints gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a prevents accidental double-tap creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a handles touch gestures correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a works with virtual keyboard open\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\nFAIL __tests__/integration/websocket-performance.test.tsx\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestutils.AdvancedWebSocketTester is not a constructor\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n     \u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m createWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/websocket-performance.test.tsx:25:22)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\nFAIL __tests__/services/demoService.test.ts\n  \u25cf DemoService \u203a Authentication Handling \u203a should include auth header when token exists\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectContaining {\"Authorization\": \"Bearer valid-token\"}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 132 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 133 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:130:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should handle requests without auth token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectNotContaining {\"Authorization\": Any<String>}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 150 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 151 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:148:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should redirect to login on 401 response\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Unauthorized\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:164:66)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should not redirect on other error codes\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to send demo chat message: Server Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:175:66)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle ROI calculation server errors gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Calculation Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:270:63)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle malformed ROI input data\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Bad Request\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:282:70)\n\n  \u25cf DemoService \u203a Report Export - Enterprise Feature \u203a should handle export failures gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to export report: Service Unavailable\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:424:69)\n\n  \u25cf DemoService \u203a Session Management \u203a should handle session status for non-existent session\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to get session status: Session Not Found\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:466:77)\n\nFAIL __tests__/integration/logout-flow-core.test.tsx\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should trigger logout when button is clicked\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should call auth store logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should redirect to login page after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should call auth service logout API\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should complete logout within 500ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should handle logout errors gracefully\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should set dev logout flag in development mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should still perform standard logout in dev mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should handle auth service errors during logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should complete logout even with partial failures\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should use replace instead of push for security\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure no sensitive data remains after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure clean state for next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\nFAIL __tests__/integration/logout-websocket.test.tsx\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should disconnect WebSocket on logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should verify WebSocket is disconnected\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should clear WebSocket message queue\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should handle WebSocket disconnection errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure WebSocket connection is terminated\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should prevent new WebSocket messages after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should clear any pending WebSocket operations\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure clean WebSocket state for next session\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete WebSocket disconnect within 25ms\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should not block logout process if WebSocket fails\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should handle WebSocket timeout gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete logout even if WebSocket is slow\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket disconnect errors gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket state check errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should continue logout process despite WebSocket errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should log WebSocket errors without blocking logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure no WebSocket connections remain active\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should prevent unauthorized WebSocket access after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should clear any WebSocket authentication tokens\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure complete WebSocket session termination\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\nFAIL __tests__/integration/thread-creation.test.tsx\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a successfully creates thread with valid API response\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a handles API failure gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a creates thread with < 300ms response time requirement\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a includes authentication token in API request\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a generates unique thread ID for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows thread immediately in sidebar\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows creating state during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a reverts optimistic update on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a adds new thread to sidebar list immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a highlights new thread as active\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a navigates to new thread URL immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a shows error message on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a fires thread_creation_started event on click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\nFAIL __tests__/integration/critical/websocket-token-refresh-working.test.tsx\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should correctly parse JWT token expiry\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 158 |\u001b[39m       \n     \u001b[90m 159 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 160 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 161 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Verify WebSocket connection was attempted with the token\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:160:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should detect expiring tokens and setup refresh timer\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 184 |\u001b[39m       \n     \u001b[90m 185 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 186 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 187 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 188 |\u001b[39m\n     \u001b[90m 189 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:186:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should queue messages during token refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m       \n     \u001b[90m 228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:229:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should handle token refresh on authentication failure\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \n     \u001b[90m 271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[90m// Simulate connection opening first\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:272:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Synchronization \u203a should update WebSocket when auth context token changes\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 320 |\u001b[39m       \n     \u001b[90m 321 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 322 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[90m// Update the token in auth context\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:322:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Message Handling During Refresh \u203a should process pending messages after successful refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       \n     \u001b[90m 362 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:363:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/auth/auth-token.test.ts\n  \u25cf Auth Token Management \u203a getToken \u203a should return null when no token exists\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[90m// Accept the current behavior - if localStorage is mocked to return null, that's what we should get\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m\n     \u001b[90m 70 |\u001b[39m     it(\u001b[32m'should return empty string as null'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/auth/auth-token.test.ts:67:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return empty string as null\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"\"\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \n     \u001b[90m 73 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m\n     \u001b[90m 77 |\u001b[39m     it(\u001b[32m'should handle localStorage errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:74:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should handle localStorage errors gracefully\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 80 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 82 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 83 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:82:44)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object when no token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:102:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object for empty token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:111:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle long tokens\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:121:24)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle special characters in token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer token.with-special_chars123!@#\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:131:24)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should remove token from localStorage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m     it(\u001b[32m'should handle removing non-existent token'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:139:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle removing non-existent token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m     it(\u001b[32m'should handle localStorage errors on removal'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:147:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle localStorage errors on removal\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 153 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 155 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mremoveToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:155:47)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle rapid token operations\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 3\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m\n     \u001b[90m 172 |\u001b[39m   \u001b[36mconst\u001b[39m verifyRapidTokenResults \u001b[33m=\u001b[39m (token1\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m token2\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m     expect(token1)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     expect(token2)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 176 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token.test.ts:173:49)\n      at Object.verifyRapidTokenResults (__tests__/auth/auth-token.test.ts:240:7)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle token lifecycle\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 178 |\u001b[39m   \u001b[36mconst\u001b[39m verifyInitialNoTokenState \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 179 |\u001b[39m     testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mgetItem\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 180 |\u001b[39m     expect(authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 181 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m   \u001b[36mconst\u001b[39m setTokenAndVerify \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toBeNull (__tests__/auth/auth-token.test.ts:180:36)\n      at Object.verifyInitialNoTokenState (__tests__/auth/auth-token.test.ts:244:7)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should return auth context when used within provider\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"$$typeof\": Symbol(react.context), \"Consumer\": {\"$$typeof\": Symbol(react.consumer), \"_context\": [Circular]}, \"Provider\": [Circular], \"_currentRenderer\": null, \"_currentRenderer2\": null, \"_currentValue\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_currentValue2\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_threadCount\": 0}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       expect(mockUseContext)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mAuthContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:272:30)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should throw error when used outside provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should handle null context'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:280:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle null context\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m\n     \u001b[90m 290 |\u001b[39m     it(\u001b[32m'should return context with all required properties'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:287:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle loading state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result\u001b[33m.\u001b[39mloading)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:311:30)\n\nFAIL __tests__/integration/websocket-lifecycle.test.tsx\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at WebSocketTestManager.cleanup [as setup] (__tests__/helpers/websocket-test-manager.ts:65:10)\n      at Object.setup (__tests__/integration/websocket-lifecycle.test.tsx:31:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: this.stateManager.clearHistory is not a function\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mserver \u001b[33m=\u001b[39m undefined\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mstateManager\u001b[33m.\u001b[39mclearHistory()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconnectionHistory \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m     safeCleanup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at WebSocketTestManager.clearHistory [as cleanup] (__tests__/helpers/websocket-test-manager.ts:130:23)\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\nFAIL __tests__/auth/auth-security.test.ts\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should sanitize email input in dev login\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"http://localhost:8081/auth/dev/login\", ObjectContaining {\"body\": \"{\\\"email\\\":\\\"dev@example.com\\\"}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mhandleDevLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m         mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mdev_login\u001b[33m,\u001b[39m\n     \u001b[90m 76 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 77 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-security.test.ts:74:33)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should clear sensitive data on logout\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m validateSecureLogout(localStorageMock\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m   expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 185 |\u001b[39m }\n     \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-test-utils.ts:184:39)\n      at Object.<anonymous> (__tests__/auth/auth-security.test.ts:90:27)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle token with potential XSS content\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer <script>alert(\\\"xss\\\")</script>\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${xssToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m       expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(headers))\u001b[33m.\u001b[39mtoEqual([\u001b[32m'Authorization'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       \n     \u001b[90m 104 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:101:37)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle SQL injection attempts in token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer '; DROP TABLE users; --\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${sqlToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \n     \u001b[90m 118 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 119 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:116:37)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 401 unauthorized response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 145 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 146 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:143:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 403 forbidden response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 163 |\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 165 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 166 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 168 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:165:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 404 not found response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 185 |\u001b[39m\n     \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 188 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 189 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 190 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:187:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 500 server error\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m\n     \u001b[90m 208 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 211 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 212 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:209:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on timeout errors\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 233 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 234 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:231:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on rate limiting (429)\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 255 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 256 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:253:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocationUtils\u001b[33m.\u001b[39mgetMockHref())\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m     it(\u001b[32m'should handle malformed config objects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-security.test.ts:283:51)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle network instability with retry and fallback\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[90m// Auth service retries then falls back to offline config\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 313 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 314 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:311:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle empty response bodies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 331 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 332 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 333 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 334 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:331:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should fallback to offline config on response with wrong content type\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 351 |\u001b[39m\n     \u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 354 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 355 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 356 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:353:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle localStorage unavailable\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage is not available\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 383 |\u001b[39m\n     \u001b[90m 384 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 385 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage is not available'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 386 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 387 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-security.test.ts:385:10)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle rapid successive calls\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m       \n     \u001b[90m 399 |\u001b[39m       results\u001b[33m.\u001b[39mforEach(result \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m         expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m           \u001b[33m...\u001b[39mmockAuthConfig\u001b[33m,\u001b[39m\n     \u001b[90m 402 |\u001b[39m           google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 403 |\u001b[39m           authorized_redirect_uris\u001b[33m:\u001b[39m [\u001b[32m'http://localhost:3000/auth/callback'\u001b[39m]\u001b[0m\n\n      at toEqual (__tests__/auth/auth-security.test.ts:400:24)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/auth/auth-security.test.ts:399:15)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle memory pressure scenarios\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 417 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${largeToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \n     \u001b[90m 420 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 421 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:418:37)\n\nFAIL __tests__/auth/auth-components-states.test.tsx\n  \u25cf Auth Components States \u203a Logged Out State \u203a should render login button when user is not authenticated\n\n    expect(element).toHaveAttribute(\"data-size\", \"lg\") // element.getAttribute(\"data-size\") === \"lg\"\n\n    Expected the element to have attribute:\n      data-size=\"lg\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m       \u001b[36mconst\u001b[39m button \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Login with Google'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'lg'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m\n     \u001b[90m 79 |\u001b[39m     it(\u001b[32m'should call login function when login button is clicked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:76:22)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should show DEV MODE badge in development mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"secondary\") // element.getAttribute(\"data-variant\") === \"secondary\"\n\n    Expected the element to have attribute:\n      data-variant=\"secondary\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 180 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-100'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text-yellow-800'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 182 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'secondary'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 183 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 184 |\u001b[39m\n     \u001b[90m 185 |\u001b[39m     it(\u001b[32m'should render both logout and OAuth login buttons in dev mode'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:182:21)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style logout button as outline variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"outline\") // element.getAttribute(\"data-variant\") === \"outline\"\n\n    Expected the element to have attribute:\n      data-variant=\"outline\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m logoutButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Logout'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'outline'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 199 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:196:28)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style OAuth login button as default variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"default\") // element.getAttribute(\"data-variant\") === \"default\"\n\n    Expected the element to have attribute:\n      data-variant=\"default\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m\n     \u001b[90m 203 |\u001b[39m       \u001b[36mconst\u001b[39m oauthButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'OAuth Login'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'default'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:204:27)\n\nFAIL __tests__/integration/critical/websocket-cors-validation.test.tsx\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should include proper Origin header in WebSocket connection\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should handle CORS validation failure gracefully\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should not attempt connection from invalid origins\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed development origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed production origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should handle subdomain restrictions properly\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle mixed content scenarios (HTTP to HTTPS)\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should validate referrer policies\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle iframe embedding restrictions\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should respect Content Security Policy for WebSocket connections\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should handle Sec-Fetch-Site header validation\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should validate against XSS injection in WebSocket URLs\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide actionable CORS error messages\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should not retry CORS-blocked connections indefinitely\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide fallback options for CORS issues\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\nFAIL __tests__/integration/caching-integration.test.tsx\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'cached data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     \n     \u001b[90m 60 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 61 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:58:43)\n\n  \u25cf Redis Caching Integration \u203a should handle cache misses\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'fresh data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \n     \u001b[90m 104 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 105 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:102:43)\n\nFAIL __tests__/services/threadService.test.ts\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"New Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:121:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {},\n          \"participants\": Array [\n            \"user1\",\n          ],\n    @@ -12,7 +11,6 @@\n            \"test\",\n          ],\n          \"title\": \"Test Thread\",\n        },\n        \"title\": \"Priority Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:131:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread without title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:144:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"Updated Title\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:162:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with metadata only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"bookmarked\": true,\n        },\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:176:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with both title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {\n            \"urgency\": \"high\",\n          },\n          \"participants\": Array [\n    @@ -16,7 +15,6 @@\n            \"important\",\n          ],\n          \"title\": \"Urgent Thread\",\n        },\n        \"title\": \"Urgent Task\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:189:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with default pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"limit\": 50}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 50, \"offset\": 0}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:232:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with custom pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"cursor\": 20, \"limit\": 10}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 10, \"offset\": 20}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:242:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a handles empty message history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 0\n    Received: undefined\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m\n     \u001b[90m 256 |\u001b[39m     test(\u001b[32m'handles messages API failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/services/threadService.test.ts:253:28)\n\nFAIL __tests__/integration/database-integration.test.tsx\n  \u25cf Database Transaction Integration \u203a should handle database transactions\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mtrue\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     \n     \u001b[90m 260 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 261 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:258:49)\n\n  \u25cf Database Transaction Integration \u203a should handle transaction rollbacks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 306 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 308 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mfalse\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 309 |\u001b[39m     \n     \u001b[90m 310 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 311 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:308:49)\n\nFAIL __tests__/integration/error-context-tracing.test.tsx\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: (0 , _infrastructuretestutils.createMockErrorResponse) is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     setupFetchMock(createMockErrorResponse(\u001b[32m'Internal server error'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'trace-789'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m     \n     \u001b[90m 67 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 68 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/error-context-tracing.test.tsx:65:43)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testInteractionDebouncing\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n      __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/index.test.tsx:11:1)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/websocket-resilience.test.tsx'\n\n    \u001b[0m \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./components/websocket-components'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 30 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/websocket-resilience.test.tsx:27:20)\n\nFAIL __tests__/integration/critical/error-recovery-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/test-mock-helpers' from '__tests__/integration/critical/error-recovery-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[90m// Import test utilities\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/setup/test-providers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m \u001b[36mimport\u001b[39m { setupTestEnvironment\u001b[33m,\u001b[39m cleanupTestEnvironment\u001b[33m,\u001b[39m resetTestStores\u001b[33m,\u001b[39m clearTestStorage } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-setup-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m \u001b[36mimport\u001b[39m { createExpiredToken\u001b[33m,\u001b[39m setupRetryFetchMock } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-mock-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m { retryWithBackoff } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-async-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mConnectionRecoveryComponent\u001b[39m\u001b[33m,\u001b[39m \u001b[33mAuthStatusComponent\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-component-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/critical/error-recovery-refactored.test.tsx:16:26)\n\nFAIL __tests__/integration/comprehensive/performance-memory.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/performance-memory.test.tsx'\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     back\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 30 |\u001b[39m     forward\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 34 |\u001b[39m   })\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-memory.test.tsx:31:20)\n\nFAIL __tests__/integration/comprehensive/user-journey.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m createWebSocketMessage\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   handleUserJoined\u001b[33m,\u001b[39m handleVoteCast\u001b[33m,\u001b[39m handleStepChange\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/user-journey-workflow.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-workflow.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   validateFileType\u001b[33m,\u001b[39m validateFileSize\u001b[33m,\u001b[39m parseFileContent\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   createMockOptimizations\u001b[33m,\u001b[39m simulateAnalysisPhases\u001b[33m,\u001b[39m calculateTotalImpact\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   createResults\u001b[33m,\u001b[39m simulateOptimizationApplication\u001b[33m,\u001b[39m createWorkloadConfigFile\u001b[33m,\u001b[39m\n     \u001b[90m 12 |\u001b[39m   expectSuccessfulUpload\u001b[33m,\u001b[39m expectSuccessfulAnalysis\u001b[33m,\u001b[39m expectCompletedWorkflow\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-workflow.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/user-journey-errors.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-errors.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m createValidJsonFile\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m describe(\u001b[32m'Error Scenarios in User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-errors.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/theme-preferences.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/theme-preferences.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/theme-preferences.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/navigation-search.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/navigation-search.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m   act\u001b[33m,\u001b[39m\n     \u001b[90m 15 |\u001b[39m   setupTestEnvironment\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m   cleanupTestEnvironment\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m\n     \u001b[90m 19 |\u001b[39m   \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/navigation-search.test.tsx:16:20)\n\nFAIL __tests__/integration/comprehensive/memory-management.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/memory-management.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   addTimer\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   addListener\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   cleanupResources\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   generateDataChunk\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m   calculateProgress\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m   estimateMemoryUsage\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/memory-management.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/interactive-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   waitForUserInteraction\u001b[33m,\u001b[39m getMovementDirection\u001b[33m,\u001b[39m calculateNewPosition\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectAnimationStage\u001b[33m,\u001b[39m expectAnimationStatus\u001b[33m,\u001b[39m expectGesturePosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateDragStart\u001b[33m,\u001b[39m reorderItems\u001b[33m,\u001b[39m generateItems\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectItemOrder\u001b[33m,\u001b[39m simulateDropValidation\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   generateScrollItems\u001b[33m,\u001b[39m saveScrollPosition\u001b[33m,\u001b[39m restoreScrollPosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll.test.tsx:12:1)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/index.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m testUtils \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m \u001b[90m// Import all test modules - commented out temporarily to prevent import errors\u001b[39m\n     \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m \u001b[90m// These modules need fixing to work with the current test-utils structure\u001b[39m\n     \u001b[90m 40 |\u001b[39m \u001b[90m// import './theme-preferences.test';\u001b[39m\n     \u001b[90m 41 |\u001b[39m \u001b[90m// import './collaboration-features.test';\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/index.test.tsx:38:60)\n\nFAIL __tests__/integration/comprehensive/i18n-tests.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/i18n-tests.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/i18n-tests.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx:12:1)\n\nFAIL __tests__/integration/comprehensive/collaboration-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/collaboration-features.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 25 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     refresh\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/collaboration-features.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/error-recovery.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/error-recovery.test.tsx:26:20)\n\nFAIL __tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/optimization-workflow-helpers' from '__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[36mimport\u001b[39m { assertElementText\u001b[33m,\u001b[39m waitForElementText\u001b[33m,\u001b[39m assertOptimizationResults } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-assertion-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests - End-to-End Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \n     \u001b[90m 16 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx:13:38)\n\nFAIL __tests__/integration/websocket-messaging.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-messaging.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | describe('WebSocket Message Processing Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/websocket-stress.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-stress.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | \n     \u001b[2m12\u001b[0m | describe('WebSocket Stress Testing', () => {\n     \u001b[2m13\u001b[0m |   let wsManager: WebSocketTestManager;\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-resilience.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import { webSocketService } from '@/services/webSocketService';\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Mock dependencies\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/websocket-complete-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-complete-refactored.test.tsx\u001b[0m:24:1]\n     \u001b[2m21\u001b[0m | import { render, waitFor } from '@testing-library/react';\n     \u001b[2m22\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m23\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m24\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m25\u001b[0m | import {\n     \u001b[2m26\u001b[0m |   ConnectionStateManager,\n     \u001b[2m27\u001b[0m |   MessageBuffer,\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/tool-lifecycle-integration.test.ts\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseUnifiedChatStore' before initialization\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 12 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseUnifiedChatStore (__tests__/integration/tool-lifecycle-integration.test.ts:13:24)\n      at Object.<anonymous> (__tests__/integration/tool-lifecycle-integration.test.ts:31:22)\n\nFAIL __tests__/integration/websocket-large-messages.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-large-messages.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m12\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-large-messages.test.tsx\u001b[0m:11:1]\n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m12\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | describe('WebSocket Large Message Handling Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/websocket-complete.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\websocket-messaging.test.tsx\u001b[0m:10:1]\n     \u001b[2m 7\u001b[0m | \n     \u001b[2m 8\u001b[0m | import { waitFor } from '@testing-library/react';\n     \u001b[2m 9\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m10\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m11\u001b[0m | import { MessageBuffer } from '../setup/websocket-test-utils';\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | describe('WebSocket Message Processing Tests', () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 44 |\u001b[39m \u001b[90m * - Better test organization by functional area\u001b[39m\n     \u001b[90m 45 |\u001b[39m \u001b[90m * - Faster test execution (can run specific modules)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 46 |\u001b[39m \u001b[90m * - Clearer separation of concerns\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[90m * - Easier debugging and development\u001b[39m\n     \u001b[90m 48 |\u001b[39m \u001b[90m * \u001b[39m\n     \u001b[90m 49 |\u001b[39m \u001b[90m * All original test functionality preserved across modules.\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/integration/websocket-complete.test.tsx:46:1)\n\nFAIL __tests__/integration/thread-switching.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\thread-switching.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import { render, screen, waitFor, fireEvent, act } from '@testing-library/react';\n     \u001b[2m10\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m11\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m14\u001b[0m | \n     \u001b[2m15\u001b[0m | // Mock router for navigation testing\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/message-streaming-core.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Core streaming test component\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\message-streaming-core.test.tsx\u001b[0m:14:1]\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-utilities';\n     \u001b[2m14\u001b[0m | import.*from '@/__tests__/helpers/streaming-test-utilities';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m15\u001b[0m | \n     \u001b[2m16\u001b[0m | // Core streaming test component\n     \u001b[2m17\u001b[0m | const StreamingCoreTest: React.FC = () => {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/offline-mode.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\offline-mode.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | \n     \u001b[2m15\u001b[0m | // Mock dependencies\n     \u001b[2m16\u001b[0m | jest.mock('@/services/webSocketService');\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/login-complete.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/MainChat mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMockMessageInput\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33minput\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-input\"\u001b[39m placeholder\u001b[33m=\u001b[39m\u001b[32m\"Type message...\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/MainChat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m   \u001b[33mMainChat\u001b[39m\u001b[33m:\u001b[39m \u001b[33mMockChatInterface\u001b[39m\n     \u001b[90m 34 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete.test.tsx:32:6)\n\nFAIL __tests__/integration/login-token-management.test.tsx\n  \u25cf Test suite failed to run\n\n    TypeError: (0 , _utils.createMockExpiredToken) is not a function\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m\n     \u001b[90m 65 |\u001b[39m \u001b[36mconst\u001b[39m validToken \u001b[33m=\u001b[39m createMockToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m \u001b[36mconst\u001b[39m expiredToken \u001b[33m=\u001b[39m createMockExpiredToken(testUser\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m \u001b[36mconst\u001b[39m expiringToken \u001b[33m=\u001b[39m createMockExpiringToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m300\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m \u001b[90m// ============================================================================\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/login-token-management.test.tsx:66:44)\n\nFAIL __tests__/integration/integration-tasks.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-tasks.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Declare mocks first (Jest Module Hoisting)\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-tasks.test.tsx:22:37)\n\nFAIL __tests__/integration/integration-corpus.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-corpus.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 37 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n     \u001b[90m 40 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 41 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-corpus.test.tsx:38:37)\n\nFAIL __tests__/integration/integration-data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-data-generation.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   setupLoadingMocks\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseUnifiedChatStore\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-data-generation.test.tsx:22:37)\n\nFAIL __tests__/integration/integration-health.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-health.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-health.test.tsx:22:37)\n\nFAIL __tests__/integration/login-complete-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/services/websocket mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/services\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m \u001b[90m// Mock implementations\u001b[39m\n     \u001b[90m 66 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/services/websocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useRouter\u001b[33m:\u001b[39m mockUseRouter }))\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/auth/service'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ authService\u001b[33m:\u001b[39m mockAuthService }))\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete-flow.test.tsx:67:6)\n\nFAIL __tests__/integration/initial-state.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\initial-state.test.tsx\u001b[0m:21:1]\n     \u001b[2m18\u001b[0m |   InitialStateTestComponent,\n     \u001b[2m19\u001b[0m |   WebSocketConnectionComponent\n     \u001b[2m20\u001b[0m | } from '../helpers/initial-state-helpers';\n     \u001b[2m21\u001b[0m | import.*from '@/__tests__/helpers/initial-state-storage-helpers';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m22\u001b[0m | import.*from '@/__tests__/helpers/initial-state-mock-components';\n     \u001b[2m23\u001b[0m | \n     \u001b[2m24\u001b[0m | // Setup all mocks\n        `----\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\initial-state.test.tsx\u001b[0m:22:1]\n     \u001b[2m19\u001b[0m |   WebSocketConnectionComponent\n     \u001b[2m20\u001b[0m | } from '../helpers/initial-state-helpers';\n     \u001b[2m21\u001b[0m | import.*from '@/__tests__/helpers/initial-state-storage-helpers';\n     \u001b[2m22\u001b[0m | import.*from '@/__tests__/helpers/initial-state-mock-components';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m23\u001b[0m | \n     \u001b[2m24\u001b[0m | // Setup all mocks\n     \u001b[2m25\u001b[0m | setupInitialStateMockComponents();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/first-load.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\first-load.test.tsx\u001b[0m:23:1]\n     \u001b[2m20\u001b[0m |   checkPageInteractive,\n     \u001b[2m21\u001b[0m |   FirstLoadTestComponent \n     \u001b[2m22\u001b[0m | } from '../helpers/first-load-helpers';\n     \u001b[2m23\u001b[0m | import.*from '@/__tests__/helpers/first-load-mock-setup';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m24\u001b[0m | \n     \u001b[2m25\u001b[0m | setupFirstLoadMockComponents();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/connection-management-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-management-advanced.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | // Reconnection manager with React synchronization\n     \u001b[2m15\u001b[0m | class ReconnectionManager {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\error-recovery.test.tsx\u001b[0m:13:1]\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m12\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m13\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m14\u001b[0m | import { webSocketService } from '@/services/webSocketService';\n     \u001b[2m15\u001b[0m | import { logger } from '@/lib/logger';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/integration-comprehensive-core.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-comprehensive-helpers' from '__tests__/integration/integration-comprehensive-core.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   setupComprehensiveLLMCacheResponseMocks\u001b[33m,\u001b[39m\n     \u001b[90m 37 |\u001b[39m   setupComprehensiveHealthMock\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   setupComprehensiveDegradedHealthMock\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   createComprehensiveMockTask\u001b[33m,\u001b[39m\n     \u001b[90m 40 |\u001b[39m   queueComprehensiveTask\n     \u001b[90m 41 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-comprehensive-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-comprehensive-core.test.tsx:38:42)\n\nFAIL __tests__/integration/data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\data-generation.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/integration-cache.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-cache.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-cache.test.tsx:22:37)\n\nFAIL __tests__/integration/corpus-management.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\corpus-management.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, screen, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { AgentProvider } from '@/providers/AgentProvider';\n     \u001b[2m12\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/connection-performance.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-performance.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | // Multi-connection manager for performance testing\n     \u001b[2m15\u001b[0m | class MultiConnectionManager {\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/comprehensive-integration-elite.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive-integration-elite.test.tsx\u001b[0m:73:1]\n     \u001b[2m70\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n     \u001b[2m71\u001b[0m | \n     \u001b[2m72\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m73\u001b[0m | import.*from '@/__tests__/helpers/test-setup-helpers';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m74\u001b[0m | import {\n     \u001b[2m75\u001b[0m |   createMockDocument,\n     \u001b[2m76\u001b[0m |   createMockSearchResults,\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\corpus-management.test.tsx\u001b[0m:9:1]\n     \u001b[2m 6\u001b[0m | import { render, waitFor, screen, fireEvent, act } from '@testing-library/react';\n     \u001b[2m 7\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 8\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m 9\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m10\u001b[0m | \n     \u001b[2m11\u001b[0m | import { AgentProvider } from '@/providers/AgentProvider';\n     \u001b[2m12\u001b[0m | import { WebSocketProvider } from '@/providers/WebSocketProvider';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./corpus-management.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./data-generation.test'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./system-management.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./security-auth.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./infrastructure.test'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[32m'./advanced-features.test'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:20:1)\n\nFAIL __tests__/integration/connection-management-core.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\connection-management-core.test.tsx\u001b[0m:12:1]\n     \u001b[2m 9\u001b[0m | import userEvent from '@testing-library/user-event';\n     \u001b[2m10\u001b[0m | import { jest } from '@jest/globals';\n     \u001b[2m11\u001b[0m | import { TestProviders } from '../setup/test-providers';\n     \u001b[2m12\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m13\u001b[0m | \n     \u001b[2m14\u001b[0m | interface ConnectionState {\n     \u001b[2m15\u001b[0m |   status: 'disconnected' | 'connecting' | 'connected' | 'reconnecting' | 'error';\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/collaboration-state.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\collaboration-state.test.tsx\u001b[0m:53:1]\n     \u001b[2m50\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m51\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m52\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m53\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m54\u001b[0m | \n     \u001b[2m55\u001b[0m | // Mock fetch\n     \u001b[2m56\u001b[0m | global.fetch = jest.fn();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/auth-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseAuthStore' before initialization\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m   useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseAuthStore (__tests__/integration/auth-flow.test.tsx:17:17)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:52:20)\n\nFAIL __tests__/integration/advanced-features.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expression expected\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\advanced-features.test.tsx\u001b[0m:11:1]\n     \u001b[2m 8\u001b[0m | import '@testing-library/jest-dom';\n     \u001b[2m 9\u001b[0m | import WS from 'jest-websocket-mock';\n     \u001b[2m10\u001b[0m | import { TestProviders } from '@/__tests__/setup/test-providers';\n     \u001b[2m11\u001b[0m | import.*from '@/__tests__/helpers/websocket-test-manager';\n        : \u001b[35;1m       ^\u001b[0m\n     \u001b[2m12\u001b[0m | \n     \u001b[2m13\u001b[0m | // Mock fetch\n     \u001b[2m14\u001b[0m | global.fetch = jest.fn();\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/integration/auth-flow-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/auth-flow-utils' from '__tests__/integration/auth-flow-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 50 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[90m// Now imports\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/auth-flow-refactored.test.tsx:51:24)\n\nFAIL __tests__/auth/login-to-chat-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m The left-hand side of an assignment expression must be a variable or a property access.\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m53\u001b[0m |     token: mockToken\n        `----\n      \u001b[31mx\u001b[0m Invalid assignment target\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m53\u001b[0m |     token: mockToken\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   performLogin\u001b[33m,\u001b[39m\n     \u001b[90m 23 |\u001b[39m   mockUser\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m   mockToken\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./login-to-chat-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Mock dependencies for isolated auth testing\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/auth/login-to-chat-advanced.test.tsx:24:27)\n\nFAIL __tests__/integration/data-fetching-optimistic.test.tsx (62.149 s)\n  \u25cf Data Fetching - Optimistic Updates \u203a immediately shows optimistic update before server confirmation\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m\n     \u001b[90m 270 |\u001b[39m describe(\u001b[32m'Data Fetching - Optimistic Updates'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m   it(\u001b[32m'immediately shows optimistic update before server confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mOptimisticThreadManager\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 273 |\u001b[39m     \n     \u001b[90m 274 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at it (__tests__/integration/data-fetching-optimistic.test.tsx:271:3)\n      at Object.describe (__tests__/integration/data-fetching-optimistic.test.tsx:270:1)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a reverts optimistic update on server error\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"add-thread\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 300 |\u001b[39m     \n     \u001b[90m 301 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 302 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'add-thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 303 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 304 |\u001b[39m     \n     \u001b[90m 305 |\u001b[39m     \u001b[90m// Should initially show optimistic update\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:302:36)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/integration/data-fetching-optimistic.test.tsx:301:14)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a handles optimistic updates for edit operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"thread-title\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'thread-title'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Original Title'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m     \n     \u001b[90m 352 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 353 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'update-button'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:350:19)\n\n  \u25cf Data Fetching - Optimistic Updates \u203a maintains order during optimistic operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"add-new\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m     \n     \u001b[90m 417 |\u001b[39m     \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'add-new'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \n     \u001b[90m 421 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/integration/data-fetching-optimistic.test.tsx:418:36)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/integration/data-fetching-optimistic.test.tsx:417:14)\n\nFAIL __tests__/auth/auth-token-refresh-auto.test.tsx (61.695 s)\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:131:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:130:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:156:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:154:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 162 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 163 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 164 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 165 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m       createExpiringToken(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 3 minutes until expiry\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:164:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:114:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:35:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 107 |\u001b[39m\n     \u001b[90m 108 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 110 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-token-refresh-auto.test.tsx:109:49)\n      at advanceTimeBy (__tests__/auth/auth-token-refresh-auto.test.tsx:197:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:195:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should refresh token before making authenticated API calls\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 233 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:230:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m         expect(mocks\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 256 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token-refresh-auto.test.tsx:253:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 276 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 277 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:276:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 294 |\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 296 |\u001b[39m         expect(mockAuthServiceClient\u001b[33m.\u001b[39mrefreshToken)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 297 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 299 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token-refresh-auto.test.tsx:296:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n\nTest Suites: 104 failed, 59 passed, 163 total\nTests:       359 failed, 3 skipped, 669 passed, 1031 total\nSnapshots:   0 total\nTime:        68.424 s\nRan all test suites.\n"
    },
    "dev_launcher": {
      "success": false,
      "duration": 63.79588723182678,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ntimeout: 300.0s\ntimeout method: thread\ntimeout func_only: False\ncollected 22 items\n\ntests\\e2e\\test_dev_launcher_real_startup.py FFF                          [ 13%]\ntests\\integration\\test_dev_launcher_utilities_validation.py FFF.FFF.FFFF [ 68%]\n                                                                         [ 68%]\ntests\\test_system_startup.py .......                                     [100%]\n\n================================== FAILURES ===================================\n_____ TestDevLauncherRealStartup.test_real_dev_launcher_startup_sequence ______\ntests\\e2e\\test_dev_launcher_real_startup.py:182: in test_real_dev_launcher_startup_sequence\n    assert startup_success, \"Dev launcher failed to start services\"\nE   AssertionError: Dev launcher failed to start services\nE   assert False\n----------------------------- Captured log setup ------------------------------\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.address`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.address` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.automotive`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.automotive` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.bank`.\nDEBUG    faker.factory:factory.py:88 Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.barcode`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.barcode` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.color`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.color` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.company`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.company` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.credit_card`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.credit_card` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.currency`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.currency` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.date_time`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.date_time` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.geo`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.geo` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.internet`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.internet` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.isbn`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.isbn` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.job`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.job` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.lorem`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.lorem` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.misc`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.misc` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.passport`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.passport` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.person`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.person` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.phone_number`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.phone_number` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.ssn`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.ssn` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:350 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:515 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== STARTING REAL DEV LAUNCHER STARTUP TEST ===\\n\\U0001f50d DISCOVER | POSTGRESQL: sqlite+aiosqlite:///:memory:\\n\\U0001f50d DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n\\U0001f50d DISCOVER | REDIS: redis://localhost:6379/0\\n\\U0001f50d WEBSOCKET | Discovered endpoint: backend_ws -> ws://localhost:8000/ws\\n\\u274c auth service NOT bound to port 8001\\n\\u274c backend service NOT bound to port 8000\\n\\u274c frontend service NOT bound to port 3000\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:78 Discovered 1 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\n______ TestDevLauncherRealStartup.test_service_startup_order_validation _______\ntests\\e2e\\test_dev_launcher_real_startup.py:394: in test_service_startup_order_validation\n    assert startup_success, \"Service startup failed\"\nE   AssertionError: Service startup failed\nE   assert False\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:350 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:515 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== TESTING SERVICE STARTUP ORDER ===\\n\\U0001f50d DISCOVER | POSTGRESQL: sqlite+aiosqlite:///:memory:\\n\\U0001f50d DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n\\U0001f50d DISCOVER | REDIS: redis://localhost:6379/0\\n\\U0001f50d WEBSOCKET | Discovered endpoint: backend_ws -> ws://localhost:8000/ws\\n\\u274c auth service NOT bound to port 8001\\n\\u274c backend service NOT bound to port 8000\\n\\u274c frontend service NOT bound to port 3000\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:78 Discovered 1 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\n_____ TestDevLauncherRealStartup.test_health_endpoint_response_validation _____\ntests\\e2e\\test_dev_launcher_real_startup.py:419: in test_health_endpoint_response_validation\n    assert startup_success, \"Failed to start services for health check test\"\nE   AssertionError: Failed to start services for health check test\nE   assert False\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:350 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:515 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== TESTING HEALTH ENDPOINT RESPONSES ===\\n\\U0001f50d DISCOVER | POSTGRESQL: sqlite+aiosqlite:///:memory:\\n\\U0001f50d DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n\\U0001f50d DISCOVER | REDIS: redis://localhost:6379/0\\n\\U0001f50d WEBSOCKET | Discovered endpoint: backend_ws -> ws://localhost:8000/ws\\n\\u274c auth service NOT bound to port 8001\\n\\u274c backend service NOT bound to port 8000\\n\\u274c frontend service NOT bound to port 3000\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:78 Discovered 1 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\n___________ TestDevLauncherUtilities.test_launcher_config_creation ____________\ntests\\integration\\test_dev_launcher_utilities_validation.py:31: in test_launcher_config_creation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n__________ TestDevLauncherUtilities.test_launcher_config_validation ___________\ntests\\integration\\test_dev_launcher_utilities_validation.py:56: in test_launcher_config_validation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n_______________ TestDevLauncherUtilities.test_launcher_creation _______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:72: in test_launcher_creation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_config_to_dict _________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:112: in test_config_to_dict\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n_____________ TestDevLauncherUtilities.test_config_emoji_support ______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:129: in test_config_emoji_support\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_config_logging _________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:144: in test_config_logging\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_path_resolution ________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:170: in test_path_resolution\n    resolved = resolve_path(\"dev_launcher\", root=project_root)\n                                                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n______________ TestDevLauncherUtilities.test_config_show_methods ______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:177: in test_config_show_methods\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________ TestDevLauncherIntegration.test_launcher_initialization_phase ________\ntests\\integration\\test_dev_launcher_utilities_validation.py:197: in test_launcher_initialization_phase\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n___________ TestDevLauncherIntegration.test_launcher_config_access ____________\ntests\\integration\\test_dev_launcher_utilities_validation.py:222: in test_launcher_config_access\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_real_dev_launcher_startup_sequence\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_service_startup_order_validation\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_health_endpoint_response_validation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_config_creation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_config_validation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_creation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_to_dict\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_emoji_support\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_logging\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_path_resolution\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_show_methods\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherIntegration::test_launcher_initialization_phase\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherIntegration::test_launcher_config_access\n================== 13 failed, 9 passed, 2 warnings in 58.80s ==================\n",
      "errors": ""
    }
  },
  "overall_success": false,
  "total_duration": 205.35171175003052
}