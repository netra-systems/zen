{
  "timestamp": "20250821_205306",
  "level": "unit",
  "environment": "local",
  "services": {
    "backend": {
      "success": false,
      "duration": 22.603588819503784,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function\ncollected 0 items / 1 error\n\n=================================== ERRORS ====================================\n_______ ERROR collecting tests/agents/test_agent_e2e_critical_collab.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_agent_e2e_critical_collab.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_agent_e2e_critical_collab.py:27: in <module>\n    from .agents.test_agent_e2e_critical_setup import AgentE2ETestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.agents.agents'\n------------------------------- Captured stderr -------------------------------\n2025-08-21 20:52:47.093 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Using default database URL for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated database config for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated service config for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Loading all secrets from configured sources\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Loaded 0 secrets\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated 0 secrets into configuration\n2025-08-21 20:52:47.093 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Using default database URL for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated database config for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated service config for development\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Loading all secrets from configured sources\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Loaded 0 secrets\n2025-08-21 20:52:47.096 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | Populated 0 secrets into configuration\n2025-08-21 20:52:49.785 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-21 20:52:50.048 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-21 20:52:50.289 | INFO     | netra_backend.app.core.unified_logging:_emit_log:139 | SyntheticDataService initialized successfully\n2025-08-21 20:52:50.542 | DEBUG    | netra_backend.app.services.metrics.agent_metrics:__init__:29 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-21 20:52:52.572 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-21 20:52:54.053 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-21 20:52:54.546 | INFO     | netra_backend.app.core.health.telemetry:register_service:340 | Registered telemetry for service: netra-ai-platform\n2025-08-21 20:52:54.546 | DEBUG    | netra_backend.app.core.health.interface:register_checker:83 | Registered health checker: postgres\n2025-08-21 20:52:54.546 | DEBUG    | netra_backend.app.core.health.interface:register_checker:83 | Registered health checker: clickhouse\n2025-08-21 20:52:54.547 | DEBUG    | netra_backend.app.core.health.interface:register_checker:83 | Registered health checker: redis\n2025-08-21 20:52:54.547 | DEBUG    | netra_backend.app.core.health.interface:register_checker:83 | Registered health checker: dependency_websocket\n2025-08-21 20:52:54.547 | DEBUG    | netra_backend.app.core.health.interface:register_checker:83 | Registered health checker: dependency_llm\n2025-08-21 20:52:54.693 | INFO     | netra_backend.app.services.fallback_response.response_generator:__init__:30 | Response Generator initialized\n2025-08-21 20:52:54.814 | INFO     | netra_backend.app.services.quality_gate.quality_gate_core:__init__:38 | Quality Gate Service initialized\n2025-08-21 20:52:54.814 | INFO     | netra_backend.app.services.quality_monitoring.service:__init__:51 | Quality Monitoring Service initialized\n2025-08-21 20:52:54.814 | INFO     | netra_backend.app.services.fallback_response.response_generator:__init__:30 | Response Generator initialized\n2025-08-21 20:52:55.054 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-21 20:53:01.144 | DEBUG    | netra_backend.app.db.postgres_core:initialize_postgres:370 | initialize_postgres called. Current async_engine: False, async_session_factory: False\n2025-08-21 20:53:01.144 | DEBUG    | netra_backend.app.db.postgres_core:initialize_postgres:379 | Database not fully initialized, performing clean initialization...\n2025-08-21 20:53:01.144 | DEBUG    | netra_backend.app.db.postgres_core:_initialize_async_engine:349 | _initialize_async_engine called\n2025-08-21 20:53:01.144 | DEBUG    | netra_backend.app.db.postgres_core:_initialize_async_engine:352 | Database URL validated: True\n2025-08-21 20:53:01.144 | DEBUG    | netra_backend.app.db.postgres_core:_initialize_async_engine:354 | Initializing engine with URL...\n2025-08-21 20:53:01.256 | INFO     | netra_backend.app.db.postgres_core:_create_and_setup_engine:340 | PostgreSQL async engine created with resilient AsyncAdaptedQueuePool connection pooling\n2025-08-21 20:53:01.256 | DEBUG    | netra_backend.app.db.postgres_core:_initialize_async_engine:356 | Engine initialization completed\n2025-08-21 20:53:01.257 | DEBUG    | netra_backend.app.db.postgres_core:initialize_postgres:384 | After _initialize_async_engine(), async_engine: True, async_session_factory: True\n2025-08-21 20:53:01.257 | DEBUG    | netra_backend.app.db.postgres_core:initialize_postgres:394 | initialize_postgres returning: async_sessionmaker(class_='AsyncSession', autocommit=False, bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x000002398123FF50>, autoflush=False, expire_on_commit=False)\n============================== warnings summary ===============================\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\monitoring.py:68: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"system_start_time\": datetime.utcnow(),\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/agents/test_agent_e2e_critical_collab.py\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n======================== 5 warnings, 1 error in 1.96s =========================\n",
      "errors": "--- Logging error in Loguru Handler #2 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=19, microseconds=276069), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=6364, name='MainProcess'), 'thread': (id=19552, name='MainThread'), 'time': datetime(2025, 8, 21, 20, 53, 4, 764928, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n"
    }
  },
  "overall_success": false,
  "total_duration": 22.603588819503784
}