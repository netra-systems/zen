{
  "timestamp": "20250821_221835",
  "level": "integration",
  "environment": "local",
  "services": {
    "backend": {
      "success": false,
      "duration": 14.946830034255981,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function\ncollected 45 items / 1 error\n\n=================================== ERRORS ====================================\n__________ ERROR collecting tests/agents/test_data_sub_agent_core.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_data_sub_agent_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_data_sub_agent_core.py:26: in <module>\n    from ..helpers.shared_test_types import (\ntests\\helpers\\__init__.py:4: in <module>\n    from netra_backend.tests.helpers.quality_gate_fixtures import *\ntests\\helpers\\quality_gate_fixtures.py:17: in <module>\n    from netra_backend.tests.quality_gate_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_helpers'\n============================== warnings summary ===============================\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\monitoring.py:68: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"system_start_time\": datetime.utcnow(),\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/agents/test_data_sub_agent_core.py\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n======================== 5 warnings, 1 error in 1.09s =========================\n",
      "errors": "--- Logging error in Loguru Handler #2 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=9, microseconds=582271), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=28000, name='MainProcess'), 'thread': (id=50836, name='MainThread'), 'time': datetime(2025, 8, 21, 22, 17, 35, 637902, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n"
    },
    "auth": {
      "success": false,
      "duration": 20.600897312164307,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 193 items\n\ntests\\integration\\test_auth_oauth_errors.py ........                     [  4%]\ntests\\integration\\test_auth_oauth_google.py ........                     [  8%]\ntests\\integration\\test_oauth_comprehensive_failures.py F\n\n================================== FAILURES ===================================\n__ TestOAuthComprehensiveFailures.test_01_successful_oauth_login_basic_flow ___\n\nself = <test_oauth_comprehensive_failures.TestOAuthComprehensiveFailures object at 0x000002853C83C4A0>\nreal_db_session = <sqlalchemy.orm.session.Session object at 0x000002853D033380>\n\n    @pytest.mark.asyncio\n    async def test_01_successful_oauth_login_basic_flow(self, real_db_session):\n        \"\"\"\n        Test 1: Basic successful OAuth login flow - THE DEFAULT CASE\n        This MUST work in production but is designed to initially fail.\n        \"\"\"\n        # Simulate Google OAuth callback with valid token\n        state = secrets.token_urlsafe(32)\n        mock_google_user = {\n            \"id\": \"google_123456\",\n            \"email\": \"testuser@example.com\",\n            \"name\": \"Test User\",\n            \"picture\": \"https://example.com/photo.jpg\",\n            \"verified_email\": True,\n        }\n    \n        with patch(\"httpx.AsyncClient.post\") as mock_post:\n            mock_post.return_value.json.return_value = {\n                \"access_token\": \"valid_google_token\",\n                \"token_type\": \"Bearer\",\n                \"expires_in\": 3600,\n            }\n    \n            with patch(\"httpx.AsyncClient.get\") as mock_get:\n                mock_get.return_value.json.return_value = mock_google_user\n    \n                response = client.post(\n                    \"/auth/callback/google\",\n                    json={\n                        \"code\": \"valid_auth_code\",\n                        \"state\": state,\n                    }\n                )\n    \n        # This SHOULD succeed but will initially fail\n>       assert response.status_code == 200\nE       assert 401 == 200\nE        +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests\\integration\\test_oauth_comprehensive_failures.py:132: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.security.oauth_security:oauth_security.py:218 Authorization code reuse attack detected: valid_auth_code\n============================== warnings summary ===============================\nauth_core\\database\\models.py:11\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\models.py:11: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)\n    Base = declarative_base()\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/base/test_base.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/base/test_base.py)\n    @dataclass\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/config/test_env.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/config/test_settings.py)\n    @dataclass\n\ntests\\database\\test_config.py:20\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\database\\test_config.py:20: PytestCollectionWarning: cannot collect test class 'TestDatabaseConfig' because it has a __init__ constructor (from: tests/database/test_config.py)\n    class TestDatabaseConfig:\n\ntests\\integration\\test_oauth_comprehensive_failures.py:859\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:859: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\ntests\\integration\\test_oauth_comprehensive_failures.py:893\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:893: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nFAILED tests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_01_successful_oauth_login_basic_flow\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n================== 1 failed, 16 passed, 8 warnings in 17.24s ==================\n",
      "errors": ""
    },
    "frontend": {
      "success": false,
      "duration": 8.827528953552246,
      "output": "  console.debug\n    [2025-08-22T05:18:05.101Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    resetStores called - handled by test mocks\n\n      at resetStores (__tests__/integration/helpers/test-setup.ts:25:11)\n\n  console.debug\n    [2025-08-22T05:18:05.330Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocket.ws.onopen [as _onopen] (__tests__/integration/basic-integration-data.test.tsx:39:29)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at WebSocket.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at WebSocket.delayCallback (node_modules/mock-socket/dist/mock-socket.js:1525:16)\n      at node_modules/mock-socket/dist/mock-socket.js:757:58\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T05:18:05.520Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.525Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.527Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.536Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T05:18:05.548Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.552Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.555Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.563Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.486Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at AuthInterceptor.authenticatedFetch (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.info\n    [2025-08-22T05:18:05.599Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.log (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T05:18:05.601Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.log (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T05:18:05.610Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.613Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.614Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.616Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T05:18:05.624Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.627Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.628Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.631Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T05:18:05.638Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.641Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.641Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.644Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.onStatusChange (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onerror (services/webSocketService.ts:791:28)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    [2025-08-22T05:18:05.656Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Authentication error',\n        type: 'auth',\n        recoverable: false,\n        code: 1006\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.log (lib/logger.ts:148:19)\n      at FrontendLogger.error (lib/logger.ts:215:10)\n      at Object.onError (providers/WebSocketProvider.tsx:127:22)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.warn\n    [2025-08-22T05:18:05.662Z] WARN: WebSocket authentication error undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at Object.onError (providers/WebSocketProvider.tsx:149:26)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.onStatusChange (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onclose (services/webSocketService.ts:744:28)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T05:18:05.674Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_rejection) {\n      component: 'WebSocketService',\n      action: 'auth_rejection',\n      metadata: {\n        code: 1008,\n        reason: 'Authentication required: Use Authorization header'\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.log (lib/logger.ts:148:19)\n      at FrontendLogger.error (lib/logger.ts:215:10)\n      at Object.ws.onclose (services/webSocketService.ts:749:18)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T05:18:05.680Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_error) {\n      component: 'WebSocketService',\n      action: 'auth_error',\n      metadata: {\n        error: 'Authentication required: Use Authorization header',\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.log (lib/logger.ts:148:19)\n      at FrontendLogger.error (lib/logger.ts:215:10)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1220:12)\n      at Object.ws.onclose (services/webSocketService.ts:768:18)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T05:18:05.685Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Security violation: Use proper authentication headers',\n        type: 'auth',\n        recoverable: false,\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.log (lib/logger.ts:148:19)\n      at FrontendLogger.error (lib/logger.ts:215:10)\n      at Object.onError (providers/WebSocketProvider.tsx:127:22)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1236:25)\n      at Object.ws.onclose (services/webSocketService.ts:768:18)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T05:18:05.693Z] ERROR: WebSocket security violation - using deprecated authentication method undefined\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.log (lib/logger.ts:148:19)\n      at FrontendLogger.error (lib/logger.ts:215:10)\n      at Object.onError (providers/WebSocketProvider.tsx:142:28)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1236:25)\n      at Object.ws.onclose (services/webSocketService.ts:768:18)\n      at Object.<anonymous> (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.debug\n    [2025-08-22T05:18:05.713Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.715Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.719Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T05:18:05.734Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.761Z] DEBUG: Creating secure WebSocket with authentication and compression support { protocols: [ 'jwt-auth', 'jwt.[token]' ] }\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T05:18:05.765Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.log (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T05:18:05.765Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.parseJWTToken (services/webSocketService.ts:1005:16)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1053:26)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T05:18:05.775Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.log (lib/logger.ts:145:19)\n      at FrontendLogger.warn (lib/logger.ts:211:10)\n      at WebSocketService.setupTokenRefresh (services/webSocketService.ts:1055:14)\n      at Object.ws.onopen (services/webSocketService.ts:691:14)\n      at __tests__/integration/critical/websocket-auth-headers.test.tsx:107:25\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.log\n    \ud83d\udce6 ChatSidebarHooks module mock created\n\n      at __tests__/components/ChatSidebar/setup.tsx:43:11\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.beforeEach (__tests__/components/ChatSidebar/setup.tsx:279:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.configureAuthState (__tests__/components/ChatSidebar/setup.tsx:447:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.configureAuthState (__tests__/components/ChatSidebar/setup.tsx:448:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.configureChatSidebarHooks (__tests__/components/ChatSidebar/setup.tsx:353:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.configureChatSidebarHooks (__tests__/components/ChatSidebar/setup.tsx:391:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.configureChatSidebarHooks (__tests__/components/ChatSidebar/setup.tsx:428:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.<anonymous> (__tests__/components/ChatSidebar/setup.tsx:399:15)\n\n",
      "errors": "ts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do\ntransform: {\n    <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],\n},\nSee more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced\nPASS Integration Tests __tests__/integration/critical/websocket-auth-headers.test.tsx\n  WebSocket Authentication Headers (SECURITY VERIFICATION)\n    Subprotocol Authentication (SECURE METHOD)\n      \u221a should use Sec-WebSocket-Protocol with Bearer token for WebSocket connection (175 ms)\n      \u221a should NOT send JWT token via query parameters (security verified) (67 ms)\n    WebSocket Subprotocol Authentication (PRIMARY METHOD)\n      \u221a should use Sec-WebSocket-Protocol header for JWT authentication (42 ms)\n      \u221a should handle authentication protocol correctly (33 ms)\n    Secure Connection Endpoint\n      \u221a should connect to the secure WebSocket endpoint (14 ms)\n      \u221a should handle authentication errors from secure endpoint (97 ms)\n    Token Management Integration\n      \u221a should not expose token in connection URL (25 ms)\n      \u221a should properly handle token refresh scenarios (26 ms)\n\nFAIL Integration Tests __tests__/auth/auth-token-refresh-auto.test.tsx\n  Auth Token Refresh Automatic\n    Automatic Token Refresh\n      \u00d7 should refresh token before expiry threshold (21 ms)\n      \u00d7 should update auth store with refreshed token (1 ms)\n      \u00d7 should refresh token on user activity near expiry (1 ms)\n      \u00d7 should not refresh if token has sufficient time remaining\n    Token Refresh on API Calls\n      \u00d7 should refresh token before making authenticated API calls\n      \u00d7 should retry API call with refreshed token\n      \u00d7 should handle 401 responses by triggering token refresh\n      \u00d7 should prevent multiple concurrent refresh attempts (1 ms)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should refresh token before making authenticated API calls\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\nSummary of all failing tests\nFAIL __tests__/auth/auth-token-refresh-auto.test.tsx\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should refresh token before making authenticated API calls\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    TypeError: jest.mocked(...).mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     \n     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m createMockAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     jest\u001b[33m.\u001b[39mmocked(authService\u001b[33m.\u001b[39mgetAuthConfig)\u001b[33m.\u001b[39mmockResolvedValue(mockConfig)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\n     \u001b[90m 68 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:65:44)\n\n\nTest Suites: 1 failed, 1 passed, 2 of 163 total\nTests:       8 failed, 8 passed, 16 total\nSnapshots:   0 total\nTime:        6.185 s, estimated 31 s\nRan all test suites.\n"
    },
    "dev_launcher": {
      "success": false,
      "duration": 29.88266372680664,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ntimeout: 300.0s\ntimeout method: thread\ntimeout func_only: False\ncollected 22 items\n\ntests\\e2e\\test_dev_launcher_real_startup.py sF\n\n================================== FAILURES ===================================\n______ TestDevLauncherRealStartup.test_service_startup_order_validation _______\ntests\\e2e\\test_dev_launcher_real_startup.py:394: in test_service_startup_order_validation\n    assert startup_success, \"Service startup failed\"\nE   AssertionError: Service startup failed\nE   assert False\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:350 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:515 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== TESTING SERVICE STARTUP ORDER ===\\n\\U0001f50d DISCOVER | POSTGRESQL: sqlite+aiosqlite:///:memory:\\n\\U0001f50d DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n\\U0001f50d DISCOVER | REDIS: redis://localhost:6379/0\\n\\U0001f50d WEBSOCKET | Discovered endpoint: backend_ws -> ws://localhost:8000/ws\\n\\u274c auth service NOT bound to port 8001\\n\\u2705 backend service bound to port 8000\\n\\u274c frontend service NOT bound to port 3000\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:78 Discovered 1 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\n=========================== short test summary info ===========================\nSKIPPED [1] tests\\e2e\\test_dev_launcher_real_startup.py:208: Port 8000 (backend) is in use and cannot be freed\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_service_startup_order_validation\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n======================== 1 failed, 1 skipped in 17.28s ========================\n",
      "errors": "C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\unraisableexception.py:33: RuntimeWarning: coroutine 'DevLauncher.run' was never awaited\n  gc.collect()\nRuntimeWarning: Enable tracemalloc to get the object allocation traceback\n"
    }
  },
  "overall_success": false,
  "total_duration": 74.25792002677917
}