
================================================================================
ARCHITECTURE COMPLIANCE REPORT
================================================================================

[FILE SIZE VIOLATIONS] (>300 lines)
----------------------------------------
   898 lines: scripts\check_architecture_compliance.py
   788 lines: app\tests\services\test_clickhouse_query_fixer_backup.py
   732 lines: app\tests\services\test_database_repository_transactions_backup.py
   725 lines: app\tests\test_real_services_comprehensive_backup.py
   711 lines: app\tests\services\test_unified_tool_registry_management_backup.py
   710 lines: app\tests\agents\test_error_handler_unit_backup.py
   702 lines: app\tests\services\test_security_service_authentication_enhanced.py
   684 lines: app\tests\core\test_json_parsing_utils.py
   680 lines: scripts\run_real_service_tests_enhanced.py
   676 lines: scripts\enable_metadata_tracking.py
  ... and 344 more files

  Total violations: 354

[FUNCTION COMPLEXITY VIOLATIONS] (>8 lines)
----------------------------------------
  VIOLATIONS (must fix):
     73 lines: get_openapi_spec() in scripts\generate_openapi_spec.py
     72 lines: run() in scripts\run_review.py
     72 lines: main() in scripts\validate_workflow_config.py
     71 lines: main() in scripts\generate_openapi_spec.py
     70 lines: _register_optimization_tools() in app\netra_mcp\modules\netra_mcp_tools.py
    ... and 2619 more violations

  WARNINGS (example/demo files):
     75 lines: test_websocket_compression() in app\tests\websocket\test_compression_auth.py
     74 lines: run_tests() in scripts\test_backend.py
     74 lines: setup_environment() in scripts\test_isolation.py
     73 lines: test_end_to_end_optimization_flow() in app\tests\agents\test_llm_agent_e2e_real.py
     73 lines: run_performance_tests() in scripts\test_system_startup.py
    ... and 3268 more warnings

  Total: 2624 violations, 3273 warnings

[DUPLICATE TYPE DEFINITIONS]
----------------------------------------
  Type 'QualityValidator' defined in 2 files
    Files: app\agents\quality_checks.py, app\services\quality_gate\quality_gate_validators.py
  Type 'GenerationStatus' defined in 2 files
    Files: app\agents\synthetic_data_generator.py, app\services\synthetic_data\enums.py
  Type 'ToolExecutionEngine' defined in 2 files
    Files: app\agents\tool_dispatcher_execution.py, app\services\unified_tool_registry\execution_engine.py
  Type 'ToolRegistry' defined in 2 files
    Files: app\agents\tool_dispatcher_registry.py, app\services\tool_registry.py
  Type 'DataSubAgent' defined in 2 files
    Files: app\agents\data_sub_agent\agent.py, app\agents\data_sub_agent\agent_core.py
  Type 'ClickHouseOperations' defined in 2 files
    Files: app\agents\data_sub_agent\clickhouse_operations.py, app\services\corpus\clickhouse_operations.py
  Type 'StateManager' defined in 2 files
    Files: app\agents\supervisor\state_manager.py, app\services\state\state_manager.py
  Type 'SessionManager' defined in 3 files
    Files: app\auth\enhanced_auth_sessions.py, app\db\session.py, app\services\database\session_manager.py
  Type 'DatabaseHealthChecker' defined in 3 files
    Files: app\core\adaptive_circuit_breakers.py, app\core\database_recovery_strategies.py, app\db\health_checks.py
  Type 'CircuitBreakerRegistry' defined in 2 files
    Files: app\core\adaptive_circuit_breakers.py, app\core\circuit_breaker_registry.py

  ... and 151 more duplicate types

  Total duplicate types: 161

[TEST STUBS IN PRODUCTION]
----------------------------------------
  app\agents\data_sub_agent\agent.py (line 38): Test stub detected: Args kwargs test stub
  app\services\corpus_service.py (line 22): Test stub detected: Args kwargs test stub
  app\tests\test_real_agent_services.py (line 50): Test stub detected: Args kwargs test stub
  app\tests\test_real_data_services.py (line 52): Test stub detected: Args kwargs test stub
  app\tests\test_real_quality_services.py (line 52): Test stub detected: Args kwargs test stub
  app\tests\helpers\network_pagination_test_helpers.py (line 15): Test stub detected: Args kwargs test stub
  app\tests\helpers\quality_gate_comprehensive_helpers.py (line 8): Test stub detected: Args kwargs test stub
  app\tests\helpers\tool_permission_helpers.py (line 17): Test stub detected: Args kwargs test stub
  app\tests\helpers\triage_test_helpers.py (line 24): Test stub detected: Args kwargs test stub
  app\tests\services\test_clickhouse_query_fixer_backup.py (line 20): Test stub detected: Args kwargs test stub
  ... and 1 more files

  Total suspicious files: 11

================================================================================
SUMMARY
================================================================================
[FAIL] VIOLATIONS FOUND: 3150 issues requiring fixes
       WARNINGS: 3273 issues in example/demo files
Compliance Score: 38.0%

Required Actions:
  - Split 354 oversized files
  - Refactor 2624 complex functions
  - Deduplicate 161 type definitions
  - Remove 11 test stubs from production

Refer to ALIGNMENT_ACTION_PLAN.md for remediation steps
