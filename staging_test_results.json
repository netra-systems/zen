{"created": 1757217433.5294733, "duration": 24.881017923355103, "exitcode": 1, "root": "C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1", "environment": {}, "summary": {"passed": 19, "failed": 2, "total": 21, "collected": 21}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py", "type": "Module"}, {"nodeid": "tests/e2e/staging/test_priority2_high.py", "type": "Module"}]}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_001_websocket_connection_real", "type": "Coroutine", "lineno": 27}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_002_websocket_authentication_real", "type": "Coroutine", "lineno": 90}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_003_api_message_send_real", "type": "Coroutine", "lineno": 134}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_004_api_health_comprehensive_real", "type": "Coroutine", "lineno": 162}]}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_005_agent_discovery_real", "type": "Coroutine", "lineno": 220}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_006_agent_configuration_real", "type": "Coroutine", "lineno": 248}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_007_thread_management_real", "type": "Coroutine", "lineno": 272}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_008_api_latency_real", "type": "Coroutine", "lineno": 294}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_009_concurrent_requests_real", "type": "Coroutine", "lineno": 331}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_010_error_handling_real", "type": "Coroutine", "lineno": 373}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_011_service_discovery_real", "type": "Coroutine", "lineno": 426}]}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket", "type": "Class"}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent", "type": "Class"}]}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_026_jwt_authentication_real", "type": "Coroutine", "lineno": 28}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_027_oauth_google_login_real", "type": "Coroutine", "lineno": 75}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_028_token_refresh_real", "type": "Coroutine", "lineno": 144}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_029_token_expiry_real", "type": "Coroutine", "lineno": 216}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_030_logout_flow_real", "type": "Coroutine", "lineno": 293}]}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_031_session_security_real", "type": "Coroutine", "lineno": 378}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_032_https_certificate_validation_real", "type": "Coroutine", "lineno": 450}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_033_cors_policy_real", "type": "Coroutine", "lineno": 529}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_034_rate_limiting_real", "type": "Coroutine", "lineno": 610}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_035_websocket_security_real", "type": "Coroutine", "lineno": 701}]}, {"nodeid": "tests/e2e/staging/test_priority2_high.py", "outcome": "passed", "result": [{"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication", "type": "Class"}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity", "type": "Class"}]}], "tests": [{"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_001_websocket_connection_real", "lineno": 27, "outcome": "passed", "keywords": ["test_001_websocket_connection_real", "asyncio", "pytestmark", "TestRealCriticalWebSocket", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.09259599999859347, "outcome": "passed"}, "call": {"duration": 0.571619099999225, "outcome": "passed", "stdout": "WebSocket connection error: BaseEventLoop.create_connection() got an unexpected keyword argument 'extra_headers'\nTest duration: 0.571s\n"}, "teardown": {"duration": 0.0011070000000472646, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_002_websocket_authentication_real", "lineno": 90, "outcome": "failed", "keywords": ["test_002_websocket_authentication_real", "asyncio", "pytestmark", "TestRealCriticalWebSocket", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0008158000018738676, "outcome": "passed"}, "call": {"duration": 0.41061439999975846, "outcome": "failed", "crash": {"path": "C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\tests\\e2e\\staging\\test_priority1_critical_REAL.py", "lineno": 133, "message": "AssertionError: WebSocket should enforce authentication\nassert False"}, "traceback": [{"path": "tests\\e2e\\staging\\test_priority1_critical_REAL.py", "lineno": 133, "message": "in test_002_websocket_authentication_real"}], "stdout": "Test duration: 0.410s\n", "longrepr": "tests\\e2e\\staging\\test_priority1_critical_REAL.py:133: in test_002_websocket_authentication_real\n    assert auth_enforced, \"WebSocket should enforce authentication\"\nE   AssertionError: WebSocket should enforce authentication\nE   assert False"}, "teardown": {"duration": 0.0010066000031656586, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_003_api_message_send_real", "lineno": 134, "outcome": "failed", "keywords": ["test_003_api_message_send_real", "asyncio", "pytestmark", "TestRealCriticalWebSocket", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.000640199999907054, "outcome": "passed"}, "call": {"duration": 0.3397069000020565, "outcome": "failed", "crash": {"path": "C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\tests\\e2e\\staging\\test_priority1_critical_REAL.py", "lineno": 146, "message": "AssertionError: Unexpected status: 404, body: {\"detail\":\"Not Found\"}\nassert 404 in [200, 401, 403]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests\\e2e\\staging\\test_priority1_critical_REAL.py", "lineno": 146, "message": "in test_003_api_message_send_real"}], "longrepr": "tests\\e2e\\staging\\test_priority1_critical_REAL.py:146: in test_003_api_message_send_real\n    assert response.status_code in [200, 401, 403], \\\nE   AssertionError: Unexpected status: 404, body: {\"detail\":\"Not Found\"}\nE   assert 404 in [200, 401, 403]\nE    +  where 404 = <Response [404 Not Found]>.status_code"}, "teardown": {"duration": 0.0008739000004425179, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalWebSocket::test_004_api_health_comprehensive_real", "lineno": 162, "outcome": "passed", "keywords": ["test_004_api_health_comprehensive_real", "asyncio", "pytestmark", "TestRealCriticalWebSocket", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006380000013450626, "outcome": "passed"}, "call": {"duration": 0.6046749999986787, "outcome": "passed", "stdout": "Health check results:\n  /health: {'status_code': 200, 'response_time': 0.121472, 'data': {'status': 'healthy', 'service': 'netra-ai-platform', 'version': '1.0.0', 'timestamp': 1757217413.1238382}}\n  /api/health: {'status_code': 200, 'response_time': 0.090669, 'data': {'status': 'healthy', 'service': 'netra-ai-platform', 'version': '1.0.0', 'timestamp': 1757217413.2144074}}\n  /api/health/ready: {'status_code': 422, 'response_time': 0.125362}\n  /api/health/live: {'status_code': 200, 'response_time': 0.087824, 'data': {'status': 'healthy', 'timestamp': '2025-09-07T03:56:53.429713+00:00', 'uptime_seconds': 762.6970295906067, 'checks': {'application': {'status': 'healthy', 'connected': True, 'response_time_ms': 0, 'error': None}}, 'database_details': {'liveness_check': {'status': 'healthy', 'details': {'message': 'Application is running'}, 'checked_at': '2025-09-07T03:56:53.429717+00:00'}}, 'version': '1.0.0', 'environment': 'staging'}}\nTotal test duration: 0.603s\n"}, "teardown": {"duration": 0.000803700000687968, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_005_agent_discovery_real", "lineno": 220, "outcome": "passed", "keywords": ["test_005_agent_discovery_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006111999973654747, "outcome": "passed"}, "call": {"duration": 0.32926530000258936, "outcome": "passed", "stdout": "Found agents/servers: {'data': [{'name': 'netra-mcp', 'status': 'connected', 'version': '1.0.0', 'capabilities': {'tools': True, 'resources': True, 'prompts': True}, 'description': 'Netra internal MCP service'}], 'status': 'success'}\nTest duration: 0.328s\n"}, "teardown": {"duration": 0.0011369000021659303, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_006_agent_configuration_real", "lineno": 248, "outcome": "passed", "keywords": ["test_006_agent_configuration_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0008666000030643772, "outcome": "passed"}, "call": {"duration": 0.30667860000176006, "outcome": "passed", "stdout": "Config endpoint status: 200\nMCP Config: {\n  \"claude\": {\n    \"mcpServers\": {\n      \"netra\": {\n        \"command\": \"python\",\n        \"args\": [\n          \"-m\",\n          \"app.mcp.run_server\"\n        ],\n        \"env\": {\n          \"NETRA_API_KEY\": \"${NETRA_API_KEY}\",\n          \"NETRA_BASE_URL\": \"http://localhost:8000\"\n        }\n      }\n    }\n  },\n  \"cursor\": {\n    \"mcp\": {\n      \"servers\": {\n        \"netra\": {\n          \"transport\": \"stdio\",\n          \"command\": \"python -m app.mcp.run_server\"\n        }\n      }\n    }\n  },\n  \"mcp\": {\n    \"ser...\nTest duration: 0.306s\n"}, "teardown": {"duration": 0.0010580000016489066, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_007_thread_management_real", "lineno": 272, "outcome": "passed", "keywords": ["test_007_thread_management_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006255000007513445, "outcome": "passed"}, "call": {"duration": 0.3516501000012795, "outcome": "passed", "stdout": "Threads endpoint status: 403\nTest duration: 0.344s\n"}, "teardown": {"duration": 0.0010403999986010604, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_008_api_latency_real", "lineno": 294, "outcome": "passed", "keywords": ["test_008_api_latency_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0007330999978876207, "outcome": "passed"}, "call": {"duration": 1.158158900001581, "outcome": "passed", "stdout": "Latency stats (ms):\n  Average: 90.9\n  Min: 74.2\n  Max: 130.9\nTest duration: 1.158s\n"}, "teardown": {"duration": 0.0010655999976734165, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_009_concurrent_requests_real", "lineno": 331, "outcome": "passed", "keywords": ["test_009_concurrent_requests_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0008066999980655964, "outcome": "passed"}, "call": {"duration": 0.37010169999848586, "outcome": "passed", "stdout": "Concurrent request results:\n  Successful: 10/10\n  Failed: 0/10\n  Total duration: 0.369s\n  Avg response time: 0.152s\n"}, "teardown": {"duration": 0.001037699999869801, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_010_error_handling_real", "lineno": 373, "outcome": "passed", "keywords": ["test_010_error_handling_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006067000031180214, "outcome": "passed"}, "call": {"duration": 0.5510466000014276, "outcome": "passed", "stdout": "Error handling test results:\n  /api/nonexistent: 404 - 404 Not Found\n  /api/messages: 404 - Auth required or list\n  /api/agents/execute: 405 - Method not allowed or auth\n  /api/../../etc/passwd: 403 - Security test\nTest duration: 0.551s\n"}, "teardown": {"duration": 0.000990800002909964, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority1_critical_REAL.py::TestRealCriticalAgent::test_011_service_discovery_real", "lineno": 426, "outcome": "passed", "keywords": ["test_011_service_discovery_real", "asyncio", "pytestmark", "TestRealCriticalAgent", "test_priority1_critical_REAL.py", "staging", "critical", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006074000011722092, "outcome": "passed"}, "call": {"duration": 0.5805681999991066, "outcome": "passed", "stdout": "Service discovery results:\n  /api/discovery/services: {'status': 'found', 'data': {'services': {'backend': {'port': 443, 'url': 'https://api.staging.netrasystems.ai', 'api_url': 'https://api.staging.netrasystems.ai', 'ws_url': 'wss://api.staging.netrasystems.ai/ws', 'timestamp': '2025-09-07T03:56:56.843908', 'cors_metadata': None}, 'frontend': {'port': 443, 'url': 'https://app.staging.netrasystems.ai', 'api_url': None, 'ws_url': None, 'timestamp': '2025-09-07T03:56:56.843908', 'cors_metadata': None}, 'auth': {'port': 443, 'url': 'https://auth.staging.netrasystems.ai', 'api_url': 'https://auth.staging.netrasystems.ai', 'ws_url': None, 'timestamp': '2025-09-07T03:56:56.843908', 'cors_metadata': None}}, 'timestamp': '2025-09-07T03:56:56.844033', 'available': False}}\n  /api/services: {'status': 404}\n  /api/status: {'status': 404}\n  /api/info: {'status': 404}\nTest duration: 0.581s\n"}, "teardown": {"duration": 0.0008230999992520083, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_026_jwt_authentication_real", "lineno": 28, "outcome": "passed", "keywords": ["test_026_jwt_authentication_real", "asyncio", "pytestmark", "TestHighAuthentication", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.021839599998202175, "outcome": "passed"}, "call": {"duration": 0.9182750999971176, "outcome": "passed", "stdout": "\u2022 Auth endpoint not implemented: /api/auth/verify\n\u2022 Auth endpoint not implemented: /api/auth/validate\n\u2022 Auth endpoint not implemented: /api/user/profile\n\u2022 Auth endpoint not implemented: /api/me\nJWT authentication test duration: 0.918s\n"}, "teardown": {"duration": 0.0009081000025616959, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_027_oauth_google_login_real", "lineno": 75, "outcome": "passed", "keywords": ["test_027_oauth_google_login_real", "asyncio", "pytestmark", "TestHighAuthentication", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006498999973700847, "outcome": "passed"}, "call": {"duration": 0.7300632999977097, "outcome": "passed", "stdout": "OAuth configuration test results:\n  /auth/google: {'status': 404, 'content_type': 'application/json', 'content_length': 22}\n  /auth/login: {'status': 405, 'content_type': 'application/json', 'content_length': 31}\n  /auth/callback: {'status': 404, 'content_type': 'application/json', 'content_length': 22}\n  /api/auth/oauth/config: {'status': 404, 'content_type': 'application/json', 'content_length': 22}\n  /api/auth/providers: {'status': 404, 'content_type': 'application/json', 'content_length': 22}\n  service_discovery: {'status': 'found', 'has_auth_service': True, 'has_oauth': False}\nTest duration: 0.729s\n"}, "teardown": {"duration": 0.0008641000022180378, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_028_token_refresh_real", "lineno": 144, "outcome": "passed", "keywords": ["test_028_token_refresh_real", "asyncio", "pytestmark", "TestHighAuthentication", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.000618199999735225, "outcome": "passed"}, "call": {"duration": 0.9354764999989129, "outcome": "passed", "stdout": "Token refresh test results:\n  /api/auth/refresh: {'get_status': 404, 'post_status': 404, 'get_headers': {'content-type': 'application/json', 'x-trace-id': '8d26f851-08da-4d13-b122-6ee0336e260e', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-Gna_8NxyiilCgfC8jltTAw' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-Gna_8NxyiilCgfC8jltTAw' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419096', 'x-environment': 'staging', 'x-security-fingerprint': '8a48d70f636fcdf3', 'x-api-version': '1.0', 'x-ratelimit-limit': '100', 'x-ratelimit-remaining': '99', 'x-ratelimit-reset': '1757221019', 'x-cloud-trace-context': '427dfdc4ef13d7172ad0615898141ecf', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}, 'post_headers': {'content-type': 'application/json', 'x-trace-id': '30ea929c-bc7c-4509-9860-8db873bedfca', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-ShY2tvxbD83oRFf3M2pKww' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-ShY2tvxbD83oRFf3M2pKww' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419181', 'x-environment': 'staging', 'x-security-fingerprint': 'bad5279694fa4116', 'x-api-version': '1.0', 'x-ratelimit-limit': '100', 'x-ratelimit-remaining': '99', 'x-ratelimit-reset': '1757221019', 'x-cloud-trace-context': '7c02f75f49d8c61b2ad0615898141a00', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}}\n  /auth/refresh: {'get_status': 404, 'post_status': 404, 'get_headers': {'content-type': 'application/json', 'x-trace-id': '1806b95d-f683-4891-863c-281e5941891c', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-xoDK2_IwKaqwWTdNEfJuIg' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-xoDK2_IwKaqwWTdNEfJuIg' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419280', 'x-environment': 'staging', 'x-security-fingerprint': 'f09b5758812a4744', 'x-cloud-trace-context': '77b0046888acd18b2ad0615898141176', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}, 'post_headers': {'content-type': 'application/json', 'x-trace-id': '1e4abe4e-9a96-4fa3-b295-f4a1a2ab8a55', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-_wCMscsfGrd2AoCxUnLRQQ' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-_wCMscsfGrd2AoCxUnLRQQ' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419377', 'x-environment': 'staging', 'x-security-fingerprint': 'f1af0749757c3dd4', 'x-cloud-trace-context': 'bff933539530df6d2ad0615898141a0f', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}}\n  /api/token/refresh: {'get_status': 404, 'post_status': 404, 'get_headers': {'content-type': 'application/json', 'x-trace-id': '2a7a695f-1e5e-424f-bd67-3534f94ac57c', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-20ecXPjEmbLh7S_3wm5qbQ' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-20ecXPjEmbLh7S_3wm5qbQ' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419459', 'x-environment': 'staging', 'x-security-fingerprint': '9f1708300589539a', 'x-api-version': '1.0', 'x-ratelimit-limit': '100', 'x-ratelimit-remaining': '99', 'x-ratelimit-reset': '1757221019', 'x-cloud-trace-context': 'bd47b333add914b52ad06158981416c4', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}, 'post_headers': {'content-type': 'application/json', 'x-trace-id': 'c5e76911-219b-4897-881f-f9097b5df6b6', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-TRZnXIqcg4UhRjOLs07AEw' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-TRZnXIqcg4UhRjOLs07AEw' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419533', 'x-environment': 'staging', 'x-security-fingerprint': '8a7cf1feb5f660a2', 'x-api-version': '1.0', 'x-ratelimit-limit': '100', 'x-ratelimit-remaining': '99', 'x-ratelimit-reset': '1757221019', 'x-cloud-trace-context': '09587e0c3a57244b2ad06158981414ee', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}}\n  /refresh: {'get_status': 404, 'post_status': 404, 'get_headers': {'content-type': 'application/json', 'x-trace-id': '21b079e2-f8fe-4465-be59-ccc8c11bb9e8', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-qDODrjFqf8l1UppQHEicxw' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-qDODrjFqf8l1UppQHEicxw' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419629', 'x-environment': 'staging', 'x-security-fingerprint': '446fdc05525e3b14', 'x-cloud-trace-context': '1dc640198fcd974a2ad0615898141672', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}, 'post_headers': {'content-type': 'application/json', 'x-trace-id': '1d652485-0c12-4b22-afc0-d9ee0486d877', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'referrer-policy': 'strict-origin-when-cross-origin', 'permissions-policy': 'geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(), fullscreen=(), picture-in-picture=()', 'x-robots-tag': 'noindex, nofollow, noarchive, nosnippet', 'cache-control': 'no-store, no-cache, must-revalidate, private', 'pragma': 'no-cache', 'expires': '0', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-gGMlHn0AXoqQTU4g5nYIKQ' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-gGMlHn0AXoqQTU4g5nYIKQ' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\", 'x-request-start': '1757217419710', 'x-environment': 'staging', 'x-security-fingerprint': 'a060ac4f8d97dfbe', 'x-cloud-trace-context': '063327ed4ab433922ad0615898141734', 'date': 'Sun, 07 Sep 2025 03:56:59 GMT', 'server': 'Google Frontend', 'content-length': '22', 'via': '1.1 google', 'alt-svc': 'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'}}\nTest duration: 0.935s\n"}, "teardown": {"duration": 0.0008176000010280404, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_029_token_expiry_real", "lineno": 216, "outcome": "passed", "keywords": ["test_029_token_expiry_real", "asyncio", "pytestmark", "TestHighAuthentication", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0005993999984639231, "outcome": "passed"}, "call": {"duration": 1.847653699998773, "outcome": "passed", "stdout": "\u2713 Expired token properly rejected at /api/threads\nToken expiry handling test results:\n  token_1: [{'endpoint': '/api/user/profile', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/messages', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/threads', 'status': 403, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/me', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}]\n  token_2: [{'endpoint': '/api/user/profile', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/messages', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/threads', 'status': 401, 'content_type': 'application/json', 'auth_header_handled': True}, {'endpoint': '/api/me', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}]\n  token_3: [{'endpoint': '/api/user/profile', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/messages', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/threads', 'status': 403, 'content_type': 'application/json', 'auth_header_handled': False}, {'endpoint': '/api/me', 'status': 404, 'content_type': 'application/json', 'auth_header_handled': False}]\n  introspection: {'status': 404, 'available': False}\nTest duration: 1.847s\n"}, "teardown": {"duration": 0.0008732999995118007, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighAuthentication::test_030_logout_flow_real", "lineno": 293, "outcome": "passed", "keywords": ["test_030_logout_flow_real", "asyncio", "pytestmark", "TestHighAuthentication", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006546000004163943, "outcome": "passed"}, "call": {"duration": 0.9739516000008734, "outcome": "passed", "stdout": "\u2022 Logout not implemented at /api/auth/logout\n\u2022 Logout not implemented at /auth/logout\n\u2022 Logout not implemented at /logout\n\u2022 Logout not implemented at /api/session/end\nLogout flow test results:\n  /api/auth/logout: {'get_status': 404, 'post_status': 404, 'get_size': 22, 'post_size': 22}\n  /auth/logout: {'get_status': 404, 'post_status': 404, 'get_size': 22, 'post_size': 22}\n  /logout: {'get_status': 404, 'post_status': 404, 'get_size': 22, 'post_size': 22}\n  /api/session/end: {'get_status': 404, 'post_status': 404, 'get_size': 22, 'post_size': 22}\n  health_after_logout: {'status': 200, 'healthy': True}\nTest duration: 0.973s\n"}, "teardown": {"duration": 0.0008655999990878627, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_031_session_security_real", "lineno": 378, "outcome": "passed", "keywords": ["test_031_session_security_real", "asyncio", "pytestmark", "TestHighSecurity", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006400000020221341, "outcome": "passed"}, "call": {"duration": 0.6266592999963905, "outcome": "passed", "stdout": "\u2713 HSTS enabled on /health\n\u2713 Clickjacking protection on /health\n\u2713 HSTS enabled on /api/health\n\u2713 Clickjacking protection on /api/health\n\u2713 HSTS enabled on /api/discovery/services\n\u2713 Clickjacking protection on /api/discovery/services\n\u2713 HSTS enabled on /\n\u2713 Clickjacking protection on /\nSession security test results:\n  /health: {'status': 200, 'security_headers': {'x-frame-options': 'DENY', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-CYUM4kOzg7s2aiCOBf7gDg' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-CYUM4kOzg7s2aiCOBf7gDg' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\"}, 'cookie_security': {}, 'uses_https': True}\n  /api/health: {'status': 200, 'security_headers': {'x-frame-options': 'DENY', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-TlpmYsq-CKTyiY5g9aoNcA' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-TlpmYsq-CKTyiY5g9aoNcA' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\"}, 'cookie_security': {}, 'uses_https': True}\n  /api/discovery/services: {'status': 200, 'security_headers': {'x-frame-options': 'DENY', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-hJw9B7EDooIqaTXUTy-4QA' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-hJw9B7EDooIqaTXUTy-4QA' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\"}, 'cookie_security': {}, 'uses_https': True}\n  /: {'status': 200, 'security_headers': {'x-frame-options': 'DENY', 'x-content-type-options': 'nosniff', 'x-xss-protection': '1; mode=block', 'strict-transport-security': 'max-age=86400; includeSubDomains', 'content-security-policy': \"default-src 'self'; script-src 'nonce-J0tD9M049ZCiFZI56xrbZQ' 'self' https://apis.google.com https://www.googletagmanager.com https://tagmanager.google.com https://www.clarity.ms https://scripts.clarity.ms 'unsafe-inline' 'unsafe-eval' https:; style-src 'nonce-J0tD9M049ZCiFZI56xrbZQ' 'self' 'unsafe-inline' https:; font-src 'self' https: data:; img-src 'self' data: https: https://c.bing.com; connect-src 'self' https://apis.google.com https://accounts.google.com https://oauth2.googleapis.com https://www.googleapis.com https://fonts.googleapis.com https://fonts.gstatic.com https://www.googletagmanager.com https://tagmanager.google.com https://www.google-analytics.com https://analytics.google.com https://stats.g.doubleclick.net https://www.clarity.ms https://scripts.clarity.ms https://*.clarity.ms https://c.bing.com https://cloudflare-dns.com https://featureassets.org https://prodregistryv2.org https://statsigapi.net https://o4509974514106368.ingest.us.sentry.io https://*.sentry.io https://staging.netrasystems.ai https://app.staging.netrasystems.ai https://auth.staging.netrasystems.ai https://api.staging.netrasystems.ai https://backend.staging.netrasystems.ai https://netra-frontend-701982941522.us-central1.run.app https://netra-backend-701982941522.us-central1.run.app https://netra-auth-701982941522.us-central1.run.app wss://app.staging.netrasystems.ai wss://api.staging.netrasystems.ai wss://backend.staging.netrasystems.ai https: wss:; worker-src 'self' blob:; frame-ancestors 'none'; base-uri 'self'; form-action 'self'\"}, 'cookie_security': {}, 'uses_https': True}\nTest duration: 0.626s\n"}, "teardown": {"duration": 0.0009064000005309936, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_032_https_certificate_validation_real", "lineno": 450, "outcome": "passed", "keywords": ["test_032_https_certificate_validation_real", "asyncio", "pytestmark", "TestHighSecurity", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006084999986342154, "outcome": "passed"}, "call": {"duration": 0.5208830000010494, "outcome": "passed", "stdout": "\u2713 HSTS header found on /health\n\u2713 X-Content-Type-Options protection on /health\n\u2713 X-Frame-Options protection on /health\n\u2713 HSTS header found on /api/health\n\u2713 X-Content-Type-Options protection on /api/health\n\u2713 X-Frame-Options protection on /api/health\n\u2713 HSTS header found on /api/discovery/services\n\u2713 X-Content-Type-Options protection on /api/discovery/services\n\u2713 X-Frame-Options protection on /api/discovery/services\n\u2713 HTTP to HTTPS redirect configured\nHTTPS certificate validation results:\n  /health: {'status': 200, 'tls_version': 'unknown', 'headers': {'strict-transport-security': 'max-age=86400; includeSubDomains', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'referrer-policy': 'strict-origin-when-cross-origin'}, 'security_score': 3}\n  /api/health: {'status': 200, 'tls_version': 'unknown', 'headers': {'strict-transport-security': 'max-age=86400; includeSubDomains', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'referrer-policy': 'strict-origin-when-cross-origin'}, 'security_score': 3}\n  /api/discovery/services: {'status': 200, 'tls_version': 'unknown', 'headers': {'strict-transport-security': 'max-age=86400; includeSubDomains', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'referrer-policy': 'strict-origin-when-cross-origin'}, 'security_score': 3}\n  http_redirect: {'status': 301, 'location': 'https://api.staging.netrasystems.ai:443/health', 'redirects_to_https': True}\nTest duration: 0.524s\n"}, "teardown": {"duration": 0.000989200001640711, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_033_cors_policy_real", "lineno": 529, "outcome": "passed", "keywords": ["test_033_cors_policy_real", "asyncio", "pytestmark", "TestHighSecurity", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.0006257999993977137, "outcome": "passed"}, "call": {"duration": 1.7247836000024108, "outcome": "passed", "stdout": "\u2713 CORS allows legitimate origin https://app.staging.netrasystems.ai on /api/health\n\u2713 CORS allows legitimate origin https://app.staging.netrasystems.ai on /api/discovery/services\n\u2713 CORS allows legitimate origin https://app.staging.netrasystems.ai on /api/messages\n\u2713 CORS allows legitimate origin https://app.staging.netrasystems.ai on /api/threads\nCORS policy test results:\n  /api/health:\n    https://app.netrasystems.ai: status=400, allows=True\n    https://app.staging.netrasystems.ai: status=200, allows=True\n    https://localhost:3000: status=400, allows=True\n    https://malicious-site.com: status=400, allows=True\n  /api/discovery/services:\n    https://app.netrasystems.ai: status=400, allows=True\n    https://app.staging.netrasystems.ai: status=200, allows=True\n    https://localhost:3000: status=400, allows=True\n    https://malicious-site.com: status=400, allows=True\n  /api/messages:\n    https://app.netrasystems.ai: status=400, allows=True\n    https://app.staging.netrasystems.ai: status=200, allows=True\n    https://localhost:3000: status=400, allows=True\n    https://malicious-site.com: status=400, allows=True\n  /api/threads:\n    https://app.netrasystems.ai: status=400, allows=True\n    https://app.staging.netrasystems.ai: status=200, allows=True\n    https://localhost:3000: status=400, allows=True\n    https://malicious-site.com: status=400, allows=True\nTest duration: 1.724s\n"}, "teardown": {"duration": 0.001041100000293227, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_034_rate_limiting_real", "lineno": 610, "outcome": "passed", "keywords": ["test_034_rate_limiting_real", "asyncio", "pytestmark", "TestHighSecurity", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.023194500001409324, "outcome": "passed"}, "call": {"duration": 9.82355269999971, "outcome": "passed", "stdout": "Rate limiting test results:\n  /health: 25 requests, rate_limited=False\n  /api/health: 25 requests, rate_limited=False\n  /api/discovery/services: 25 requests, rate_limited=False\nTest duration: 9.823s\n"}, "teardown": {"duration": 0.001089100001991028, "outcome": "passed"}}, {"nodeid": "tests/e2e/staging/test_priority2_high.py::TestHighSecurity::test_035_websocket_security_real", "lineno": 701, "outcome": "passed", "keywords": ["test_035_websocket_security_real", "asyncio", "pytestmark", "TestHighSecurity", "test_priority2_high.py", "staging", "high", "real", "e2e", "tests", "netra-core-generation-1", ""], "setup": {"duration": 0.008034300000872463, "outcome": "passed"}, "call": {"duration": 0.5447957000033057, "outcome": "passed", "stdout": "\u2713 WebSocket uses secure protocol (wss://)\n\u2713 WebSocket properly enforces authentication\nWebSocket security test results:\n  secure_protocol: True\n  auth_enforcement: {'connection_allowed': True, 'message_sent': True, 'response': 'error_message', 'auth_required': True}\n  general_error: BaseEventLoop.create_connection() got an unexpected keyword argument 'extra_headers'\nTest duration: 0.544s\n"}, "teardown": {"duration": 0.0011378999988664873, "outcome": "passed"}}], "warnings": [{"message": "websockets.exceptions.InvalidStatusCode is deprecated", "category": "DeprecationWarning", "when": "runtest", "filename": "C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\tests\\e2e\\staging\\test_priority1_critical_REAL.py", "lineno": 65}, {"message": "websockets.legacy is deprecated; see https://websockets.readthedocs.io/en/stable/howto/upgrade.html for upgrade instructions", "category": "DeprecationWarning", "when": "runtest", "filename": "C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\legacy\\__init__.py", "lineno": 6}, {"message": "websockets.exceptions.InvalidStatusCode is deprecated", "category": "DeprecationWarning", "when": "runtest", "filename": "C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\tests\\e2e\\staging\\test_priority2_high.py", "lineno": 801}]}