# Staging Environment Configuration Template
# 
# IMPORTANT: This is a TEMPLATE file. DO NOT commit actual secrets to git.
# 
# To use this file:
# 1. Copy this file to .env.staging (which is gitignored)
# 2. Most secrets will be loaded from Google Secrets Manager automatically
# 3. Only set values here for local testing or override purposes
#
# In staging/production, secrets are loaded from Google Secrets Manager.
# The values below are placeholders or defaults that will be overridden.

# Environment Setting
ENVIRONMENT=staging

# Database Configuration 
# These values are loaded from Google Secrets Manager in staging
POSTGRES_HOST=/cloudsql/netra-staging:us-central1:staging-shared-postgres
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
# POSTGRES_PASSWORD is loaded from Google Secret: postgres-password-staging

# Redis Configuration  
# REDIS_PASSWORD is loaded from Google Secret: redis-password-staging
REDIS_URL=redis://staging-redis.netrasystems.ai:6379/0
REDIS_REQUIRED=true
REDIS_FALLBACK_ENABLED=false

# ClickHouse Configuration
# CLICKHOUSE_PASSWORD is loaded from Google Secret: clickhouse-password
CLICKHOUSE_URL=clickhouse://default:@xedvrr4c3r.us-central1.gcp.clickhouse.cloud:8443/default?secure=1
CLICKHOUSE_HOST=xedvrr4c3r.us-central1.gcp.clickhouse.cloud
CLICKHOUSE_PORT=8443
CLICKHOUSE_USERNAME=default
CLICKHOUSE_USER=default
CLICKHOUSE_DB=default
CLICKHOUSE_SECURE=true
CLICKHOUSE_TIMEOUT=30

# Service Configuration
SERVER_PORT=8080
LOG_LEVEL=INFO

# Authentication Configuration 
# These secrets are loaded from Google Secrets Manager:
# - JWT_SECRET_KEY from jwt-secret-key
# - FERNET_KEY from fernet-key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7
JWT_SERVICE_EXPIRY_MINUTES=60

# Feature Flags for Staging
SKIP_MIGRATION_ON_STARTUP=false
ENABLE_STARTUP_CHECKS=true
STARTUP_CHECK_TIMEOUT=30

# API Configuration for Staging
API_BASE_URL=https://api.staging.netrasystems.ai
WS_BASE_URL=wss://api.staging.netrasystems.ai/ws
FRONTEND_URL=https://app.staging.netrasystems.ai

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://app.staging.netrasystems.ai,https://api.staging.netrasystems.ai

# Health Check Configuration
HEALTH_CHECK_GRACE_PERIOD=60
HEALTH_CHECK_MAX_RETRIES=5

# Google Cloud Configuration
# Project IDs and service account credentials are set automatically in GCP environments
GCP_PROJECT_ID=netra-staging
GCP_PROJECT_ID_NUMERICAL_STAGING=701982941522

# =============================================================================
# SECRETS LOADED FROM GOOGLE SECRETS MANAGER
# =============================================================================
# The following secrets are automatically loaded from Google Secrets Manager
# when running in staging/production environments. Do NOT set them here.
#
# Database Secrets:
# - POSTGRES_PASSWORD (from postgres-password-staging)
# 
# Cache/Storage Secrets:
# - REDIS_PASSWORD (from redis-password-staging)
# - CLICKHOUSE_PASSWORD (from clickhouse-password)
#
# Authentication Secrets:
# - JWT_SECRET_KEY (from jwt-secret-key)
# - JWT_SECRET (from jwt-secret-key)
# - FERNET_KEY (from fernet-key)
#
# OAuth Secrets:
# - GOOGLE_CLIENT_ID (from google-client-id)
# - GOOGLE_CLIENT_SECRET (from google-client-secret)
#
# AI/LLM API Keys:
# - ANTHROPIC_API_KEY (from anthropic-api-key)
# - OPENAI_API_KEY (from openai-api-key)
# - GEMINI_API_KEY (from gemini-api-key)
#
# Monitoring:
# - LANGFUSE_PUBLIC_KEY (from langfuse-public-key)
# - LANGFUSE_SECRET_KEY (from langfuse-secret-key)
# =============================================================================