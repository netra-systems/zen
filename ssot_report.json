{
  "total_violations": 15,
  "compliance_score": 98.68536371603857,
  "timestamp": "2025-09-14 11:21:31",
  "violations_by_type": {
    "clickhouse_ssot_violation": 4,
    "test_file_size": 11
  },
  "violations": [
    {
      "file_path": "netra_backend/app/db/clickhouse_client.py",
      "violation_type": "clickhouse_ssot_violation",
      "severity": "critical",
      "line_number": null,
      "function_name": null,
      "actual_value": "duplicate client file",
      "expected_value": "file should not exist",
      "description": "Duplicate ClickHouse client file exists: netra_backend/app/db/clickhouse_client.py",
      "fix_suggestion": "Remove this file and use get_clickhouse_client() from netra_backend/app/db/clickhouse.py",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\app\\db\\clickhouse.py",
      "violation_type": "clickhouse_ssot_violation",
      "severity": "critical",
      "line_number": null,
      "function_name": null,
      "actual_value": "duplicate client class",
      "expected_value": "single canonical implementation",
      "description": "ClickHouse client class defined outside canonical location",
      "fix_suggestion": "Move functionality to netra_backend/app/db/clickhouse.py",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\app\\db\\clickhouse_backup.py",
      "violation_type": "clickhouse_ssot_violation",
      "severity": "critical",
      "line_number": null,
      "function_name": null,
      "actual_value": "duplicate client class",
      "expected_value": "single canonical implementation",
      "description": "ClickHouse client class defined outside canonical location",
      "fix_suggestion": "Move functionality to netra_backend/app/db/clickhouse.py",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\app\\factories\\clickhouse_factory.py",
      "violation_type": "clickhouse_ssot_violation",
      "severity": "critical",
      "line_number": null,
      "function_name": null,
      "actual_value": "duplicate client class",
      "expected_value": "single canonical implementation",
      "description": "ClickHouse client class defined outside canonical location",
      "fix_suggestion": "Move functionality to netra_backend/app/db/clickhouse.py",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "tests\\unified_test_runner.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 4668,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 16 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\unit\\db\\test_database_manager_comprehensive.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 4287,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 15 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\integration\\websocket_state_machine\\test_core_state_machine_integration.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 4033,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 14 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "tests\\mission_critical\\test_websocket_agent_events_suite.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3593,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 12 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\unit\\agents\\supervisor\\test_execution_engine_comprehensive.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3524,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 12 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "tests\\mission_critical\\test_docker_lifecycle_management.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3321,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 12 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "tests\\mission_critical\\test_chat_responsiveness_under_load.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3206,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 11 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\integration\\test_thread_switching_agent_execution_integration.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3200,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 11 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\unit\\websocket_core\\test_websocket_manager_race_conditions.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3196,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 11 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "netra_backend\\tests\\unit\\core\\managers\\test_unified_lifecycle_manager_comprehensive.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3110,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 11 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    },
    {
      "file_path": "tests\\mission_critical\\test_staging_auth_cross_service_validation.py",
      "violation_type": "test_file_size",
      "severity": "high",
      "line_number": null,
      "function_name": null,
      "actual_value": 3048,
      "expected_value": 300,
      "description": "Test file exceeds 300 line limit (SPEC/testing.xml)",
      "fix_suggestion": "Split into 11 focused test modules",
      "business_impact": null,
      "remediation_timeline": null,
      "category": null
    }
  ],
  "summary": {
    "total_files_checked": 1141,
    "files_with_violations": 15,
    "max_file_lines": 500,
    "max_function_lines": 25,
    "compliance_score": 98.68536371603857
  },
  "category_scores": {
    "real_system": {
      "violations": 0,
      "files_with_violations": 0,
      "total_files": 865,
      "score": 100.0
    },
    "test_files": {
      "violations": 11,
      "files_with_violations": 11,
      "total_files": 276,
      "score": 96.01449275362319
    },
    "other": {
      "violations": 4,
      "files_with_violations": 4,
      "total_files": 0,
      "score": 100.0
    }
  }
}