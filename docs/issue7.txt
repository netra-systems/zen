[BACKEND] 2025-08-15 13:58:23.806 | INFO     | app.agents.triage_sub_agent.agent:_log_performance_metrics:270 | Triage completed for run_id run_11ba16d6-033a-4932-964d-647aac292cd6: category=unknown, confidence=0.8, duration=12805ms, cache_hit=False
[BACKEND] 2025-08-15 13:58:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Attempting to create workload_events table
[BACKEND] ✅ 2025-08-15 13:58:24.492 | INFO     | app.core.unified_logging:_emit_log:117 | Successfully created workload_events table
[BACKEND] ❌ 2025-08-15 13:58:24.893 | ERROR    | app.core.unified_logging:_emit_log:115 | ClickHouse query failed: HTTPDriver for https://clickhouse_host_url_placeholder:8443 received ClickHouse error code 386
[BACKEND] ❌  Code: 386. DB::Exception: There is no supertype for types Array(Float64), Float64 because some of them are Array and some of them are not: In scope SELECT *, arrayFirstIndex(x -> (x = 'latency_ms'), metrics.name) AS idx, arrayFirstIndex(x -> (x = 'throughput'), metrics.name) AS idx2, arrayFirstIndex(x -> (x = 'cost_cents'), metrics.name) AS idx3, if(idx > 0, metrics.value[idx], 0.) AS metric_value, if(idx2 > 0, metrics.value[idx2], 0.) AS throughput_value, if(idx3 > 0, metrics.value[idx3], 0.) AS cost_value, idx > 0 AS has_latency, idx2 > 0 AS has_throughput, idx3 > 0 AS has_cost FROM workload_events WHERE (user_id = 1) AND (timestamp >= '2025-08-14T20:58:23.809078+00:00') AND (timestamp <= '2025-08-15T20:58:23.809078+00:00'). (NO_COMMON_TYPE) (version 25.6.2.5781 (official build))
[BACKEND] 2025-08-15 13:58:25.197 | INFO     | app.core.unified_logging:_emit_log:117 | Attempting to create workload_events table
[BACKEND] ✅ 2025-08-15 13:58:25.270 | INFO     | app.core.unified_logging:_emit_log:117 | Successfully created workload_events table
[BACKEND] ❌ 2025-08-15 13:58:25.655 | ERROR    | app.core.unified_logging:_emit_log:115 | ClickHouse query failed: HTTPDriver for https://clickhouse_host_url_placeholder:8443 received ClickHouse error code 386
[BACKEND] ❌  Code: 386. DB::Exception: There is no supertype for types Array(Float64), Float64 because some of them are Array and some of them are not: In scope SELECT *, arrayFirstIndex(x -> (x = 'cost_cents'), metrics.name) AS idx, if(idx > 0, metrics.value[idx], 0.) AS cost_value, idx > 0 AS has_cost FROM workload_events WHERE (user_id = 1) AND (timestamp >= (now() - toIntervalDay(7))). (NO_COMMON_TYPE) (version 25.6.2.5781 (official build))