# Netra Production Environment Configuration Template
# CRITICAL: Production requires maximum security - all secrets MUST use Secret Manager
# Last Updated: 2025-09-05

# ============================================
# ENVIRONMENT IDENTIFICATION
# ============================================
ENVIRONMENT=production

# ============================================
# CRITICAL OAUTH CONFIGURATION - PRODUCTION
# ============================================
# SECURITY: Production MUST have dedicated OAuth credentials
# Each environment MUST have separate OAuth credentials
# NEVER share with any other environment
# Configure OAuth app redirect URI to: https://auth.netrasystems.ai/auth/callback
GOOGLE_OAUTH_CLIENT_ID_PRODUCTION=production-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET_PRODUCTION=use-secret-manager-only

# GitHub OAuth (if enabled)
GITHUB_CLIENT_ID_PRODUCTION=production-github-client-id
GITHUB_CLIENT_SECRET_PRODUCTION=use-secret-manager-only

# ============================================
# JWT CONFIGURATION - PRODUCTION
# ============================================
# CRITICAL: MUST use Secret Manager - NEVER hardcode
JWT_SECRET_PRODUCTION=use-secret-manager-only-minimum-64-chars
SECRET_KEY=use-secret-manager-only-minimum-64-chars

# ============================================
# DATABASE CONFIGURATION - PRODUCTION
# ============================================
# REQUIRED: Use Cloud SQL with private IP
DATABASE_HOST=use-cloud-sql-private-ip
DATABASE_PORT=5432
DATABASE_NAME=netra_production
DATABASE_USER=netra_prod_user
DATABASE_PASSWORD=use-secret-manager-only

# Alternative names (for compatibility)
POSTGRES_HOST=${DATABASE_HOST}
POSTGRES_PORT=${DATABASE_PORT}
POSTGRES_DB=${DATABASE_NAME}
POSTGRES_USER=${DATABASE_USER}
POSTGRES_PASSWORD=${DATABASE_PASSWORD}

# ============================================
# REDIS CONFIGURATION - PRODUCTION
# ============================================
# REQUIRED: Use Memorystore with private IP
REDIS_HOST=use-memorystore-private-ip
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=use-secret-manager-only

# ============================================
# SERVICE URLS - PRODUCTION
# ============================================
# CRITICAL: Use production domain names only
FRONTEND_URL=https://app.netrasystems.ai
BACKEND_URL=https://api.netrasystems.ai
AUTH_SERVICE_URL=https://auth.netrasystems.ai
AUTH_REDIRECT_URI=https://auth.netrasystems.ai/auth/callback
AUTH_CALLBACK_URL=https://auth.netrasystems.ai/auth/callback

# ============================================
# LLM CONFIGURATION - PRODUCTION
# ============================================
# REQUIRED: Production API keys from Secret Manager
GEMINI_API_KEY=use-secret-manager-only
ANTHROPIC_API_KEY=use-secret-manager-only
OPENAI_API_KEY=use-secret-manager-only
PERPLEXITY_API_KEY=use-secret-manager-only

# ============================================
# SECURITY CONFIGURATION - PRODUCTION
# ============================================
# CRITICAL: All security keys from Secret Manager
SERVICE_SECRET=use-secret-manager-only-minimum-64-chars
FERNET_KEY=use-secret-manager-only

# ============================================
# MONITORING & ANALYTICS - PRODUCTION
# ============================================
# REQUIRED: Production monitoring is critical
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/PROD/WEBHOOK
SLACK_CHANNEL=#production-alerts
LANGSMITH_API_KEY=use-secret-manager-only
LANGSMITH_PROJECT=netra-production
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
MIXPANEL_PROJECT_TOKEN=production-mixpanel-token
MIXPANEL_API_SECRET=use-secret-manager-only
SENTRY_DSN=https://prod-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# ============================================
# AWS CONFIGURATION - PRODUCTION
# ============================================
# Use Workload Identity Federation or Service Account
AWS_ACCESS_KEY_ID=use-workload-identity
AWS_SECRET_ACCESS_KEY=use-workload-identity
AWS_S3_BUCKET=netra-production-uploads
AWS_REGION=us-east-1

# ============================================
# EMAIL CONFIGURATION - PRODUCTION
# ============================================
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=use-secret-manager-only
EMAIL_USE_TLS=true
EMAIL_FROM_ADDRESS=noreply@netrasystems.ai

# ============================================
# PRODUCTION FLAGS
# ============================================
# CRITICAL: Production security settings
DEBUG=false
LOG_LEVEL=WARNING
ALLOW_DEV_OAUTH_SIMULATION=false
RATE_LIMIT_ENABLED=true
CORS_ORIGINS=https://app.netrasystems.ai
ALLOWED_HOSTS=.netrasystems.ai

# ============================================
# GCP SPECIFIC - PRODUCTION
# ============================================
GCP_PROJECT=netra-production
GCP_REGION=us-central1
# Use Workload Identity - no service account file
GOOGLE_APPLICATION_CREDENTIALS=

# ============================================
# PRODUCTION SCALING
# ============================================
# Auto-scaling parameters
MIN_INSTANCES=2
MAX_INSTANCES=100
TARGET_CPU_UTILIZATION=60
TARGET_MEMORY_UTILIZATION=70
REQUEST_TIMEOUT=300

# ============================================
# BACKUP & DISASTER RECOVERY
# ============================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
DISASTER_RECOVERY_ENABLED=true

# ============================================
# CRITICAL PRODUCTION NOTES
# ============================================
# 1. ALL sensitive values MUST use GCP Secret Manager
# 2. NEVER hardcode any credentials in this file
# 3. NEVER use staging/dev/test credentials in production
# 4. Enable all monitoring and alerting services
# 5. Use private IPs for database and cache connections
# 6. Enable rate limiting and security features
# 7. Regular security audits required
# 8. Backup and disaster recovery must be configured
# 9. See CONFIG_REGRESSION_PREVENTION_PLAN.md for security guidance
# 10. Review OAUTH_REGRESSION_ANALYSIS_20250905.md before OAuth changes
#
# DEPLOYMENT CHECKLIST:
# [ ] All secrets in Secret Manager
# [ ] OAuth credentials are production-only
# [ ] Database using private IP
# [ ] Redis using private IP
# [ ] Monitoring configured
# [ ] Alerting configured
# [ ] Backup configured
# [ ] Rate limiting enabled
# [ ] Security headers configured
# [ ] SSL certificates valid