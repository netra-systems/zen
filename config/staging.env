# Staging Environment Configuration
# This file defines environment variables for staging deployments

# Environment Setting
ENVIRONMENT=staging

# Database Configuration
# Cloud SQL connection via Unix socket - DO NOT use localhost
# The DATABASE_URL will be set by GitHub Actions based on PR number

# Redis Configuration  
# Staging uses a shared Redis instance with database separation by PR
# The REDIS_URL will be set by GitHub Actions

# ClickHouse Configuration (if needed for staging)
CLICKHOUSE_URL=clickhouse://default:@xedvrr4c3r.us-central1.gcp.clickhouse.cloud:8443/default?secure=1
CLICKHOUSE_HOST=xedvrr4c3r.us-central1.gcp.clickhouse.cloud
CLICKHOUSE_PORT=8443
CLICKHOUSE_USERNAME=default
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=default
CLICKHOUSE_SECURE=true
CLICKHOUSE_TIMEOUT=30

# Redis Configuration - Required in staging
REDIS_REQUIRED=true
REDIS_FALLBACK_ENABLED=false

# Service Configuration
SERVER_PORT=8080
LOG_LEVEL=INFO

# Authentication Configuration (staging defaults)
# These will be overridden by GitHub Actions secrets in actual deployment
# CRITICAL: These are proper 32+ character secrets for staging deployment
SECRET_KEY=MNirOcTwpRfPUhpMHB7n6VOTCD3ggxgWlC8n3ZyZIuE
JWT_SECRET_KEY=ypjQVx4Qc8KPoLo5vo6krIExkTUde8uMf64FeRoQOlpsHpNZlY8KQvo9M59UhJS4l7RWse5UbcH8VikAkG373g
JWT_SECRET=ypjQVx4Qc8KPoLo5vo6krIExkTUde8uMf64FeRoQOlpsHpNZlY8KQvo9M59UhJS4l7RWse5UbcH8VikAkG373g
FERNET_KEY=pbQTBDr9qfDGaNTc9GjtJOAvx9q5zPKAtpf45e1xcJo=

# JWT Configuration - Consistent across all services
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7
JWT_SERVICE_EXPIRY_MINUTES=60

# Feature Flags for Staging
SKIP_MIGRATION_ON_STARTUP=false
ENABLE_STARTUP_CHECKS=true
STARTUP_CHECK_TIMEOUT=30

# API Configuration for Staging
API_BASE_URL=https://api.staging.netrasystems.ai
WS_BASE_URL=wss://api.staging.netrasystems.ai/ws
FRONTEND_URL=https://app.staging.netrasystems.ai

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://app.staging.netrasystems.ai,https://api.staging.netrasystems.ai

# Health Check Configuration
HEALTH_CHECK_GRACE_PERIOD=60
HEALTH_CHECK_MAX_RETRIES=5

# Google OAuth Configuration (staging)
# These will be set from GCP Secret Manager in deployment
GOOGLE_CLIENT_ID=REPLACE_WITH_GOOGLE_CLIENT_ID_FOR_STAGING
GOOGLE_CLIENT_SECRET=REPLACE_WITH_GOOGLE_CLIENT_SECRET_FOR_STAGING
GOOGLE_OAUTH_CLIENT_ID_STAGING=REPLACE_WITH_GOOGLE_CLIENT_ID_FOR_STAGING
GOOGLE_OAUTH_CLIENT_SECRET_STAGING=REPLACE_WITH_GOOGLE_CLIENT_SECRET_FOR_STAGING

# OAuth Configuration
OAUTH_REDIRECT_URI=https://auth.staging.netrasystems.ai/oauth/callback
OAUTH_CALLBACK_URL=https://auth.staging.netrasystems.ai/oauth/callback