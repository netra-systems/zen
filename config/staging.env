# Staging Environment Configuration
# This file defines environment variables for staging deployments

# Environment Setting
ENVIRONMENT=staging

# Database Configuration
# Cloud SQL connection via Unix socket - DO NOT use localhost
# The DATABASE_URL will be set by GitHub Actions based on PR number

# Redis Configuration  
# Staging uses a shared Redis instance with database separation by PR
# The REDIS_URL will be set by GitHub Actions

# ClickHouse Configuration (if needed for staging)
CLICKHOUSE_URL=clickhouse://default:@staging-clickhouse.netrasystems.ai:8443/default?secure=1
CLICKHOUSE_HOST=staging-clickhouse.netrasystems.ai
CLICKHOUSE_PORT=8443
CLICKHOUSE_SECURE=true
CLICKHOUSE_TIMEOUT=30

# Service Configuration
SERVER_PORT=8080
LOG_LEVEL=INFO

# Authentication Configuration (staging defaults)
# These will be overridden by GitHub Actions secrets in actual deployment
JWT_SECRET_KEY=staging-jwt-secret-key-should-be-replaced-in-deployment
JWT_SECRET=staging-jwt-secret-key-should-be-replaced-in-deployment
FERNET_KEY=staging-fernet-key-should-be-replaced-in-deployment

# JWT Configuration - Consistent across all services
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7
JWT_SERVICE_EXPIRY_MINUTES=60

# Feature Flags for Staging
SKIP_MIGRATION_ON_STARTUP=false
ENABLE_STARTUP_CHECKS=true
STARTUP_CHECK_TIMEOUT=30

# API Configuration for Staging
API_BASE_URL=https://api.staging.netrasystems.ai
WS_BASE_URL=wss://api.staging.netrasystems.ai/ws
FRONTEND_URL=https://app.staging.netrasystems.ai

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://app.staging.netrasystems.ai,https://api.staging.netrasystems.ai

# Health Check Configuration
HEALTH_CHECK_GRACE_PERIOD=60
HEALTH_CHECK_MAX_RETRIES=5