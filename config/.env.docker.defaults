# Docker Test Environment Defaults
# These settings optimize for memory efficiency and stability

# Use shared Docker environments by default (reduces resource usage)
TEST_USE_SHARED_DOCKER=true

# Use production-optimized images by default (90% memory reduction)
TEST_USE_PRODUCTION_IMAGES=true

# Docker restart rate limiting
DOCKER_RESTART_COOLDOWN=30
DOCKER_MAX_RESTART_ATTEMPTS=3

# Memory limits (production defaults)
BACKEND_MEMORY_LIMIT=1024m
FRONTEND_MEMORY_LIMIT=256m
AUTH_MEMORY_LIMIT=512m
POSTGRES_MEMORY_LIMIT=512m
REDIS_MEMORY_LIMIT=256m
CLICKHOUSE_MEMORY_LIMIT=512m

# Test environment memory limits (even lower)
TEST_BACKEND_MEMORY_LIMIT=512m
TEST_FRONTEND_MEMORY_LIMIT=128m
TEST_AUTH_MEMORY_LIMIT=256m
TEST_POSTGRES_MEMORY_LIMIT=256m
TEST_REDIS_MEMORY_LIMIT=128m
TEST_CLICKHOUSE_MEMORY_LIMIT=256m

# Docker environment cleanup
DOCKER_ENV_MAX_AGE_HOURS=4
DOCKER_CLEANUP_ON_EXIT=true

# Performance tuning
DOCKER_BUILD_CACHE=true
DOCKER_PARALLEL_BUILDS=2
DOCKER_NETWORK_MODE=bridge