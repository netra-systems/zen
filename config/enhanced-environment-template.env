# Enhanced Environment Configuration Template for PR-G
# Configuration improvements for Docker, deployment, and service integration

# =============================================================================
# CORE SYSTEM CONFIGURATION
# =============================================================================

# Application Environment
NODE_ENV=development
PYTHON_ENV=development
ENVIRONMENT=development

# Application Settings
APP_NAME=netra-apex
APP_VERSION=1.0.0
DEBUG_MODE=true
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION 
# =============================================================================

# PostgreSQL Configuration
DATABASE_URL=postgresql://netra_user:netra_password@localhost:5432/netra_dev
DB_HOST=localhost
DB_PORT=5432
DB_NAME=netra_dev
DB_USER=netra_user
DB_PASSWORD=netra_password
DB_SSL_MODE=prefer

# Connection Pool Settings (Enhanced for PR-G)
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10
DB_POOL_TIMEOUT=30
DB_CONNECTION_TIMEOUT=10

# Redis Configuration  
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis Connection Pool Settings (Enhanced for PR-G)
REDIS_POOL_MAX_CONNECTIONS=20
REDIS_POOL_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5

# ClickHouse Configuration
CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_DATABASE=netra_analytics
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Backend Service
BACKEND_HOST=localhost
BACKEND_PORT=8000
BACKEND_URL=http://localhost:8000

# Auth Service
AUTH_SERVICE_HOST=localhost  
AUTH_SERVICE_PORT=8001
AUTH_SERVICE_URL=http://localhost:8001

# Frontend Service
FRONTEND_HOST=localhost
FRONTEND_PORT=3000
FRONTEND_URL=http://localhost:3000

# Analytics Service
ANALYTICS_SERVICE_HOST=localhost
ANALYTICS_SERVICE_PORT=8002
ANALYTICS_SERVICE_URL=http://localhost:8002

# =============================================================================
# WEBSOCKET CONFIGURATION (Enhanced for PR-G)
# =============================================================================

# WebSocket Settings
WEBSOCKET_HOST=localhost
WEBSOCKET_PORT=8000
WEBSOCKET_PATH=/ws
WEBSOCKET_URL=ws://localhost:8000/ws

# Connection Settings
WEBSOCKET_TIMEOUT=30
WEBSOCKET_PING_INTERVAL=20
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_CLOSE_TIMEOUT=10

# Advanced WebSocket Settings (PR-G Enhancements)
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_MAX_MESSAGE_SIZE=65536
WEBSOCKET_COMPRESSION_ENABLED=true
WEBSOCKET_HEARTBEAT_ENABLED=true

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth Configuration
OAUTH_GOOGLE_CLIENT_ID=your-google-client-id
OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
OAUTH_GITHUB_CLIENT_ID=your-github-client-id
OAUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# Session Configuration (Enhanced for PR-G)
SESSION_SECRET_KEY=your-session-secret-key
SESSION_TIMEOUT_MINUTES=60
SESSION_REFRESH_THRESHOLD_MINUTES=15
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true

# =============================================================================
# DOCKER CONFIGURATION (PR-G Docker Path Fixes)
# =============================================================================

# Docker Build Settings
DOCKERFILE_DIR=./dockerfiles
DOCKER_BUILD_CONTEXT=.
DOCKER_REGISTRY=ghcr.io/netra-systems

# Service Images
BACKEND_IMAGE=netra-backend:latest
AUTH_SERVICE_IMAGE=netra-auth:latest
FRONTEND_IMAGE=netra-frontend:latest
ANALYTICS_IMAGE=netra-analytics:latest

# Docker Compose Settings
COMPOSE_PROJECT_NAME=netra-apex
COMPOSE_FILE=docker-compose.yml

# =============================================================================
# RESOURCE CONFIGURATION (PR-G Performance Optimization)
# =============================================================================

# Memory Settings
MAX_MEMORY_MB=512
HEAP_SIZE_MB=256
GC_MAX_HEAP_SIZE=75

# CPU Settings  
CPU_LIMIT=1.0
CPU_REQUEST=0.5

# File System Settings
MAX_FILE_SIZE_MB=10
TEMP_DIR=/tmp/netra
LOG_DIR=./logs

# =============================================================================
# MONITORING AND LOGGING CONFIGURATION
# =============================================================================

# Logging Settings
LOG_FORMAT=json
LOG_FILE=./logs/netra.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# Health Check Settings (Enhanced for PR-G)
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_RETRIES=3

# Metrics Settings
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization
CORS_CREDENTIALS=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=true
HSTS_ENABLED=false

# Rate Limiting (Enhanced for PR-G)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
RATE_LIMIT_WINDOW_MINUTES=1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_ANALYTICS=true
ENABLE_CACHING=true
ENABLE_WEBSOCKET_COMPRESSION=true
ENABLE_METRICS_COLLECTION=true
ENABLE_HEALTH_CHECKS=true

# Debug Features
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_PROFILING=false
ENABLE_REQUEST_LOGGING=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# AI/LLM Services
OPENAI_API_KEY=your-openai-api-key
OPENAI_API_BASE=https://api.openai.com/v1
ANTHROPIC_API_KEY=your-anthropic-api-key

# Email Service
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_USE_TLS=true

# Cloud Services
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2

# =============================================================================
# ENVIRONMENT SPECIFIC OVERRIDES
# =============================================================================

# Development Specific Settings
# Uncomment for development environment
# DB_HOST=localhost
# REDIS_HOST=localhost
# DEBUG_MODE=true
# LOG_LEVEL=DEBUG

# Staging Specific Settings  
# Uncomment for staging environment
# DB_HOST=staging-db-host
# REDIS_HOST=staging-redis-host
# DEBUG_MODE=false
# LOG_LEVEL=INFO

# Production Specific Settings
# Uncomment for production environment
# DB_HOST=production-db-host
# REDIS_HOST=production-redis-host
# DEBUG_MODE=false
# LOG_LEVEL=WARNING
# SESSION_COOKIE_SECURE=true

# =============================================================================
# CONFIGURATION VALIDATION NOTES
# =============================================================================

# PR-G Configuration Improvements:
# 1. Docker path fixes (docker/ â†’ dockerfiles/)
# 2. Enhanced connection pooling settings
# 3. WebSocket performance optimization
# 4. Resource allocation configuration
# 5. Security settings enhancement
# 6. Monitoring and health check settings
# 7. Environment-specific configuration sections

# IMPORTANT: 
# - Replace all placeholder values with actual configuration
# - Use strong, unique passwords and secrets in production
# - Review security settings for production deployment
# - Test configuration in staging before production deployment